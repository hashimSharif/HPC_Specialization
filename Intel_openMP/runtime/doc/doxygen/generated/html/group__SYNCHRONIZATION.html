<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LLVM OpenMP* Runtime Library: Synchronization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LLVM OpenMP* Runtime Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Synchronization</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga90f0e4bf417a06cff2a4f895daa4ff37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#ga90f0e4bf417a06cff2a4f895daa4ff37">__kmpc_flush</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc)</td></tr>
<tr class="separator:ga90f0e4bf417a06cff2a4f895daa4ff37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84b2ebeef737395dddd8ef446c071760"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#ga84b2ebeef737395dddd8ef446c071760">__kmpc_barrier</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc, kmp_int32 global_tid)</td></tr>
<tr class="separator:ga84b2ebeef737395dddd8ef446c071760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacea2959cabb92c4a941087e524c5f3d5"><td class="memItemLeft" align="right" valign="top">kmp_int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#gacea2959cabb92c4a941087e524c5f3d5">__kmpc_barrier_master</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc, kmp_int32 global_tid)</td></tr>
<tr class="separator:gacea2959cabb92c4a941087e524c5f3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35415691dad1e3430caa78c9d4b34cb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#ga35415691dad1e3430caa78c9d4b34cb3">__kmpc_end_barrier_master</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc, kmp_int32 global_tid)</td></tr>
<tr class="separator:ga35415691dad1e3430caa78c9d4b34cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a51fa2c8f61d807895e377d6c732b16"><td class="memItemLeft" align="right" valign="top">kmp_int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#ga5a51fa2c8f61d807895e377d6c732b16">__kmpc_barrier_master_nowait</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc, kmp_int32 global_tid)</td></tr>
<tr class="separator:ga5a51fa2c8f61d807895e377d6c732b16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc5438d4c4f01dcd347d9bfde27f68e1"><td class="memItemLeft" align="right" valign="top">kmp_int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#gafc5438d4c4f01dcd347d9bfde27f68e1">__kmpc_reduce_nowait</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc, kmp_int32 global_tid, kmp_int32 num_vars, size_t reduce_size, <a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *reduce_data, <a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>(*reduce_func)(<a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *lhs_data, <a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *rhs_data), <a class="el" href="kmp_8h.html#ac3fc9c92929f696709b178ffe0854839">kmp_critical_name</a> *lck)</td></tr>
<tr class="separator:gafc5438d4c4f01dcd347d9bfde27f68e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c40184c6babbe35c50d43a47573c5c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#ga5c40184c6babbe35c50d43a47573c5c5">__kmpc_end_reduce_nowait</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc, kmp_int32 global_tid, <a class="el" href="kmp_8h.html#ac3fc9c92929f696709b178ffe0854839">kmp_critical_name</a> *lck)</td></tr>
<tr class="separator:ga5c40184c6babbe35c50d43a47573c5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a08af1c559012315e7e5be69f7fe608"><td class="memItemLeft" align="right" valign="top">kmp_int32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#ga6a08af1c559012315e7e5be69f7fe608">__kmpc_reduce</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc, kmp_int32 global_tid, kmp_int32 num_vars, size_t reduce_size, <a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *reduce_data, <a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>(*reduce_func)(<a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *lhs_data, <a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *rhs_data), <a class="el" href="kmp_8h.html#ac3fc9c92929f696709b178ffe0854839">kmp_critical_name</a> *lck)</td></tr>
<tr class="separator:ga6a08af1c559012315e7e5be69f7fe608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ead7ca8fe9886581c216ca8006ae3c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SYNCHRONIZATION.html#ga2ead7ca8fe9886581c216ca8006ae3c9">__kmpc_end_reduce</a> (<a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *loc, kmp_int32 global_tid, <a class="el" href="kmp_8h.html#ac3fc9c92929f696709b178ffe0854839">kmp_critical_name</a> *lck)</td></tr>
<tr class="separator:ga2ead7ca8fe9886581c216ca8006ae3c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions are used for implementing barriers. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga84b2ebeef737395dddd8ef446c071760"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> __kmpc_barrier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>global_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information </td></tr>
    <tr><td class="paramname">global_tid</td><td>thread id.</td></tr>
  </table>
  </dd>
</dl>
<p>Execute a barrier. </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l00697">697</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>

<p>Referenced by <a class="el" href="kmp__cancel_8cpp.html#ad9df98c9cc81f24f8aa58d83c1d01245">__kmpc_cancel_barrier()</a>, and <a class="el" href="kmp__gsupport_8c.html#aeda68f7b2abfa6b176e9b479f315c662">KMP_API_NAME_GOMP_BARRIER()</a>.</p>
<div class="fragment"><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;{</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="group__STATS__GATHERING.html#ga7fa64ec62947bf0b97f3f4778dd22196">KMP_COUNT_BLOCK</a>(OMP_BARRIER);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="group__STATS__GATHERING.html#ga62f4b6e3a4ba48c04b172b97df137839">KMP_TIME_BLOCK</a>(OMP_barrier);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a>( 10, (<span class="stringliteral">&quot;__kmpc_barrier: called T#%d\n&quot;</span>, global_tid ) );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a>(<a class="code" href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a>))</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <a class="code" href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a>();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> ) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">if</span> ( loc == 0 ) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <a class="code" href="kmp__i18n_8h.html#a5aeb48e92a07c52661a33ec3fcee938f">KMP_WARNING</a>( ConstructIdentInvalid ); <span class="comment">// ??? What does it mean for the user?</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        }; <span class="comment">// if</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <a class="code" href="kmp__error_8c.html#abb3f10ea6dadb00a31da4ee423370b51">__kmp_check_barrier</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d">ct_barrier</a>, loc );</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a>[ global_tid ]-&gt;th.th_ident = loc;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// TODO: explicit barrier_wait_id:</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">//   this function is called when &#39;barrier&#39; directive is present or</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">//   implicit barrier at the end of a worksharing construct.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// 1) better to add a per-thread barrier counter to a thread data structure</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// 2) set to 0 when a new team is created</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// 4) no sync is required</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a>( <a class="code" href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a>, global_tid, <a class="code" href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 0, NULL, NULL );</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
<div class="ttc" id="kmp__error_8c_html_abb3f10ea6dadb00a31da4ee423370b51"><div class="ttname"><a href="kmp__error_8c.html#abb3f10ea6dadb00a31da4ee423370b51">__kmp_check_barrier</a></div><div class="ttdeci">void __kmp_check_barrier(int gtid, enum cons_type ct, ident_t const *ident)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00494">kmp_error.c:494</a></div></div>
<div class="ttc" id="group__STATS__GATHERING_html_ga62f4b6e3a4ba48c04b172b97df137839"><div class="ttname"><a href="group__STATS__GATHERING.html#ga62f4b6e3a4ba48c04b172b97df137839">KMP_TIME_BLOCK</a></div><div class="ttdeci">#define KMP_TIME_BLOCK(name)</div><div class="ttdoc">Uses specified timer (name) to time code block. </div><div class="ttdef"><b>Definition:</b> <a href="kmp__stats_8h_source.html#l00628">kmp_stats.h:628</a></div></div>
<div class="ttc" id="kmp_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01088">kmp.h:1088</a></div></div>
<div class="ttc" id="group__STATS__GATHERING_html_ga7fa64ec62947bf0b97f3f4778dd22196"><div class="ttname"><a href="group__STATS__GATHERING.html#ga7fa64ec62947bf0b97f3f4778dd22196">KMP_COUNT_BLOCK</a></div><div class="ttdeci">#define KMP_COUNT_BLOCK(name)</div><div class="ttdoc">Increments specified counter (name). </div><div class="ttdef"><b>Definition:</b> <a href="kmp__stats_8h_source.html#l00653">kmp_stats.h:653</a></div></div>
<div class="ttc" id="kmp__os_8h_html_acd6256e4afba32d90997235fc0a38a74"><div class="ttname"><a href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a></div><div class="ttdeci">#define TCR_4(a)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__os_8h_source.html#l00597">kmp_os.h:597</a></div></div>
<div class="ttc" id="kmp_8h_html_a8ba907eb5a2568ff55a49a1504cd3624"><div class="ttname"><a href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a></div><div class="ttdeci">kmp_info_t ** __kmp_threads</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00360">kmp_global.c:360</a></div></div>
<div class="ttc" id="kmp_8h_html_a2db240b744f3af1eb8413df50dbe6118"><div class="ttname"><a href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a></div><div class="ttdeci">int __kmp_barrier(enum barrier_type bt, int gtid, int is_split, size_t reduce_size, void *reduce_data, void(*reduce)(void *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="kmp__barrier_8cpp_source.html#l01047">kmp_barrier.cpp:1047</a></div></div>
<div class="ttc" id="kmp_8h_html_aa23ece0d05f38387c8a8441aaad368df"><div class="ttname"><a href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a></div><div class="ttdeci">volatile int __kmp_init_parallel</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00048">kmp_global.c:48</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_ab49eefbf8c74cfe98a90ce7ec8864add"><div class="ttname"><a href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a></div><div class="ttdeci">#define KC_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00112">kmp_debug.h:112</a></div></div>
<div class="ttc" id="kmp_8h_html_ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051"><div class="ttname"><a href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01738">kmp.h:1738</a></div></div>
<div class="ttc" id="kmp_8h_html_ab4062d4f566c901230e51490a8819ba0"><div class="ttname"><a href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a></div><div class="ttdeci">int __kmp_env_consistency_check</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00334">kmp_global.c:334</a></div></div>
<div class="ttc" id="kmp__i18n_8h_html_a5aeb48e92a07c52661a33ec3fcee938f"><div class="ttname"><a href="kmp__i18n_8h.html#a5aeb48e92a07c52661a33ec3fcee938f">KMP_WARNING</a></div><div class="ttdeci">#define KMP_WARNING(...)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__i18n_8h_source.html#l00156">kmp_i18n.h:156</a></div></div>
<div class="ttc" id="kmp_8h_html_a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d"><div class="ttname"><a href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d">ct_barrier</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01178">kmp.h:1178</a></div></div>
<div class="ttc" id="kmp_8h_html_a9c18846c648d84276b9dd5a1d650ab04"><div class="ttname"><a href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a></div><div class="ttdeci">void __kmp_parallel_initialize(void)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__runtime_8c_source.html#l06736">kmp_runtime.c:6736</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gacea2959cabb92c4a941087e524c5f3d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kmp_int32 __kmpc_barrier_master </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>global_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information </td></tr>
    <tr><td class="paramname">global_tid</td><td>thread id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>one if the thread should execute the master block, zero otherwise</dd></dl>
<p>Start execution of a combined barrier and master. The barrier is executed inside this function. </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l01377">1377</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;{</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="kmp__i18n_8c.html#a43c2a109a79fef7e46a0836cdac679ff">status</a>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a>( 10, (<span class="stringliteral">&quot;__kmpc_barrier_master: called T#%d\n&quot;</span>, global_tid ) );</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a>(<a class="code" href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a>))</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <a class="code" href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a>();</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> )</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <a class="code" href="kmp__error_8c.html#abb3f10ea6dadb00a31da4ee423370b51">__kmp_check_barrier</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d">ct_barrier</a>, loc );</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="preprocessor">#if USE_ITT_NOTIFY</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="preprocessor"></span>    <a class="code" href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a>[global_tid]-&gt;th.th_ident = loc;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="preprocessor"></span>    status = <a class="code" href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a>( <a class="code" href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a>, global_tid, <a class="code" href="kmp_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, 0, NULL, NULL );</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">return</span> (status != 0) ? 0 : 1;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;}</div>
<div class="ttc" id="kmp_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="kmp_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01089">kmp.h:1089</a></div></div>
<div class="ttc" id="kmp__i18n_8c_html_a43c2a109a79fef7e46a0836cdac679ff"><div class="ttname"><a href="kmp__i18n_8c.html#a43c2a109a79fef7e46a0836cdac679ff">status</a></div><div class="ttdeci">static volatile kmp_i18n_cat_status_t status</div><div class="ttdef"><b>Definition:</b> <a href="kmp__i18n_8c_source.html#l00050">kmp_i18n.c:50</a></div></div>
<div class="ttc" id="kmp__error_8c_html_abb3f10ea6dadb00a31da4ee423370b51"><div class="ttname"><a href="kmp__error_8c.html#abb3f10ea6dadb00a31da4ee423370b51">__kmp_check_barrier</a></div><div class="ttdeci">void __kmp_check_barrier(int gtid, enum cons_type ct, ident_t const *ident)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00494">kmp_error.c:494</a></div></div>
<div class="ttc" id="kmp__os_8h_html_acd6256e4afba32d90997235fc0a38a74"><div class="ttname"><a href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a></div><div class="ttdeci">#define TCR_4(a)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__os_8h_source.html#l00597">kmp_os.h:597</a></div></div>
<div class="ttc" id="kmp_8h_html_a8ba907eb5a2568ff55a49a1504cd3624"><div class="ttname"><a href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a></div><div class="ttdeci">kmp_info_t ** __kmp_threads</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00360">kmp_global.c:360</a></div></div>
<div class="ttc" id="kmp_8h_html_a2db240b744f3af1eb8413df50dbe6118"><div class="ttname"><a href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a></div><div class="ttdeci">int __kmp_barrier(enum barrier_type bt, int gtid, int is_split, size_t reduce_size, void *reduce_data, void(*reduce)(void *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="kmp__barrier_8cpp_source.html#l01047">kmp_barrier.cpp:1047</a></div></div>
<div class="ttc" id="kmp_8h_html_aa23ece0d05f38387c8a8441aaad368df"><div class="ttname"><a href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a></div><div class="ttdeci">volatile int __kmp_init_parallel</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00048">kmp_global.c:48</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_ab49eefbf8c74cfe98a90ce7ec8864add"><div class="ttname"><a href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a></div><div class="ttdeci">#define KC_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00112">kmp_debug.h:112</a></div></div>
<div class="ttc" id="kmp_8h_html_ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051"><div class="ttname"><a href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01738">kmp.h:1738</a></div></div>
<div class="ttc" id="kmp_8h_html_ab4062d4f566c901230e51490a8819ba0"><div class="ttname"><a href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a></div><div class="ttdeci">int __kmp_env_consistency_check</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00334">kmp_global.c:334</a></div></div>
<div class="ttc" id="kmp_8h_html_a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d"><div class="ttname"><a href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d">ct_barrier</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01178">kmp.h:1178</a></div></div>
<div class="ttc" id="kmp_8h_html_a9c18846c648d84276b9dd5a1d650ab04"><div class="ttname"><a href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a></div><div class="ttdeci">void __kmp_parallel_initialize(void)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__runtime_8c_source.html#l06736">kmp_runtime.c:6736</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5a51fa2c8f61d807895e377d6c732b16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kmp_int32 __kmpc_barrier_master_nowait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>global_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information </td></tr>
    <tr><td class="paramname">global_tid</td><td>thread id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>one if the thread should execute the master block, zero otherwise</dd></dl>
<p>Start execution of a combined barrier and master(nowait) construct. The barrier is executed inside this function. There is no equivalent "end" function, since the </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l01425">1425</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;{</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    kmp_int32 ret;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <a class="code" href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a>( 10, (<span class="stringliteral">&quot;__kmpc_barrier_master_nowait: called T#%d\n&quot;</span>, global_tid ));</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a>(<a class="code" href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a>))</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <a class="code" href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a>();</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> ) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordflow">if</span> ( loc == 0 ) {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            <a class="code" href="kmp__i18n_8h.html#a5aeb48e92a07c52661a33ec3fcee938f">KMP_WARNING</a>( ConstructIdentInvalid ); <span class="comment">// ??? What does it mean for the user?</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <a class="code" href="kmp__error_8c.html#abb3f10ea6dadb00a31da4ee423370b51">__kmp_check_barrier</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d">ct_barrier</a>, loc );</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    }</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="preprocessor">#if USE_ITT_NOTIFY</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="preprocessor"></span>    <a class="code" href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a>[global_tid]-&gt;th.th_ident = loc;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="preprocessor"></span>    <a class="code" href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a>( <a class="code" href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a>, global_tid, <a class="code" href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 0, NULL, NULL );</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    ret = <a class="code" href="group__WORK__SHARING.html#ga721f06c8017479ccc6cb46ae0552b597">__kmpc_master</a> (loc, global_tid);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> ) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="comment">/*  there&#39;s no __kmpc_end_master called; so the (stats) */</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">/*  actions of __kmpc_end_master are done here          */</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">if</span> ( global_tid &lt; 0 ) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;            <a class="code" href="kmp__i18n_8h.html#a5aeb48e92a07c52661a33ec3fcee938f">KMP_WARNING</a>( ThreadIdentInvalid );</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <span class="keywordflow">if</span> (ret) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            <span class="comment">/* only one thread should do the pop since only */</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            <span class="comment">/* one did the push (see __kmpc_master())       */</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            <a class="code" href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315abbe9a0bdd5b77c93738f62c52bae513f">ct_master</a>, loc );</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordflow">return</span> (ret);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;}</div>
<div class="ttc" id="group__WORK__SHARING_html_ga721f06c8017479ccc6cb46ae0552b597"><div class="ttname"><a href="group__WORK__SHARING.html#ga721f06c8017479ccc6cb46ae0552b597">__kmpc_master</a></div><div class="ttdeci">kmp_int32 __kmpc_master(ident_t *loc, kmp_int32 global_tid)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l00733">kmp_csupport.c:733</a></div></div>
<div class="ttc" id="kmp__error_8c_html_abb3f10ea6dadb00a31da4ee423370b51"><div class="ttname"><a href="kmp__error_8c.html#abb3f10ea6dadb00a31da4ee423370b51">__kmp_check_barrier</a></div><div class="ttdeci">void __kmp_check_barrier(int gtid, enum cons_type ct, ident_t const *ident)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00494">kmp_error.c:494</a></div></div>
<div class="ttc" id="kmp_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01088">kmp.h:1088</a></div></div>
<div class="ttc" id="kmp__os_8h_html_acd6256e4afba32d90997235fc0a38a74"><div class="ttname"><a href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a></div><div class="ttdeci">#define TCR_4(a)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__os_8h_source.html#l00597">kmp_os.h:597</a></div></div>
<div class="ttc" id="kmp_8h_html_a1582e7ddc609220a660d10244ef3e315abbe9a0bdd5b77c93738f62c52bae513f"><div class="ttname"><a href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315abbe9a0bdd5b77c93738f62c52bae513f">ct_master</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01176">kmp.h:1176</a></div></div>
<div class="ttc" id="kmp_8h_html_a8ba907eb5a2568ff55a49a1504cd3624"><div class="ttname"><a href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a></div><div class="ttdeci">kmp_info_t ** __kmp_threads</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00360">kmp_global.c:360</a></div></div>
<div class="ttc" id="kmp_8h_html_a2db240b744f3af1eb8413df50dbe6118"><div class="ttname"><a href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a></div><div class="ttdeci">int __kmp_barrier(enum barrier_type bt, int gtid, int is_split, size_t reduce_size, void *reduce_data, void(*reduce)(void *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="kmp__barrier_8cpp_source.html#l01047">kmp_barrier.cpp:1047</a></div></div>
<div class="ttc" id="kmp_8h_html_aa23ece0d05f38387c8a8441aaad368df"><div class="ttname"><a href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a></div><div class="ttdeci">volatile int __kmp_init_parallel</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00048">kmp_global.c:48</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_ab49eefbf8c74cfe98a90ce7ec8864add"><div class="ttname"><a href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a></div><div class="ttdeci">#define KC_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00112">kmp_debug.h:112</a></div></div>
<div class="ttc" id="kmp_8h_html_ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051"><div class="ttname"><a href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01738">kmp.h:1738</a></div></div>
<div class="ttc" id="kmp_8h_html_ab4062d4f566c901230e51490a8819ba0"><div class="ttname"><a href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a></div><div class="ttdeci">int __kmp_env_consistency_check</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00334">kmp_global.c:334</a></div></div>
<div class="ttc" id="kmp__i18n_8h_html_a5aeb48e92a07c52661a33ec3fcee938f"><div class="ttname"><a href="kmp__i18n_8h.html#a5aeb48e92a07c52661a33ec3fcee938f">KMP_WARNING</a></div><div class="ttdeci">#define KMP_WARNING(...)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__i18n_8h_source.html#l00156">kmp_i18n.h:156</a></div></div>
<div class="ttc" id="kmp_8h_html_a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d"><div class="ttname"><a href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315ad94538ba658a409b239d438839b0652d">ct_barrier</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01178">kmp.h:1178</a></div></div>
<div class="ttc" id="kmp__error_8c_html_ab716717d70650eeeb205b057232d7c1c"><div class="ttname"><a href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a></div><div class="ttdeci">void __kmp_pop_sync(int gtid, enum cons_type ct, ident_t const *ident)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00463">kmp_error.c:463</a></div></div>
<div class="ttc" id="kmp_8h_html_a9c18846c648d84276b9dd5a1d650ab04"><div class="ttname"><a href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a></div><div class="ttdeci">void __kmp_parallel_initialize(void)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__runtime_8c_source.html#l06736">kmp_runtime.c:6736</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga35415691dad1e3430caa78c9d4b34cb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> __kmpc_end_barrier_master </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>global_tid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information </td></tr>
    <tr><td class="paramname">global_tid</td><td>thread id.</td></tr>
  </table>
  </dd>
</dl>
<p>Complete the execution of a combined barrier and master. This function should only be called at the completion of the <code>master</code> code. Other threads will still be waiting at the barrier and this call releases them. </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l01407">1407</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>

<p>Referenced by <a class="el" href="kmp__taskq_8c.html#a313550c1dd105735672fdb6a4d562317">__kmp_enqueue_task()</a>.</p>
<div class="fragment"><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;{</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <a class="code" href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a>( 10, (<span class="stringliteral">&quot;__kmpc_end_barrier_master: called T#%d\n&quot;</span>, global_tid ));</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="kmp_8h.html#a792560d2e886584b5e616ee68d1c5f8a">__kmp_end_split_barrier</a> ( <a class="code" href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a>, global_tid );</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;}</div>
<div class="ttc" id="kmp_8h_html_a792560d2e886584b5e616ee68d1c5f8a"><div class="ttname"><a href="kmp_8h.html#a792560d2e886584b5e616ee68d1c5f8a">__kmp_end_split_barrier</a></div><div class="ttdeci">void __kmp_end_split_barrier(enum barrier_type bt, int gtid)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__barrier_8cpp_source.html#l01305">kmp_barrier.cpp:1305</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_ab49eefbf8c74cfe98a90ce7ec8864add"><div class="ttname"><a href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a></div><div class="ttdeci">#define KC_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00112">kmp_debug.h:112</a></div></div>
<div class="ttc" id="kmp_8h_html_ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051"><div class="ttname"><a href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01738">kmp.h:1738</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2ead7ca8fe9886581c216ca8006ae3c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> __kmpc_end_reduce </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>global_tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kmp_8h.html#ac3fc9c92929f696709b178ffe0854839">kmp_critical_name</a> *&#160;</td>
          <td class="paramname"><em>lck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information </td></tr>
    <tr><td class="paramname">global_tid</td><td>global thread id. </td></tr>
    <tr><td class="paramname">lck</td><td>pointer to the unique lock data structure</td></tr>
  </table>
  </dd>
</dl>
<p>Finish the execution of a blocking reduce. The <code>lck</code> pointer must be the same as that used in the corresponding start function. </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l02947">2947</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;                                                                                {</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <a class="code" href="kmp_8h.html#a79cdcd03cc0f2498719630411d56ef84">PACKED_REDUCTION_METHOD_T</a> packed_reduction_method;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    <a class="code" href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a>( 10, ( <span class="stringliteral">&quot;__kmpc_end_reduce() enter: called T#%d\n&quot;</span>, global_tid ) );</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    packed_reduction_method = <a class="code" href="kmp__csupport_8c.html#a1f238c550ed76a4c6ce263adba8c3524">__KMP_GET_REDUCTION_METHOD</a>( global_tid );</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <span class="comment">// this barrier should be visible to a customer and to the threading profile tool</span></div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="comment">//              (it&#39;s a terminating barrier on constructs if NOWAIT not specified)</span></div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e">critical_reduce_block</a> ) {</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;        <a class="code" href="kmp__csupport_8c.html#a601983b17f27442206a77b8781579708">__kmp_end_critical_section_reduce_block</a>( loc, global_tid, lck );</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;        <span class="comment">// TODO: implicit barrier: should be exposed</span></div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;<span class="preprocessor">#if USE_ITT_NOTIFY</span></div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;<span class="preprocessor"></span>        <a class="code" href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a>[global_tid]-&gt;th.th_ident = loc;</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;<span class="preprocessor"></span>        <a class="code" href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a>( <a class="code" href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a>, global_tid, <a class="code" href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 0, NULL, NULL );</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5">empty_reduce_block</a> ) {</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;        <span class="comment">// usage: if team size == 1, no synchronization is required ( Intel platforms only )</span></div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;        <span class="comment">// TODO: implicit barrier: should be exposed</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;<span class="preprocessor">#if USE_ITT_NOTIFY</span></div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<span class="preprocessor"></span>        <a class="code" href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a>[global_tid]-&gt;th.th_ident = loc;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<span class="preprocessor"></span>        <a class="code" href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a>( <a class="code" href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a>, global_tid, <a class="code" href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 0, NULL, NULL );</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b">atomic_reduce_block</a> ) {</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;        <span class="comment">// TODO: implicit barrier: should be exposed</span></div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;<span class="preprocessor">#if USE_ITT_NOTIFY</span></div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;<span class="preprocessor"></span>        <a class="code" href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a>[global_tid]-&gt;th.th_ident = loc;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;<span class="preprocessor"></span>        <a class="code" href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a>( <a class="code" href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a>, global_tid, <a class="code" href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, 0, NULL, NULL );</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="kmp_8h.html#a8e31af7b50c35efd630502d8cbe89cd3">TEST_REDUCTION_METHOD</a>( packed_reduction_method, <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973">tree_reduce_block</a> ) ) {</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;        <span class="comment">// only master executes here (master releases all other workers)</span></div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;        <a class="code" href="kmp_8h.html#a792560d2e886584b5e616ee68d1c5f8a">__kmp_end_split_barrier</a>( <a class="code" href="kmp_8h.html#a1ccb73b52bdd6146311ed40707c69b9a">UNPACK_REDUCTION_BARRIER</a>( packed_reduction_method ), global_tid );</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;        <span class="comment">// should never reach this block</span></div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        <a class="code" href="kmp__debug_8h.html#a5323a368e8ba273b17c46906dd9ec78c">KMP_ASSERT</a>( 0 ); <span class="comment">// &quot;unexpected method&quot;</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    }</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> )</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        <a class="code" href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc );</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <a class="code" href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a>( 10, ( <span class="stringliteral">&quot;__kmpc_end_reduce() exit: called T#%d: method %08x\n&quot;</span>, global_tid, packed_reduction_method ) );</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;}</div>
<div class="ttc" id="kmp_8h_html_a792560d2e886584b5e616ee68d1c5f8a"><div class="ttname"><a href="kmp_8h.html#a792560d2e886584b5e616ee68d1c5f8a">__kmp_end_split_barrier</a></div><div class="ttdeci">void __kmp_end_split_barrier(enum barrier_type bt, int gtid)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__barrier_8cpp_source.html#l01305">kmp_barrier.cpp:1305</a></div></div>
<div class="ttc" id="kmp_8h_html_a1ccb73b52bdd6146311ed40707c69b9a"><div class="ttname"><a href="kmp_8h.html#a1ccb73b52bdd6146311ed40707c69b9a">UNPACK_REDUCTION_BARRIER</a></div><div class="ttdeci">#define UNPACK_REDUCTION_BARRIER(packed_reduction_method)</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00473">kmp.h:473</a></div></div>
<div class="ttc" id="kmp_8h_html_a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca"><div class="ttname"><a href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01177">kmp.h:1177</a></div></div>
<div class="ttc" id="kmp_8h_html_a79cdcd03cc0f2498719630411d56ef84"><div class="ttname"><a href="kmp_8h.html#a79cdcd03cc0f2498719630411d56ef84">PACKED_REDUCTION_METHOD_T</a></div><div class="ttdeci">int PACKED_REDUCTION_METHOD_T</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00497">kmp.h:497</a></div></div>
<div class="ttc" id="kmp_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01088">kmp.h:1088</a></div></div>
<div class="ttc" id="kmp__csupport_8c_html_a601983b17f27442206a77b8781579708"><div class="ttname"><a href="kmp__csupport_8c.html#a601983b17f27442206a77b8781579708">__kmp_end_critical_section_reduce_block</a></div><div class="ttdeci">static __forceinline void __kmp_end_critical_section_reduce_block(ident_t *loc, kmp_int32 global_tid, kmp_critical_name *crit)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l02610">kmp_csupport.c:2610</a></div></div>
<div class="ttc" id="kmp__csupport_8c_html_a1f238c550ed76a4c6ce263adba8c3524"><div class="ttname"><a href="kmp__csupport_8c.html#a1f238c550ed76a4c6ce263adba8c3524">__KMP_GET_REDUCTION_METHOD</a></div><div class="ttdeci">#define __KMP_GET_REDUCTION_METHOD(gtid)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l02541">kmp_csupport.c:2541</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973">tree_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00455">kmp.h:455</a></div></div>
<div class="ttc" id="kmp_8h_html_a8ba907eb5a2568ff55a49a1504cd3624"><div class="ttname"><a href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a></div><div class="ttdeci">kmp_info_t ** __kmp_threads</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00360">kmp_global.c:360</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5">empty_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00456">kmp.h:456</a></div></div>
<div class="ttc" id="kmp_8h_html_a2db240b744f3af1eb8413df50dbe6118"><div class="ttname"><a href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a></div><div class="ttdeci">int __kmp_barrier(enum barrier_type bt, int gtid, int is_split, size_t reduce_size, void *reduce_data, void(*reduce)(void *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="kmp__barrier_8cpp_source.html#l01047">kmp_barrier.cpp:1047</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e">critical_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00453">kmp.h:453</a></div></div>
<div class="ttc" id="kmp_8h_html_ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051"><div class="ttname"><a href="kmp_8h.html#ad0f7c21f2f1d446087ef5714eb0fd8cfa364ac8fcf1df87a7d5793a693f2e4051">bs_plain_barrier</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01738">kmp.h:1738</a></div></div>
<div class="ttc" id="kmp_8h_html_ab4062d4f566c901230e51490a8819ba0"><div class="ttname"><a href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a></div><div class="ttdeci">int __kmp_env_consistency_check</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00334">kmp_global.c:334</a></div></div>
<div class="ttc" id="kmp_8h_html_a8e31af7b50c35efd630502d8cbe89cd3"><div class="ttname"><a href="kmp_8h.html#a8e31af7b50c35efd630502d8cbe89cd3">TEST_REDUCTION_METHOD</a></div><div class="ttdeci">#define TEST_REDUCTION_METHOD(packed_reduction_method, which_reduction_block)</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00486">kmp.h:486</a></div></div>
<div class="ttc" id="kmp__error_8c_html_ab716717d70650eeeb205b057232d7c1c"><div class="ttname"><a href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a></div><div class="ttdeci">void __kmp_pop_sync(int gtid, enum cons_type ct, ident_t const *ident)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00463">kmp_error.c:463</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_a5323a368e8ba273b17c46906dd9ec78c"><div class="ttname"><a href="kmp__debug_8h.html#a5323a368e8ba273b17c46906dd9ec78c">KMP_ASSERT</a></div><div class="ttdeci">#define KMP_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00072">kmp_debug.h:72</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_a21d51f37cb197aca5ffe737531678830"><div class="ttname"><a href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a></div><div class="ttdeci">#define KA_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00110">kmp_debug.h:110</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b">atomic_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00454">kmp.h:454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5c40184c6babbe35c50d43a47573c5c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> __kmpc_end_reduce_nowait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>global_tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kmp_8h.html#ac3fc9c92929f696709b178ffe0854839">kmp_critical_name</a> *&#160;</td>
          <td class="paramname"><em>lck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information </td></tr>
    <tr><td class="paramname">global_tid</td><td>global thread id. </td></tr>
    <tr><td class="paramname">lck</td><td>pointer to the unique lock data structure</td></tr>
  </table>
  </dd>
</dl>
<p>Finish the execution of a reduce nowait. </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l02802">2802</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;                                                                                       {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <a class="code" href="kmp_8h.html#a79cdcd03cc0f2498719630411d56ef84">PACKED_REDUCTION_METHOD_T</a> packed_reduction_method;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <a class="code" href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a>( 10, ( <span class="stringliteral">&quot;__kmpc_end_reduce_nowait() enter: called T#%d\n&quot;</span>, global_tid ) );</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    packed_reduction_method = <a class="code" href="kmp__csupport_8c.html#a1f238c550ed76a4c6ce263adba8c3524">__KMP_GET_REDUCTION_METHOD</a>( global_tid );</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e">critical_reduce_block</a> ) {</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;        <a class="code" href="kmp__csupport_8c.html#a601983b17f27442206a77b8781579708">__kmp_end_critical_section_reduce_block</a>( loc, global_tid, lck );</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5">empty_reduce_block</a> ) {</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;        <span class="comment">// usage: if team size == 1, no synchronization is required ( on Intel platforms only )</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b">atomic_reduce_block</a> ) {</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        <span class="comment">// neither master nor other workers should get here</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;        <span class="comment">//     (code gen does not generate this call in case 2: atomic reduce block)</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;        <span class="comment">// actually it&#39;s better to remove this elseif at all;</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;        <span class="comment">// after removal this value will checked by the &#39;else&#39; and will assert</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="kmp_8h.html#a8e31af7b50c35efd630502d8cbe89cd3">TEST_REDUCTION_METHOD</a>( packed_reduction_method, <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973">tree_reduce_block</a> ) ) {</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        <span class="comment">// only master gets here</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        <span class="comment">// should never reach this block</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <a class="code" href="kmp__debug_8h.html#a5323a368e8ba273b17c46906dd9ec78c">KMP_ASSERT</a>( 0 ); <span class="comment">// &quot;unexpected method&quot;</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    }</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> )</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;        <a class="code" href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc );</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <a class="code" href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a>( 10, ( <span class="stringliteral">&quot;__kmpc_end_reduce_nowait() exit: called T#%d: method %08x\n&quot;</span>, global_tid, packed_reduction_method ) );</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;}</div>
<div class="ttc" id="kmp_8h_html_a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca"><div class="ttname"><a href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01177">kmp.h:1177</a></div></div>
<div class="ttc" id="kmp_8h_html_a79cdcd03cc0f2498719630411d56ef84"><div class="ttname"><a href="kmp_8h.html#a79cdcd03cc0f2498719630411d56ef84">PACKED_REDUCTION_METHOD_T</a></div><div class="ttdeci">int PACKED_REDUCTION_METHOD_T</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00497">kmp.h:497</a></div></div>
<div class="ttc" id="kmp__csupport_8c_html_a601983b17f27442206a77b8781579708"><div class="ttname"><a href="kmp__csupport_8c.html#a601983b17f27442206a77b8781579708">__kmp_end_critical_section_reduce_block</a></div><div class="ttdeci">static __forceinline void __kmp_end_critical_section_reduce_block(ident_t *loc, kmp_int32 global_tid, kmp_critical_name *crit)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l02610">kmp_csupport.c:2610</a></div></div>
<div class="ttc" id="kmp__csupport_8c_html_a1f238c550ed76a4c6ce263adba8c3524"><div class="ttname"><a href="kmp__csupport_8c.html#a1f238c550ed76a4c6ce263adba8c3524">__KMP_GET_REDUCTION_METHOD</a></div><div class="ttdeci">#define __KMP_GET_REDUCTION_METHOD(gtid)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l02541">kmp_csupport.c:2541</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973">tree_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00455">kmp.h:455</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5">empty_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00456">kmp.h:456</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e">critical_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00453">kmp.h:453</a></div></div>
<div class="ttc" id="kmp_8h_html_ab4062d4f566c901230e51490a8819ba0"><div class="ttname"><a href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a></div><div class="ttdeci">int __kmp_env_consistency_check</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00334">kmp_global.c:334</a></div></div>
<div class="ttc" id="kmp_8h_html_a8e31af7b50c35efd630502d8cbe89cd3"><div class="ttname"><a href="kmp_8h.html#a8e31af7b50c35efd630502d8cbe89cd3">TEST_REDUCTION_METHOD</a></div><div class="ttdeci">#define TEST_REDUCTION_METHOD(packed_reduction_method, which_reduction_block)</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00486">kmp.h:486</a></div></div>
<div class="ttc" id="kmp__error_8c_html_ab716717d70650eeeb205b057232d7c1c"><div class="ttname"><a href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a></div><div class="ttdeci">void __kmp_pop_sync(int gtid, enum cons_type ct, ident_t const *ident)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00463">kmp_error.c:463</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_a5323a368e8ba273b17c46906dd9ec78c"><div class="ttname"><a href="kmp__debug_8h.html#a5323a368e8ba273b17c46906dd9ec78c">KMP_ASSERT</a></div><div class="ttdeci">#define KMP_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00072">kmp_debug.h:72</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_a21d51f37cb197aca5ffe737531678830"><div class="ttname"><a href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a></div><div class="ttdeci">#define KA_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00110">kmp_debug.h:110</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b">atomic_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00454">kmp.h:454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga90f0e4bf417a06cff2a4f895daa4ff37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> __kmpc_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information.</td></tr>
  </table>
  </dd>
</dl>
<p>Execute <code>flush</code>. This is implemented as a full memory fence. (Though depending on the memory ordering convention obeyed by the compiler even that may not be necessary). </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l00631">631</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a>( 10, (<span class="stringliteral">&quot;__kmpc_flush: called\n&quot;</span> ) );</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">/* need explicit __mf() here since use volatile instead in library */</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="kmp__os_8h.html#ab19ae0836bf2f1ac24e5cfc97c6d7d41">KMP_MB</a>();       <span class="comment">/* Flush all pending memory write invalidates.  */</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="preprocessor">    #if ( KMP_ARCH_X86 || KMP_ARCH_X86_64 )</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="preprocessor"></span><span class="preprocessor">        #if KMP_MIC</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="preprocessor"></span>            <span class="comment">// fence-style instructions do not exist, but lock; xaddl $0,(%rsp) can be used.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="comment">// We shouldn&#39;t need it, though, since the ABI rules require that</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="comment">// * If the compiler generates NGO stores it also generates the fence</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="comment">// * If users hand-code NGO stores they should insert the fence</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <span class="comment">// therefore no incomplete unordered stores should be visible.</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="preprocessor">        #else</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="preprocessor"></span>            <span class="comment">// C74404</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="comment">// This is to address non-temporal store instructions (sfence needed).</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="comment">// The clflush instruction is addressed either (mfence needed).</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="comment">// Probably the non-temporal load monvtdqa instruction should also be addressed.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="comment">// mfence is a SSE2 instruction. Do not execute it if CPU is not SSE2.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordflow">if</span> ( ! <a class="code" href="kmp_8h.html#a9f43d4488c8be0593700cc5b778726b9">__kmp_cpuinfo</a>.<a class="code" href="structkmp__cpuinfo.html#a340553795a3c12f5f72d3333027dc1ef">initialized</a> ) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                __kmp_query_cpuid( &amp; <a class="code" href="kmp_8h.html#a9f43d4488c8be0593700cc5b778726b9">__kmp_cpuinfo</a> );</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            }; <span class="comment">// if</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keywordflow">if</span> ( ! <a class="code" href="kmp_8h.html#a9f43d4488c8be0593700cc5b778726b9">__kmp_cpuinfo</a>.<a class="code" href="structkmp__cpuinfo.html#a06952924c8236563056c13d3158c70dc">sse2</a> ) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="comment">// CPU cannot execute SSE2 instructions.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="preprocessor">                #if KMP_COMPILER_ICC || KMP_COMPILER_MSVC</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="preprocessor"></span>                _mm_mfence();</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="preprocessor">                #else</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor"></span>                __sync_synchronize();</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor">                #endif // KMP_COMPILER_ICC</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="preprocessor"></span>            }; <span class="comment">// if</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">        #endif // KMP_MIC</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #elif (KMP_ARCH_ARM || KMP_ARCH_AARCH64)</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="preprocessor"></span>        <span class="comment">// Nothing to see here move along</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="preprocessor">    #elif KMP_ARCH_PPC64</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor"></span>        <span class="comment">// Nothing needed here (we have a real MB above).</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="preprocessor">        #if KMP_OS_CNK</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="preprocessor"></span>        <span class="comment">// The flushing thread needs to yield here; this prevents a</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;       <span class="comment">// busy-waiting thread from saturating the pipeline. flush is</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;          <span class="comment">// often used in loops like this:</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;           <span class="comment">// while (!flag) {</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;           <span class="comment">//   #pragma omp flush(flag)</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;           <span class="comment">// }</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;       <span class="comment">// and adding the yield here is good for at least a 10x speedup</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          <span class="comment">// when running &gt;2 threads per core (on the NAS LU benchmark).</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <a class="code" href="kmp_8h.html#a699f282bc4bbcf04222893192f568e91">__kmp_yield</a>(<a class="code" href="kmp_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #else</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor"></span><span class="preprocessor">        #error Unknown or unsupported architecture</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="ttc" id="structkmp__cpuinfo_html_a340553795a3c12f5f72d3333027dc1ef"><div class="ttname"><a href="structkmp__cpuinfo.html#a340553795a3c12f5f72d3333027dc1ef">kmp_cpuinfo::initialized</a></div><div class="ttdeci">int initialized</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01232">kmp.h:1232</a></div></div>
<div class="ttc" id="kmp_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="kmp_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01089">kmp.h:1089</a></div></div>
<div class="ttc" id="structkmp__cpuinfo_html_a06952924c8236563056c13d3158c70dc"><div class="ttname"><a href="structkmp__cpuinfo.html#a06952924c8236563056c13d3158c70dc">kmp_cpuinfo::sse2</a></div><div class="ttdeci">int sse2</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01237">kmp.h:1237</a></div></div>
<div class="ttc" id="kmp_8h_html_a699f282bc4bbcf04222893192f568e91"><div class="ttname"><a href="kmp_8h.html#a699f282bc4bbcf04222893192f568e91">__kmp_yield</a></div><div class="ttdeci">void __kmp_yield(int cond)</div><div class="ttdef"><b>Definition:</b> <a href="z__Linux__util_8c_source.html#l01889">z_Linux_util.c:1889</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_ab49eefbf8c74cfe98a90ce7ec8864add"><div class="ttname"><a href="kmp__debug_8h.html#ab49eefbf8c74cfe98a90ce7ec8864add">KC_TRACE</a></div><div class="ttdeci">#define KC_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00112">kmp_debug.h:112</a></div></div>
<div class="ttc" id="kmp_8h_html_a9f43d4488c8be0593700cc5b778726b9"><div class="ttname"><a href="kmp_8h.html#a9f43d4488c8be0593700cc5b778726b9">__kmp_cpuinfo</a></div><div class="ttdeci">kmp_cpuinfo_t __kmp_cpuinfo</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00020">kmp_global.c:20</a></div></div>
<div class="ttc" id="kmp__os_8h_html_ab19ae0836bf2f1ac24e5cfc97c6d7d41"><div class="ttname"><a href="kmp__os_8h.html#ab19ae0836bf2f1ac24e5cfc97c6d7d41">KMP_MB</a></div><div class="ttdeci">#define KMP_MB()</div><div class="ttdef"><b>Definition:</b> <a href="kmp__os_8h_source.html#l00558">kmp_os.h:558</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga6a08af1c559012315e7e5be69f7fe608"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kmp_int32 __kmpc_reduce </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>global_tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>num_vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>reduce_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *&#160;</td>
          <td class="paramname"><em>reduce_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>(*)(<a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *lhs_data, <a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *rhs_data)&#160;</td>
          <td class="paramname"><em>reduce_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kmp_8h.html#ac3fc9c92929f696709b178ffe0854839">kmp_critical_name</a> *&#160;</td>
          <td class="paramname"><em>lck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information </td></tr>
    <tr><td class="paramname">global_tid</td><td>global thread number </td></tr>
    <tr><td class="paramname">num_vars</td><td>number of items (variables) to be reduced </td></tr>
    <tr><td class="paramname">reduce_size</td><td>size of data in bytes to be reduced </td></tr>
    <tr><td class="paramname">reduce_data</td><td>pointer to data to be reduced </td></tr>
    <tr><td class="paramname">reduce_func</td><td>callback function providing reduction operation on two operands and returning result of reduction in lhs_data </td></tr>
    <tr><td class="paramname">lck</td><td>pointer to the unique lock data structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 for the master thread, 0 for all other team threads, 2 for all team threads if atomic reduction needed</dd></dl>
<p>A blocking reduce that includes an implicit barrier. </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l02860">2860</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;{</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <a class="code" href="group__STATS__GATHERING.html#ga7fa64ec62947bf0b97f3f4778dd22196">KMP_COUNT_BLOCK</a>(REDUCE_wait);</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    <span class="keywordtype">int</span> retval = 0;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <a class="code" href="kmp_8h.html#a79cdcd03cc0f2498719630411d56ef84">PACKED_REDUCTION_METHOD_T</a> packed_reduction_method;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <a class="code" href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a>( 10, ( <span class="stringliteral">&quot;__kmpc_reduce() enter: called T#%d\n&quot;</span>, global_tid ) );</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <span class="comment">// why do we need this initialization here at all?</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    <span class="comment">// Reduction clause can not be a stand-alone directive.</span></div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <span class="comment">// do not call __kmp_serial_initialize(), it will be called by __kmp_parallel_initialize() if needed</span></div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    <span class="comment">// possible detection of false-positive race by the threadchecker ???</span></div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    <span class="keywordflow">if</span>( ! <a class="code" href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a>( <a class="code" href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a> ) )</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;        <a class="code" href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a>();</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <span class="comment">// check correctness of reduce block nesting</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;<span class="preprocessor">#if KMP_USE_DYNAMIC_LOCK</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> )</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;        <a class="code" href="kmp__error_8c.html#a17886697972a1ad707cb5797332a7229">__kmp_push_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc, NULL, 0 );</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> )</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;        <a class="code" href="kmp__error_8c.html#a17886697972a1ad707cb5797332a7229">__kmp_push_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc, NULL );</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    packed_reduction_method = <a class="code" href="kmp_8h.html#a7735d7d58a02a05dbfebda565f97c80c">__kmp_determine_reduction_method</a>( loc, global_tid, num_vars, reduce_size, reduce_data, reduce_func, lck );</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <a class="code" href="kmp__csupport_8c.html#a7a13f1fc7eb548d763de215bd7cdcf51">__KMP_SET_REDUCTION_METHOD</a>( global_tid, packed_reduction_method );</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e">critical_reduce_block</a> ) {</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;        <a class="code" href="kmp__csupport_8c.html#ad97140748ff9336db068d58f950a4850">__kmp_enter_critical_section_reduce_block</a>( loc, global_tid, lck );</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        retval = 1;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5">empty_reduce_block</a> ) {</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;        <span class="comment">// usage: if team size == 1, no synchronization is required ( Intel platforms only )</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;        retval = 1;</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b">atomic_reduce_block</a> ) {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;        retval = 2;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="kmp_8h.html#a8e31af7b50c35efd630502d8cbe89cd3">TEST_REDUCTION_METHOD</a>( packed_reduction_method, <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973">tree_reduce_block</a> ) ) {</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;        <span class="comment">//case tree_reduce_block:</span></div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        <span class="comment">// this barrier should be visible to a customer and to the threading profile tool</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;        <span class="comment">//              (it&#39;s a terminating barrier on constructs if NOWAIT not specified)</span></div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;<span class="preprocessor">#if USE_ITT_NOTIFY</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;<span class="preprocessor"></span>        <a class="code" href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a>[global_tid]-&gt;th.th_ident = loc; <span class="comment">// needed for correct notification of frames</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="preprocessor"></span>        retval = <a class="code" href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a>( <a class="code" href="kmp_8h.html#a1ccb73b52bdd6146311ed40707c69b9a">UNPACK_REDUCTION_BARRIER</a>( packed_reduction_method ), global_tid, <a class="code" href="kmp_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, reduce_size, reduce_data, reduce_func );</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;        retval = ( retval != 0 ) ? ( 0 ) : ( 1 );</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;        <span class="comment">// all other workers except master should do this pop here</span></div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;        <span class="comment">//     ( none of other workers except master will enter __kmpc_end_reduce() )</span></div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> ) {</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;            <span class="keywordflow">if</span>( retval == 0 ) { <span class="comment">// 0: all other workers; 1: master</span></div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;                <a class="code" href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc );</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;            }</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        }</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;        <span class="comment">// should never reach this block</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;        <a class="code" href="kmp__debug_8h.html#a5323a368e8ba273b17c46906dd9ec78c">KMP_ASSERT</a>( 0 ); <span class="comment">// &quot;unexpected method&quot;</span></div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    }</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <a class="code" href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a>( 10, ( <span class="stringliteral">&quot;__kmpc_reduce() exit: called T#%d: method %08x, returns %08x\n&quot;</span>, global_tid, packed_reduction_method, retval ) );</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;}</div>
<div class="ttc" id="kmp_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="kmp_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01089">kmp.h:1089</a></div></div>
<div class="ttc" id="kmp_8h_html_a1ccb73b52bdd6146311ed40707c69b9a"><div class="ttname"><a href="kmp_8h.html#a1ccb73b52bdd6146311ed40707c69b9a">UNPACK_REDUCTION_BARRIER</a></div><div class="ttdeci">#define UNPACK_REDUCTION_BARRIER(packed_reduction_method)</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00473">kmp.h:473</a></div></div>
<div class="ttc" id="kmp_8h_html_a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca"><div class="ttname"><a href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01177">kmp.h:1177</a></div></div>
<div class="ttc" id="kmp_8h_html_a79cdcd03cc0f2498719630411d56ef84"><div class="ttname"><a href="kmp_8h.html#a79cdcd03cc0f2498719630411d56ef84">PACKED_REDUCTION_METHOD_T</a></div><div class="ttdeci">int PACKED_REDUCTION_METHOD_T</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00497">kmp.h:497</a></div></div>
<div class="ttc" id="group__STATS__GATHERING_html_ga7fa64ec62947bf0b97f3f4778dd22196"><div class="ttname"><a href="group__STATS__GATHERING.html#ga7fa64ec62947bf0b97f3f4778dd22196">KMP_COUNT_BLOCK</a></div><div class="ttdeci">#define KMP_COUNT_BLOCK(name)</div><div class="ttdoc">Increments specified counter (name). </div><div class="ttdef"><b>Definition:</b> <a href="kmp__stats_8h_source.html#l00653">kmp_stats.h:653</a></div></div>
<div class="ttc" id="kmp__csupport_8c_html_ad97140748ff9336db068d58f950a4850"><div class="ttname"><a href="kmp__csupport_8c.html#ad97140748ff9336db068d58f950a4850">__kmp_enter_critical_section_reduce_block</a></div><div class="ttdeci">static __forceinline void __kmp_enter_critical_section_reduce_block(ident_t *loc, kmp_int32 global_tid, kmp_critical_name *crit)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l02549">kmp_csupport.c:2549</a></div></div>
<div class="ttc" id="kmp__csupport_8c_html_a7a13f1fc7eb548d763de215bd7cdcf51"><div class="ttname"><a href="kmp__csupport_8c.html#a7a13f1fc7eb548d763de215bd7cdcf51">__KMP_SET_REDUCTION_METHOD</a></div><div class="ttdeci">#define __KMP_SET_REDUCTION_METHOD(gtid, rmethod)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l02538">kmp_csupport.c:2538</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973">tree_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00455">kmp.h:455</a></div></div>
<div class="ttc" id="kmp_8h_html_a7735d7d58a02a05dbfebda565f97c80c"><div class="ttname"><a href="kmp_8h.html#a7735d7d58a02a05dbfebda565f97c80c">__kmp_determine_reduction_method</a></div><div class="ttdeci">PACKED_REDUCTION_METHOD_T __kmp_determine_reduction_method(ident_t *loc, kmp_int32 global_tid, kmp_int32 num_vars, size_t reduce_size, void *reduce_data, void(*reduce_func)(void *lhs_data, void *rhs_data), kmp_critical_name *lck)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__runtime_8c_source.html#l07544">kmp_runtime.c:7544</a></div></div>
<div class="ttc" id="kmp__os_8h_html_acd6256e4afba32d90997235fc0a38a74"><div class="ttname"><a href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a></div><div class="ttdeci">#define TCR_4(a)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__os_8h_source.html#l00597">kmp_os.h:597</a></div></div>
<div class="ttc" id="kmp_8h_html_a8ba907eb5a2568ff55a49a1504cd3624"><div class="ttname"><a href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a></div><div class="ttdeci">kmp_info_t ** __kmp_threads</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00360">kmp_global.c:360</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5">empty_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00456">kmp.h:456</a></div></div>
<div class="ttc" id="kmp_8h_html_a2db240b744f3af1eb8413df50dbe6118"><div class="ttname"><a href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a></div><div class="ttdeci">int __kmp_barrier(enum barrier_type bt, int gtid, int is_split, size_t reduce_size, void *reduce_data, void(*reduce)(void *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="kmp__barrier_8cpp_source.html#l01047">kmp_barrier.cpp:1047</a></div></div>
<div class="ttc" id="kmp_8h_html_aa23ece0d05f38387c8a8441aaad368df"><div class="ttname"><a href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a></div><div class="ttdeci">volatile int __kmp_init_parallel</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00048">kmp_global.c:48</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e">critical_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00453">kmp.h:453</a></div></div>
<div class="ttc" id="kmp_8h_html_ab4062d4f566c901230e51490a8819ba0"><div class="ttname"><a href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a></div><div class="ttdeci">int __kmp_env_consistency_check</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00334">kmp_global.c:334</a></div></div>
<div class="ttc" id="kmp_8h_html_a8e31af7b50c35efd630502d8cbe89cd3"><div class="ttname"><a href="kmp_8h.html#a8e31af7b50c35efd630502d8cbe89cd3">TEST_REDUCTION_METHOD</a></div><div class="ttdeci">#define TEST_REDUCTION_METHOD(packed_reduction_method, which_reduction_block)</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00486">kmp.h:486</a></div></div>
<div class="ttc" id="kmp__error_8c_html_a17886697972a1ad707cb5797332a7229"><div class="ttname"><a href="kmp__error_8c.html#a17886697972a1ad707cb5797332a7229">__kmp_push_sync</a></div><div class="ttdeci">void __kmp_push_sync(int gtid, enum cons_type ct, ident_t const *ident, kmp_user_lock_p lck)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00377">kmp_error.c:377</a></div></div>
<div class="ttc" id="kmp__error_8c_html_ab716717d70650eeeb205b057232d7c1c"><div class="ttname"><a href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a></div><div class="ttdeci">void __kmp_pop_sync(int gtid, enum cons_type ct, ident_t const *ident)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00463">kmp_error.c:463</a></div></div>
<div class="ttc" id="kmp_8h_html_a9c18846c648d84276b9dd5a1d650ab04"><div class="ttname"><a href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a></div><div class="ttdeci">void __kmp_parallel_initialize(void)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__runtime_8c_source.html#l06736">kmp_runtime.c:6736</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_a5323a368e8ba273b17c46906dd9ec78c"><div class="ttname"><a href="kmp__debug_8h.html#a5323a368e8ba273b17c46906dd9ec78c">KMP_ASSERT</a></div><div class="ttdeci">#define KMP_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00072">kmp_debug.h:72</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_a21d51f37cb197aca5ffe737531678830"><div class="ttname"><a href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a></div><div class="ttdeci">#define KA_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00110">kmp_debug.h:110</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b">atomic_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00454">kmp.h:454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gafc5438d4c4f01dcd347d9bfde27f68e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kmp_int32 __kmpc_reduce_nowait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BASIC__TYPES.html#ga690fda6b92f039a72db263c6b4394ddb">ident_t</a> *&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>global_tid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kmp_int32&#160;</td>
          <td class="paramname"><em>num_vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>reduce_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *&#160;</td>
          <td class="paramname"><em>reduce_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a>(*)(<a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *lhs_data, <a class="el" href="ittnotify__static_8h.html#af941d56e55e3c5465135b60c4d6343ed">void</a> *rhs_data)&#160;</td>
          <td class="paramname"><em>reduce_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kmp_8h.html#ac3fc9c92929f696709b178ffe0854839">kmp_critical_name</a> *&#160;</td>
          <td class="paramname"><em>lck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>source location information </td></tr>
    <tr><td class="paramname">global_tid</td><td>global thread number </td></tr>
    <tr><td class="paramname">num_vars</td><td>number of items (variables) to be reduced </td></tr>
    <tr><td class="paramname">reduce_size</td><td>size of data in bytes to be reduced </td></tr>
    <tr><td class="paramname">reduce_data</td><td>pointer to data to be reduced </td></tr>
    <tr><td class="paramname">reduce_func</td><td>callback function providing reduction operation on two operands and returning result of reduction in lhs_data </td></tr>
    <tr><td class="paramname">lck</td><td>pointer to the unique lock data structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 for the master thread, 0 for all other team threads, 2 for all team threads if atomic reduction needed</dd></dl>
<p>The nowait version is used for a reduce clause with the nowait argument. </p>

<p>Definition at line <a class="el" href="kmp__csupport_8c_source.html#l02663">2663</a> of file <a class="el" href="kmp__csupport_8c_source.html">kmp_csupport.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                             {</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <a class="code" href="group__STATS__GATHERING.html#ga7fa64ec62947bf0b97f3f4778dd22196">KMP_COUNT_BLOCK</a>(REDUCE_nowait);</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    <span class="keywordtype">int</span> retval = 0;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <a class="code" href="kmp_8h.html#a79cdcd03cc0f2498719630411d56ef84">PACKED_REDUCTION_METHOD_T</a> packed_reduction_method;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;<span class="preprocessor">#if OMP_40_ENABLED</span></div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;<span class="preprocessor"></span>    <a class="code" href="unionkmp__team.html">kmp_team_t</a> *team;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <a class="code" href="kmp_8h.html#a194859801fe16b326efe34501a37c30a">kmp_info_t</a> *th;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    <span class="keywordtype">int</span> teams_swapped = 0, task_state;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;<span class="preprocessor"></span>    <a class="code" href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a>( 10, ( <span class="stringliteral">&quot;__kmpc_reduce_nowait() enter: called T#%d\n&quot;</span>, global_tid ) );</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <span class="comment">// why do we need this initialization here at all?</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <span class="comment">// Reduction clause can not be used as a stand-alone directive.</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="comment">// do not call __kmp_serial_initialize(), it will be called by __kmp_parallel_initialize() if needed</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="comment">// possible detection of false-positive race by the threadchecker ???</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    <span class="keywordflow">if</span>( ! <a class="code" href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a>( <a class="code" href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a> ) )</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;        <a class="code" href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a>();</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="comment">// check correctness of reduce block nesting</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="preprocessor">#if KMP_USE_DYNAMIC_LOCK</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> )</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;        <a class="code" href="kmp__error_8c.html#a17886697972a1ad707cb5797332a7229">__kmp_push_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc, NULL, 0 );</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> )</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;        <a class="code" href="kmp__error_8c.html#a17886697972a1ad707cb5797332a7229">__kmp_push_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc, NULL );</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;<span class="preprocessor">#if OMP_40_ENABLED</span></div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;<span class="preprocessor"></span>    th = <a class="code" href="kmp_8h.html#a1626e286e4eb82742a397442009721e6">__kmp_thread_from_gtid</a>(global_tid);</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    <span class="keywordflow">if</span>( th-&gt;th.th_teams_microtask ) {   <span class="comment">// AC: check if we are inside the teams construct?</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;        team = th-&gt;th.th_team;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        <span class="keywordflow">if</span>( team-&gt;<a class="code" href="unionkmp__team.html#a87cf4571108a61b446e809094f8c0362">t</a>.t_level == th-&gt;th.th_teams_level ) {</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;            <span class="comment">// this is reduction at teams construct</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;            <a class="code" href="kmp__debug_8h.html#ad766efc30e33e28634691088e80cdf08">KMP_DEBUG_ASSERT</a>(!th-&gt;th.th_info.ds.ds_tid);  <span class="comment">// AC: check that tid == 0</span></div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;            <span class="comment">// Let&#39;s swap teams temporarily for the reduction barrier</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;            teams_swapped = 1;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;            th-&gt;th.th_info.ds.ds_tid = team-&gt;<a class="code" href="unionkmp__team.html#a87cf4571108a61b446e809094f8c0362">t</a>.t_master_tid;</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;            th-&gt;th.th_team = team-&gt;<a class="code" href="unionkmp__team.html#a87cf4571108a61b446e809094f8c0362">t</a>.t_parent;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;            th-&gt;th.th_team_nproc = th-&gt;th.th_team-&gt;t.t_nproc;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;            th-&gt;th.th_task_team = th-&gt;th.th_team-&gt;t.t_task_team[0];</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;            task_state = th-&gt;th.th_task_state;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;            th-&gt;th.th_task_state = 0;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    }</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;<span class="preprocessor">#endif // OMP_40_ENABLED</span></div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="comment">// packed_reduction_method value will be reused by __kmp_end_reduce* function, the value should be kept in a variable</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <span class="comment">// the variable should be either a construct-specific or thread-specific property, not a team specific property</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="comment">//     (a thread can reach the next reduce block on the next construct, reduce method may differ on the next construct)</span></div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <span class="comment">// an ident_t &quot;loc&quot; parameter could be used as a construct-specific property (what if loc == 0?)</span></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <span class="comment">//     (if both construct-specific and team-specific variables were shared, then unness extra syncs should be needed)</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <span class="comment">// a thread-specific variable is better regarding two issues above (next construct and extra syncs)</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    <span class="comment">// a thread-specific &quot;th_local.reduction_method&quot; variable is used currently</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="comment">// each thread executes &#39;determine&#39; and &#39;set&#39; lines (no need to execute by one thread, to avoid unness extra syncs)</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    packed_reduction_method = <a class="code" href="kmp_8h.html#a7735d7d58a02a05dbfebda565f97c80c">__kmp_determine_reduction_method</a>( loc, global_tid, num_vars, reduce_size, reduce_data, reduce_func, lck );</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <a class="code" href="kmp__csupport_8c.html#a7a13f1fc7eb548d763de215bd7cdcf51">__KMP_SET_REDUCTION_METHOD</a>( global_tid, packed_reduction_method );</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e">critical_reduce_block</a> ) {</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        <a class="code" href="kmp__csupport_8c.html#ad97140748ff9336db068d58f950a4850">__kmp_enter_critical_section_reduce_block</a>( loc, global_tid, lck );</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;        retval = 1;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5">empty_reduce_block</a> ) {</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        <span class="comment">// usage: if team size == 1, no synchronization is required ( Intel platforms only )</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;        retval = 1;</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( packed_reduction_method == <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b">atomic_reduce_block</a> ) {</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;        retval = 2;</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;        <span class="comment">// all threads should do this pop here (because __kmpc_end_reduce_nowait() won&#39;t be called by the code gen)</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;        <span class="comment">//     (it&#39;s not quite good, because the checking block has been closed by this &#39;pop&#39;,</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;        <span class="comment">//      but atomic operation has not been executed yet, will be executed slightly later, literally on next instruction)</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> )</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;            <a class="code" href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc );</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="kmp_8h.html#a8e31af7b50c35efd630502d8cbe89cd3">TEST_REDUCTION_METHOD</a>( packed_reduction_method, <a class="code" href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973">tree_reduce_block</a> ) ) {</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;        <span class="comment">//AT: performance issue: a real barrier here</span></div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        <span class="comment">//AT:     (if master goes slow, other threads are blocked here waiting for the master to come and release them)</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;        <span class="comment">//AT:     (it&#39;s not what a customer might expect specifying NOWAIT clause)</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        <span class="comment">//AT:     (specifying NOWAIT won&#39;t result in improvement of performance, it&#39;ll be confusing to a customer)</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        <span class="comment">//AT: another implementation of *barrier_gather*nowait() (or some other design) might go faster</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        <span class="comment">//        and be more in line with sense of NOWAIT</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;        <span class="comment">//AT: TO DO: do epcc test and compare times</span></div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        <span class="comment">// this barrier should be invisible to a customer and to the threading profile tool</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        <span class="comment">//              (it&#39;s neither a terminating barrier nor customer&#39;s code, it&#39;s used for an internal purpose)</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="preprocessor">#if USE_ITT_NOTIFY</span></div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;<span class="preprocessor"></span>        <a class="code" href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a>[global_tid]-&gt;th.th_ident = loc;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="preprocessor"></span>        retval = <a class="code" href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a>( <a class="code" href="kmp_8h.html#a1ccb73b52bdd6146311ed40707c69b9a">UNPACK_REDUCTION_BARRIER</a>( packed_reduction_method ), global_tid, <a class="code" href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, reduce_size, reduce_data, reduce_func );</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;        retval = ( retval != 0 ) ? ( 0 ) : ( 1 );</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;        <span class="comment">// all other workers except master should do this pop here</span></div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;        <span class="comment">//     ( none of other workers will get to __kmpc_end_reduce_nowait() )</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a> ) {</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;            <span class="keywordflow">if</span>( retval == 0 ) {</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;                <a class="code" href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a>( global_tid, <a class="code" href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a>, loc );</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;            }</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;        }</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;        <span class="comment">// should never reach this block</span></div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;        <a class="code" href="kmp__debug_8h.html#a5323a368e8ba273b17c46906dd9ec78c">KMP_ASSERT</a>( 0 ); <span class="comment">// &quot;unexpected method&quot;</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    }</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="preprocessor">#if OMP_40_ENABLED</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span>( teams_swapped ) {</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;        <span class="comment">// Restore thread structure</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;        th-&gt;th.th_info.ds.ds_tid = 0;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;        th-&gt;th.th_team = team;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        th-&gt;th.th_team_nproc = team-&gt;<a class="code" href="unionkmp__team.html#a87cf4571108a61b446e809094f8c0362">t</a>.t_nproc;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;        th-&gt;th.th_task_team = team-&gt;<a class="code" href="unionkmp__team.html#a87cf4571108a61b446e809094f8c0362">t</a>.t_task_team[task_state];</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        th-&gt;th.th_task_state = task_state;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    }</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;<span class="preprocessor"></span>    <a class="code" href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a>( 10, ( <span class="stringliteral">&quot;__kmpc_reduce_nowait() exit: called T#%d: method %08x, returns %08x\n&quot;</span>, global_tid, packed_reduction_method, retval ) );</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;}</div>
<div class="ttc" id="kmp_8h_html_a1ccb73b52bdd6146311ed40707c69b9a"><div class="ttname"><a href="kmp_8h.html#a1ccb73b52bdd6146311ed40707c69b9a">UNPACK_REDUCTION_BARRIER</a></div><div class="ttdeci">#define UNPACK_REDUCTION_BARRIER(packed_reduction_method)</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00473">kmp.h:473</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_ad766efc30e33e28634691088e80cdf08"><div class="ttname"><a href="kmp__debug_8h.html#ad766efc30e33e28634691088e80cdf08">KMP_DEBUG_ASSERT</a></div><div class="ttdeci">#define KMP_DEBUG_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00074">kmp_debug.h:74</a></div></div>
<div class="ttc" id="kmp_8h_html_a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca"><div class="ttname"><a href="kmp_8h.html#a1582e7ddc609220a660d10244ef3e315a69ad53348e0bb90d6e3adee6345553ca">ct_reduce</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01177">kmp.h:1177</a></div></div>
<div class="ttc" id="kmp_8h_html_a1626e286e4eb82742a397442009721e6"><div class="ttname"><a href="kmp_8h.html#a1626e286e4eb82742a397442009721e6">__kmp_thread_from_gtid</a></div><div class="ttdeci">#define __kmp_thread_from_gtid(gtid)</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00951">kmp.h:951</a></div></div>
<div class="ttc" id="kmp_8h_html_a79cdcd03cc0f2498719630411d56ef84"><div class="ttname"><a href="kmp_8h.html#a79cdcd03cc0f2498719630411d56ef84">PACKED_REDUCTION_METHOD_T</a></div><div class="ttdeci">int PACKED_REDUCTION_METHOD_T</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00497">kmp.h:497</a></div></div>
<div class="ttc" id="kmp_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="kmp_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l01088">kmp.h:1088</a></div></div>
<div class="ttc" id="kmp_8h_html_a194859801fe16b326efe34501a37c30a"><div class="ttname"><a href="kmp_8h.html#a194859801fe16b326efe34501a37c30a">kmp_info_t</a></div><div class="ttdeci">union KMP_ALIGN_CACHE kmp_info kmp_info_t</div></div>
<div class="ttc" id="unionkmp__team_html"><div class="ttname"><a href="unionkmp__team.html">kmp_team</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l02553">kmp.h:2553</a></div></div>
<div class="ttc" id="group__STATS__GATHERING_html_ga7fa64ec62947bf0b97f3f4778dd22196"><div class="ttname"><a href="group__STATS__GATHERING.html#ga7fa64ec62947bf0b97f3f4778dd22196">KMP_COUNT_BLOCK</a></div><div class="ttdeci">#define KMP_COUNT_BLOCK(name)</div><div class="ttdoc">Increments specified counter (name). </div><div class="ttdef"><b>Definition:</b> <a href="kmp__stats_8h_source.html#l00653">kmp_stats.h:653</a></div></div>
<div class="ttc" id="kmp__csupport_8c_html_ad97140748ff9336db068d58f950a4850"><div class="ttname"><a href="kmp__csupport_8c.html#ad97140748ff9336db068d58f950a4850">__kmp_enter_critical_section_reduce_block</a></div><div class="ttdeci">static __forceinline void __kmp_enter_critical_section_reduce_block(ident_t *loc, kmp_int32 global_tid, kmp_critical_name *crit)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l02549">kmp_csupport.c:2549</a></div></div>
<div class="ttc" id="kmp__csupport_8c_html_a7a13f1fc7eb548d763de215bd7cdcf51"><div class="ttname"><a href="kmp__csupport_8c.html#a7a13f1fc7eb548d763de215bd7cdcf51">__KMP_SET_REDUCTION_METHOD</a></div><div class="ttdeci">#define __KMP_SET_REDUCTION_METHOD(gtid, rmethod)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__csupport_8c_source.html#l02538">kmp_csupport.c:2538</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a7e21547b06d81d12a9b3293f3059b973">tree_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00455">kmp.h:455</a></div></div>
<div class="ttc" id="kmp_8h_html_a7735d7d58a02a05dbfebda565f97c80c"><div class="ttname"><a href="kmp_8h.html#a7735d7d58a02a05dbfebda565f97c80c">__kmp_determine_reduction_method</a></div><div class="ttdeci">PACKED_REDUCTION_METHOD_T __kmp_determine_reduction_method(ident_t *loc, kmp_int32 global_tid, kmp_int32 num_vars, size_t reduce_size, void *reduce_data, void(*reduce_func)(void *lhs_data, void *rhs_data), kmp_critical_name *lck)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__runtime_8c_source.html#l07544">kmp_runtime.c:7544</a></div></div>
<div class="ttc" id="kmp__os_8h_html_acd6256e4afba32d90997235fc0a38a74"><div class="ttname"><a href="kmp__os_8h.html#acd6256e4afba32d90997235fc0a38a74">TCR_4</a></div><div class="ttdeci">#define TCR_4(a)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__os_8h_source.html#l00597">kmp_os.h:597</a></div></div>
<div class="ttc" id="kmp_8h_html_a8ba907eb5a2568ff55a49a1504cd3624"><div class="ttname"><a href="kmp_8h.html#a8ba907eb5a2568ff55a49a1504cd3624">__kmp_threads</a></div><div class="ttdeci">kmp_info_t ** __kmp_threads</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00360">kmp_global.c:360</a></div></div>
<div class="ttc" id="unionkmp__team_html_a87cf4571108a61b446e809094f8c0362"><div class="ttname"><a href="unionkmp__team.html#a87cf4571108a61b446e809094f8c0362">kmp_team::t</a></div><div class="ttdeci">kmp_base_team_t t</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l02554">kmp.h:2554</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a28cf3671c5c01e773c7040204b6e8bb5">empty_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00456">kmp.h:456</a></div></div>
<div class="ttc" id="kmp_8h_html_a2db240b744f3af1eb8413df50dbe6118"><div class="ttname"><a href="kmp_8h.html#a2db240b744f3af1eb8413df50dbe6118">__kmp_barrier</a></div><div class="ttdeci">int __kmp_barrier(enum barrier_type bt, int gtid, int is_split, size_t reduce_size, void *reduce_data, void(*reduce)(void *, void *))</div><div class="ttdef"><b>Definition:</b> <a href="kmp__barrier_8cpp_source.html#l01047">kmp_barrier.cpp:1047</a></div></div>
<div class="ttc" id="kmp_8h_html_aa23ece0d05f38387c8a8441aaad368df"><div class="ttname"><a href="kmp_8h.html#aa23ece0d05f38387c8a8441aaad368df">__kmp_init_parallel</a></div><div class="ttdeci">volatile int __kmp_init_parallel</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00048">kmp_global.c:48</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306a2c5ad9d5d2b242bce894255d63ee550e">critical_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00453">kmp.h:453</a></div></div>
<div class="ttc" id="kmp_8h_html_ab4062d4f566c901230e51490a8819ba0"><div class="ttname"><a href="kmp_8h.html#ab4062d4f566c901230e51490a8819ba0">__kmp_env_consistency_check</a></div><div class="ttdeci">int __kmp_env_consistency_check</div><div class="ttdef"><b>Definition:</b> <a href="kmp__global_8c_source.html#l00334">kmp_global.c:334</a></div></div>
<div class="ttc" id="kmp_8h_html_a8e31af7b50c35efd630502d8cbe89cd3"><div class="ttname"><a href="kmp_8h.html#a8e31af7b50c35efd630502d8cbe89cd3">TEST_REDUCTION_METHOD</a></div><div class="ttdeci">#define TEST_REDUCTION_METHOD(packed_reduction_method, which_reduction_block)</div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00486">kmp.h:486</a></div></div>
<div class="ttc" id="kmp__error_8c_html_a17886697972a1ad707cb5797332a7229"><div class="ttname"><a href="kmp__error_8c.html#a17886697972a1ad707cb5797332a7229">__kmp_push_sync</a></div><div class="ttdeci">void __kmp_push_sync(int gtid, enum cons_type ct, ident_t const *ident, kmp_user_lock_p lck)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00377">kmp_error.c:377</a></div></div>
<div class="ttc" id="kmp__error_8c_html_ab716717d70650eeeb205b057232d7c1c"><div class="ttname"><a href="kmp__error_8c.html#ab716717d70650eeeb205b057232d7c1c">__kmp_pop_sync</a></div><div class="ttdeci">void __kmp_pop_sync(int gtid, enum cons_type ct, ident_t const *ident)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__error_8c_source.html#l00463">kmp_error.c:463</a></div></div>
<div class="ttc" id="kmp_8h_html_a9c18846c648d84276b9dd5a1d650ab04"><div class="ttname"><a href="kmp_8h.html#a9c18846c648d84276b9dd5a1d650ab04">__kmp_parallel_initialize</a></div><div class="ttdeci">void __kmp_parallel_initialize(void)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__runtime_8c_source.html#l06736">kmp_runtime.c:6736</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_a5323a368e8ba273b17c46906dd9ec78c"><div class="ttname"><a href="kmp__debug_8h.html#a5323a368e8ba273b17c46906dd9ec78c">KMP_ASSERT</a></div><div class="ttdeci">#define KMP_ASSERT(cond)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00072">kmp_debug.h:72</a></div></div>
<div class="ttc" id="kmp__debug_8h_html_a21d51f37cb197aca5ffe737531678830"><div class="ttname"><a href="kmp__debug_8h.html#a21d51f37cb197aca5ffe737531678830">KA_TRACE</a></div><div class="ttdeci">#define KA_TRACE(d, x)</div><div class="ttdef"><b>Definition:</b> <a href="kmp__debug_8h_source.html#l00110">kmp_debug.h:110</a></div></div>
<div class="ttc" id="kmp_8h_html_aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b"><div class="ttname"><a href="kmp_8h.html#aef090e4cbee673db380b81f6deb8e306ae4e1bd6637deb8f7d8098584a432aa0b">atomic_reduce_block</a></div><div class="ttdef"><b>Definition:</b> <a href="kmp_8h_source.html#l00454">kmp.h:454</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 17 2016 17:14:10 for LLVM OpenMP* Runtime Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
