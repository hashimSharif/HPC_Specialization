\hypertarget{kmp__atomic_8c}{\section{kmp\-\_\-atomic.\-c File Reference}
\label{kmp__atomic_8c}\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}}
}
{\ttfamily \#include \char`\"{}kmp\-\_\-atomic.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}kmp.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{kmp__atomic_8c_ada84523aa96ac326f6609294a55b0083}{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-L}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, O\-P, L\-C\-K\-\_\-\-I\-D, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-L}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, B\-I\-T\-S, O\-P, L\-C\-K\-\_\-\-I\-D, M\-A\-S\-K, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_adc8e14b978dee30dbb32df6d0a3174d6}{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T}(O\-P, L\-C\-K\-\_\-\-I\-D)
\item 
\#define \hyperlink{kmp__atomic_8c_abac538605549ec3c5cff29b4436bff39}{G\-O\-M\-P\-\_\-\-M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T}(O\-P, F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_abfe439830d19f386b85769ba2e7f5329}{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-M\-P\-X\-C\-H\-G}(T\-Y\-P\-E, B\-I\-T\-S, O\-P)
\item 
\#define \hyperlink{kmp__atomic_8c_abc3b75f04b35c392281c4289e29edbcb}{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, O\-P, L\-C\-K\-\_\-\-I\-D, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-O\-M\-P\-X\-C\-H\-G}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, B\-I\-T\-S, O\-P, L\-C\-K\-\_\-\-I\-D, M\-A\-S\-K, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_ac34691a85296b1b71a3d563addd98257}{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-E\-Q\-V}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, O\-P, L\-C\-K\-\_\-\-I\-D, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_a0e79ec237696d89fbb8985bfda84e005}{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-E\-Q\-V}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, B\-I\-T\-S, O\-P, L\-C\-K\-\_\-\-I\-D, M\-A\-S\-K, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, O\-P, L\-C\-K\-\_\-\-I\-D, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_a0c8d1618d99214183e98de9fa22aef9b}{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N\-\_\-\-M\-I\-X}(T\-Y\-P\-E\-\_\-\-I\-D, T\-Y\-P\-E, O\-P\-\_\-\-I\-D, R\-T\-Y\-P\-E\-\_\-\-I\-D, R\-T\-Y\-P\-E)
\item 
\#define \hyperlink{kmp__atomic_8c_ad9bd39426a5ce27432d01aec3aedb0a7}{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L\-\_\-\-F\-P}(T\-Y\-P\-E\-\_\-\-I\-D, T\-Y\-P\-E, O\-P\-\_\-\-I\-D, O\-P, R\-T\-Y\-P\-E\-\_\-\-I\-D, R\-T\-Y\-P\-E, L\-C\-K\-\_\-\-I\-D, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-M\-I\-X}(T\-Y\-P\-E\-\_\-\-I\-D, T\-Y\-P\-E, O\-P\-\_\-\-I\-D, B\-I\-T\-S, O\-P, R\-T\-Y\-P\-E\-\_\-\-I\-D, R\-T\-Y\-P\-E, L\-C\-K\-\_\-\-I\-D, M\-A\-S\-K, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_a8f6aef3da959224594525212b9262e81}{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-C\-M\-P\-L\-X}(T\-Y\-P\-E\-\_\-\-I\-D, T\-Y\-P\-E, O\-P\-\_\-\-I\-D, B\-I\-T\-S, O\-P, R\-T\-Y\-P\-E\-\_\-\-I\-D, R\-T\-Y\-P\-E, L\-C\-K\-\_\-\-I\-D, M\-A\-S\-K, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef unsigned char \hyperlink{kmp__atomic_8c_a65f85814a8290f9797005d3b28e7e5fc}{uchar}
\item 
typedef unsigned short \hyperlink{kmp__atomic_8c_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort}
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{kmp__atomic_8c_a1437b307229aa5105c8714be599fe578}{K\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-V\-O\-L\-A\-T\-I\-L\-E}~volatile
\item 
\#define \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{K\-M\-P\-\_\-\-C\-H\-E\-C\-K\-\_\-\-G\-T\-I\-D}
\item 
\#define \hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, R\-E\-T\-\_\-\-T\-Y\-P\-E)
\item 
\#define \hyperlink{kmp__atomic_8c_a55793c136ce4769b035fae0e787b90c2}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K0}~\hyperlink{kmp__atomic_8h_a917d5d190ec8786b54a79e041d2f916a}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock}
\item 
\#define \hyperlink{kmp__atomic_8c_a17ef55c547cecb93e521ead0f0bba6cf}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K1i}~\hyperlink{kmp__atomic_8h_ae4cf18076c9b8b70e3e6234631724655}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i}
\item 
\#define \hyperlink{kmp__atomic_8c_afcbc46e4492aebc6bfa431b3f2ca72f8}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K2i}~\hyperlink{kmp__atomic_8h_a3e226fc78daba995532675879fc06823}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i}
\item 
\#define \hyperlink{kmp__atomic_8c_ad25f3da8d925e2b022910aeeef4d8ca9}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4i}~\hyperlink{kmp__atomic_8h_a08fdf7dcf239a33099145c76187dd830}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i}
\item 
\#define \hyperlink{kmp__atomic_8c_a866d9f4a4ec6cfe515e5b6d10cd28fcf}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4r}~\hyperlink{kmp__atomic_8h_afee5fb9d3bd10056ce526896d3ef126e}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r}
\item 
\#define \hyperlink{kmp__atomic_8c_af2f05e4d21bd1d45710945c906b3ee54}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8i}~\hyperlink{kmp__atomic_8h_a6cf3b5db5e0375de58b9baf9819ba409}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i}
\item 
\#define \hyperlink{kmp__atomic_8c_a6bcb2f7f729651428854371f43b8f97b}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8r}~\hyperlink{kmp__atomic_8h_a071de2fc37a113ca2c3fd81fee089bb0}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r}
\item 
\#define \hyperlink{kmp__atomic_8c_a9c4575c143c89be3419c9220dc2d90f3}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8c}~\hyperlink{kmp__atomic_8h_a00f00ea2df061e8c3bb4b79f48e8f699}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c}
\item 
\#define \hyperlink{kmp__atomic_8c_a697534a8feb9048ccf4ac95dc4dabe1c}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K10r}~\hyperlink{kmp__atomic_8h_abff0e9cfd79dc18171406798536bf543}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r}
\item 
\#define \hyperlink{kmp__atomic_8c_a5a5d4960130b2bb47ec67895fcbcc86d}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16r}~\hyperlink{kmp__atomic_8h_ae5df7c96c9bfb02f6aa16691618a2125}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r}
\item 
\#define \hyperlink{kmp__atomic_8c_a0037eb28ace21175e0b3cb814a2480bd}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16c}~\hyperlink{kmp__atomic_8h_a2df19c6e1555ce5d33d4f8cb77d5b512}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c}
\item 
\#define \hyperlink{kmp__atomic_8c_a9feda20360d83a8e5a4d1b5295963cd1}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K20c}~\hyperlink{kmp__atomic_8h_a217fcb3cacae498df8f49d7e9279405d}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c}
\item 
\#define \hyperlink{kmp__atomic_8c_abe34d39c09a8ddc3579ef6d464a3eb91}{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K32c}~\hyperlink{kmp__atomic_8h_a6941912d51b6039c512f706674a2fcef}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c}
\item 
\#define \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{O\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}(O\-P, L\-C\-K\-\_\-\-I\-D)
\item 
\#define \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{O\-P\-\_\-\-G\-O\-M\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}(O\-P, F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_a144abada1fe99ede3ce9b8f8f377c2a0}{K\-M\-P\-\_\-\-D\-O\-\_\-\-P\-A\-U\-S\-E}~\hyperlink{kmp_8h_a0ae7084deafcd923a77e45e93058c459}{K\-M\-P\-\_\-\-C\-P\-U\-\_\-\-P\-A\-U\-S\-E}()
\item 
\#define \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G}(T\-Y\-P\-E, B\-I\-T\-S, O\-P)
\item 
\#define \hyperlink{kmp__atomic_8c_a89c774f8f39cbc691c6bbb404bab76cc}{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D}(T\-Y\-P\-E, B\-I\-T\-S, O\-P)
\item 
\#define \hyperlink{kmp__atomic_8c_afee50c93302ae1fc4af864403299ba5f}{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, B\-I\-T\-S, O\-P, L\-C\-K\-\_\-\-I\-D, M\-A\-S\-K, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_ae4f39bd78210dca6519e5286cdc1bde2}{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, B\-I\-T\-S, O\-P, L\-C\-K\-\_\-\-I\-D, M\-A\-S\-K, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\#define \hyperlink{kmp__atomic_8c_a0bc25287e331cc11b50e533425e7929d}{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D}(T\-Y\-P\-E\-\_\-\-I\-D, O\-P\-\_\-\-I\-D, T\-Y\-P\-E, B\-I\-T\-S, O\-P, L\-C\-K\-\_\-\-I\-D, M\-A\-S\-K, G\-O\-M\-P\-\_\-\-F\-L\-A\-G)
\item 
\hyperlink{ittnotify__static_8h_a8b8dcd723308a8cb5d84277c7a3fff70}{int} \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-mode} = 1
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_ae4cf18076c9b8b70e3e6234631724655}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a3e226fc78daba995532675879fc06823}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a08fdf7dcf239a33099145c76187dd830}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_afee5fb9d3bd10056ce526896d3ef126e}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a6cf3b5db5e0375de58b9baf9819ba409}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a071de2fc37a113ca2c3fd81fee089bb0}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a00f00ea2df061e8c3bb4b79f48e8f699}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_abff0e9cfd79dc18171406798536bf543}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_ae5df7c96c9bfb02f6aa16691618a2125}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a2df19c6e1555ce5d33d4f8cb77d5b512}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a217fcb3cacae498df8f49d7e9279405d}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c}
\item 
\hyperlink{kmp__atomic_8h_a36c5d9c204fed87f4f5a3fed188f43a4}{kmp\-\_\-atomic\-\_\-lock\-\_\-t} \hyperlink{kmp__atomic_8c_a6941912d51b6039c512f706674a2fcef}{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c}
\item 
\hyperlink{kmp__atomic_8c_ac92fc947261232e168ef70adb244a37a}{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D} (A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(fixed4, A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(add, A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(kmp\-\_\-int32, A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(32, A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(+, A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(4i, A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(3, A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(0)
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_a6d9d87ea1a89b83c6ed23e91ad66123e}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-2} (\hyperlink{group__BASIC__TYPES_ga690fda6b92f039a72db263c6b4394ddb}{ident\-\_\-t} $\ast$id\-\_\-ref, \hyperlink{ittnotify__static_8h_a8b8dcd723308a8cb5d84277c7a3fff70}{int} gtid, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$lhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$rhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void}($\ast$f)(\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$))
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_a8ee79e52139355b09e6d5cfe8334930f}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-4} (\hyperlink{group__BASIC__TYPES_ga690fda6b92f039a72db263c6b4394ddb}{ident\-\_\-t} $\ast$id\-\_\-ref, \hyperlink{ittnotify__static_8h_a8b8dcd723308a8cb5d84277c7a3fff70}{int} gtid, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$lhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$rhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void}($\ast$f)(\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$))
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_af53b9d1f6560dec47b7e83488d96544b}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-8} (\hyperlink{group__BASIC__TYPES_ga690fda6b92f039a72db263c6b4394ddb}{ident\-\_\-t} $\ast$id\-\_\-ref, \hyperlink{ittnotify__static_8h_a8b8dcd723308a8cb5d84277c7a3fff70}{int} gtid, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$lhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$rhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void}($\ast$f)(\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$))
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_affbdcc5eceb23a3a468474d3d8d97c0d}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-10} (\hyperlink{group__BASIC__TYPES_ga690fda6b92f039a72db263c6b4394ddb}{ident\-\_\-t} $\ast$id\-\_\-ref, \hyperlink{ittnotify__static_8h_a8b8dcd723308a8cb5d84277c7a3fff70}{int} gtid, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$lhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$rhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void}($\ast$f)(\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$))
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_acede1c11779e4dd09cd50133aa606a00}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-16} (\hyperlink{group__BASIC__TYPES_ga690fda6b92f039a72db263c6b4394ddb}{ident\-\_\-t} $\ast$id\-\_\-ref, \hyperlink{ittnotify__static_8h_a8b8dcd723308a8cb5d84277c7a3fff70}{int} gtid, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$lhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$rhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void}($\ast$f)(\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$))
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_afc80b3a741024100aa32083451d4b56b}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-20} (\hyperlink{group__BASIC__TYPES_ga690fda6b92f039a72db263c6b4394ddb}{ident\-\_\-t} $\ast$id\-\_\-ref, \hyperlink{ittnotify__static_8h_a8b8dcd723308a8cb5d84277c7a3fff70}{int} gtid, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$lhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$rhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void}($\ast$f)(\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$))
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_ae528f144023a073b7b1d54435161f0d2}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-32} (\hyperlink{group__BASIC__TYPES_ga690fda6b92f039a72db263c6b4394ddb}{ident\-\_\-t} $\ast$id\-\_\-ref, \hyperlink{ittnotify__static_8h_a8b8dcd723308a8cb5d84277c7a3fff70}{int} gtid, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$lhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$rhs, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void}($\ast$f)(\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$, \hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} $\ast$))
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_ac80aaa698accebb4a8ef94b623527cbe}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-start} (\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void})
\item 
\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void} \hyperlink{kmp__atomic_8c_a99f44b84dfdf64370407bc4d08a25753}{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-end} (\hyperlink{ittnotify__static_8h_af941d56e55e3c5465135b60c4d6343ed}{void})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N@{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N@{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{R\-E\-T\-\_\-\-T\-Y\-P\-E}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}
{\bfseries Value\-:}
\begin{DoxyCode}
RET\_TYPE \_\_kmpc\_atomic\_##TYPE\_ID##\_##OP\_ID( \hyperlink{structident}{ident\_t} *id\_ref, \textcolor{keywordtype}{int} gtid, TYPE * lhs, TYPE rhs ) \(\backslash\)
\{                                                                                         
      \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{\(\backslash\)}
\hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{    KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );                            
                          \hyperlink{kmp__debug_8h_a21d51f37cb197aca5ffe737531678830}{\(\backslash\)}
\hyperlink{kmp__debug_8h_a21d51f37cb197aca5ffe737531678830}{    KA\_TRACE}(100,(\textcolor{stringliteral}{"\_\_kmpc\_atomic\_"} #TYPE\_ID \textcolor{stringliteral}{"\_"} #OP\_ID \textcolor{stringliteral}{": T#%d\(\backslash\)n"}, gtid ));
\end{DoxyCode}


Definition at line 621 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a0c8d1618d99214183e98de9fa22aef9b}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N\-\_\-\-M\-I\-X@{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N\-\_\-\-M\-I\-X}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N\-\_\-\-M\-I\-X@{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N\-\_\-\-M\-I\-X}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N\-\_\-\-M\-I\-X}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-B\-E\-G\-I\-N\-\_\-\-M\-I\-X(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{R\-T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{R\-T\-Y\-P\-E}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a0c8d1618d99214183e98de9fa22aef9b}
{\bfseries Value\-:}
\begin{DoxyCode}
\textcolor{keywordtype}{void} \_\_kmpc\_atomic\_##TYPE\_ID##\_##OP\_ID##\_##RTYPE\_ID( \hyperlink{structident}{ident\_t} *id\_ref, \textcolor{keywordtype}{int} gtid, TYPE * lhs, RTYPE 
      rhs ) \(\backslash\)
\{                                                                                                       
      \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{\(\backslash\)}
\hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{    KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );                            
                                        \hyperlink{kmp__debug_8h_a21d51f37cb197aca5ffe737531678830}{\(\backslash\)}
\hyperlink{kmp__debug_8h_a21d51f37cb197aca5ffe737531678830}{    KA\_TRACE}(100,(\textcolor{stringliteral}{"\_\_kmpc\_atomic\_"} #TYPE\_ID \textcolor{stringliteral}{"\_"} #OP\_ID \textcolor{stringliteral}{"\_"} #RTYPE\_ID \textcolor{stringliteral}{": T#%d\(\backslash\)n"}, gtid ));
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a0e79ec237696d89fbb8985bfda84e005}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-E\-Q\-V@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-E\-Q\-V}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-E\-Q\-V@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-E\-Q\-V}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-E\-Q\-V}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-E\-Q\-V(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{M\-A\-S\-K, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a0e79ec237696d89fbb8985bfda84e005}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                     
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(^=~,GOMP\_FLAG)                                       \(\backslash\)
    if ( ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0\hyperlink{ittnotify__static_8h_a25eb27b280775b27a5ddc4d1673225aa}{x}##MASK) ) \{                          
      \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{        OP\_CMPXCHG}(TYPE,BITS,OP)   \textcolor{comment}{/* aligned address */}                  \(\backslash\)
    \} \textcolor{keywordflow}{else} \{                                                              \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{        KMP\_CHECK\_GTID};                                                   
      \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{        OP\_CRITICAL}(^=~,LCK\_ID)    \textcolor{comment}{/* unaligned address - use critical */} \(\backslash\)
    \}                                                                     \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-L@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-L}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-L@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-L}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-\_\-\-L(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{M\-A\-S\-K, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                     
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(= *lhs OP,GOMP\_FLAG)                                 \(\backslash\)
    if ( ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0\hyperlink{ittnotify__static_8h_a25eb27b280775b27a5ddc4d1673225aa}{x}##MASK) ) \{                          
      \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{        OP\_CMPXCHG}(TYPE,BITS,OP)       \textcolor{comment}{/* aligned address */}              \(\backslash\)
    \} \textcolor{keywordflow}{else} \{                                                              \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{        KMP\_CHECK\_GTID};                                                   
      \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{        OP\_CRITICAL}(= *lhs OP,LCK\_ID)  \textcolor{comment}{/* unaligned - use critical */}     \(\backslash\)
    \}                                                                     \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_ae4f39bd78210dca6519e5286cdc1bde2}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{M\-A\-S\-K, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_ae4f39bd78210dca6519e5286cdc1bde2}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                      
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(OP##=,GOMP\_FLAG)                                      \(\backslash\)
    if ( ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0\hyperlink{ittnotify__static_8h_a25eb27b280775b27a5ddc4d1673225aa}{x}##MASK) ) \{                           
      \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{        OP\_CMPXCHG}(TYPE,BITS,OP)     \textcolor{comment}{/* aligned address */}                 \(\backslash\)
    \} \textcolor{keywordflow}{else} \{                                                               \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{        KMP\_CHECK\_GTID};                                                    
      \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{        OP\_CRITICAL}(OP##=,LCK\_ID)  \textcolor{comment}{/* unaligned address - use critical */}  \(\backslash\)
    \}                                                                      \(\backslash\)
\}
\end{DoxyCode}


Definition at line 791 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a8f6aef3da959224594525212b9262e81}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-C\-M\-P\-L\-X@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-C\-M\-P\-L\-X}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-C\-M\-P\-L\-X@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-C\-M\-P\-L\-X}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-C\-M\-P\-L\-X}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-C\-M\-P\-L\-X(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P, }
\item[{}]{R\-T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{R\-T\-Y\-P\-E, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{M\-A\-S\-K, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a8f6aef3da959224594525212b9262e81}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a0c8d1618d99214183e98de9fa22aef9b}{ATOMIC\_BEGIN\_MIX}(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                        
         \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(OP##=,GOMP\_FLAG)                                                  
             \(\backslash\)
    if ( ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0\hyperlink{ittnotify__static_8h_a25eb27b280775b27a5ddc4d1673225aa}{x}##MASK) ) \{                                             
       \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{        OP\_CMPXCHG}(TYPE,BITS,OP)     \textcolor{comment}{/* aligned address */}                               
           \(\backslash\)
    \} \textcolor{keywordflow}{else} \{                                                                                  
      \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{        KMP\_CHECK\_GTID};                                                              
               \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{        OP\_CRITICAL}(OP##=,LCK\_ID)  \textcolor{comment}{/* unaligned address - use critical */}               
            \(\backslash\)
    \}                                                                                         \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-M\-I\-X@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-M\-I\-X}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-M\-I\-X@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-M\-I\-X}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-M\-I\-X}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-M\-I\-X(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P, }
\item[{}]{R\-T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{R\-T\-Y\-P\-E, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{M\-A\-S\-K, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a0c8d1618d99214183e98de9fa22aef9b}{ATOMIC\_BEGIN\_MIX}(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                        
       \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(OP##=,GOMP\_FLAG)                                                  
           \(\backslash\)
    if ( ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0\hyperlink{ittnotify__static_8h_a25eb27b280775b27a5ddc4d1673225aa}{x}##MASK) ) \{                                            
      \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{        OP\_CMPXCHG}(TYPE,BITS,OP)     \textcolor{comment}{/* aligned address */}                               
         \(\backslash\)
    \} \textcolor{keywordflow}{else} \{                                                                                
      \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{        KMP\_CHECK\_GTID};                                                              
             \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{        OP\_CRITICAL}(OP##=,LCK\_ID)  \textcolor{comment}{/* unaligned address - use critical */}               
          \(\backslash\)
    \}                                                                                       \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a0bc25287e331cc11b50e533425e7929d}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D@{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{M\-A\-S\-K, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a0bc25287e331cc11b50e533425e7929d}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                                 
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(OP##=,GOMP\_FLAG)                                                 \(\backslash\)
    if ( ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0\hyperlink{ittnotify__static_8h_a25eb27b280775b27a5ddc4d1673225aa}{x}##MASK) ) \{                                      
      \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{        OP\_CMPXCHG}(TYPE,BITS,OP)             \textcolor{comment}{/* aligned address */}                    \(\backslash\)
    \} \textcolor{keywordflow}{else} \{                                                                          
      \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{        KMP\_CHECK\_GTID};                                                              
       \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{        OP\_CRITICAL}(OP##=,LCK\_ID)  \textcolor{comment}{/* unaligned address - use critical */}             \(\backslash\)
    \}                                                                                 \(\backslash\)
\}
\end{DoxyCode}


Definition at line 804 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_ac34691a85296b1b71a3d563addd98257}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-E\-Q\-V@{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-E\-Q\-V}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-E\-Q\-V@{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-E\-Q\-V}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-E\-Q\-V}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-E\-Q\-V(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_ac34691a85296b1b71a3d563addd98257}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                     
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(^=~,GOMP\_FLAG)  \textcolor{comment}{/* send assignment */}                
      \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{    OP\_CRITICAL}(^=~,LCK\_ID)    \textcolor{comment}{/* send assignment and complement */}       \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_ada84523aa96ac326f6609294a55b0083}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-L@{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-L}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-L@{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-L}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-\_\-\-L(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_ada84523aa96ac326f6609294a55b0083}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                     
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}( = *lhs OP, GOMP\_FLAG )                              
      \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{    OP\_CRITICAL}( = *lhs OP, LCK\_ID )                                      \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L@{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L@{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                     
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(OP##=,GOMP\_FLAG)  \textcolor{comment}{/* send assignment */}              
      \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{    OP\_CRITICAL}(OP##=,LCK\_ID)          \textcolor{comment}{/* send assignment */}              \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_ad9bd39426a5ce27432d01aec3aedb0a7}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L\-\_\-\-F\-P@{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L\-\_\-\-F\-P}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L\-\_\-\-F\-P@{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L\-\_\-\-F\-P}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L\-\_\-\-F\-P}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L\-\_\-\-F\-P(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{O\-P, }
\item[{}]{R\-T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{R\-T\-Y\-P\-E, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_ad9bd39426a5ce27432d01aec3aedb0a7}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a0c8d1618d99214183e98de9fa22aef9b}{ATOMIC\_BEGIN\_MIX}(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                       
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(OP##=,GOMP\_FLAG)  \textcolor{comment}{/* send assignment */}                           
         \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{    OP\_CRITICAL}(OP##=,LCK\_ID)  \textcolor{comment}{/* send assignment */}                                      \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_afee50c93302ae1fc4af864403299ba5f}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D@{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D@{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{M\-A\-S\-K, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_afee50c93302ae1fc4af864403299ba5f}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                      
      \hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{    OP\_GOMP\_CRITICAL}(OP##=,GOMP\_FLAG)                                      \(\backslash\)
    if ( ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0\hyperlink{ittnotify__static_8h_a25eb27b280775b27a5ddc4d1673225aa}{x}##MASK) ) \{                           \(\backslash\)
        \textcolor{comment}{/* OP used as a sign for subtraction: (lhs-rhs) --> (lhs+-rhs) */}  \(\backslash\)
        KMP\_TEST\_THEN\_ADD##BITS( lhs, OP rhs );                            \(\backslash\)
    \} \textcolor{keywordflow}{else} \{                                                               \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{        KMP\_CHECK\_GTID};                                                    
      \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{        OP\_CRITICAL}(OP##=,LCK\_ID)  \textcolor{comment}{/* unaligned address - use critical */}  \(\backslash\)
    \}                                                                      \(\backslash\)
\}
\end{DoxyCode}


Definition at line 779 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a55793c136ce4769b035fae0e787b90c2}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K0@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K0}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K0@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K0}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K0}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K0~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock}}}\label{kmp__atomic_8c_a55793c136ce4769b035fae0e787b90c2}


Definition at line 629 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a697534a8feb9048ccf4ac95dc4dabe1c}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K10r@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K10r}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K10r@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K10r}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K10r}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K10r~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r}}}\label{kmp__atomic_8c_a697534a8feb9048ccf4ac95dc4dabe1c}


Definition at line 637 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a0037eb28ace21175e0b3cb814a2480bd}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16c@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16c}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16c@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16c}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16c}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16c~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c}}}\label{kmp__atomic_8c_a0037eb28ace21175e0b3cb814a2480bd}


Definition at line 639 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a5a5d4960130b2bb47ec67895fcbcc86d}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16r@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16r}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16r@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16r}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16r}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K16r~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r}}}\label{kmp__atomic_8c_a5a5d4960130b2bb47ec67895fcbcc86d}


Definition at line 638 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a17ef55c547cecb93e521ead0f0bba6cf}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K1i@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K1i}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K1i@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K1i}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K1i}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K1i~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i}}}\label{kmp__atomic_8c_a17ef55c547cecb93e521ead0f0bba6cf}


Definition at line 630 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a9feda20360d83a8e5a4d1b5295963cd1}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K20c@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K20c}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K20c@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K20c}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K20c}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K20c~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c}}}\label{kmp__atomic_8c_a9feda20360d83a8e5a4d1b5295963cd1}


Definition at line 640 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_afcbc46e4492aebc6bfa431b3f2ca72f8}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K2i@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K2i}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K2i@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K2i}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K2i}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K2i~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i}}}\label{kmp__atomic_8c_afcbc46e4492aebc6bfa431b3f2ca72f8}


Definition at line 631 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_abe34d39c09a8ddc3579ef6d464a3eb91}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K32c@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K32c}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K32c@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K32c}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K32c}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K32c~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c}}}\label{kmp__atomic_8c_abe34d39c09a8ddc3579ef6d464a3eb91}


Definition at line 641 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_ad25f3da8d925e2b022910aeeef4d8ca9}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4i@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4i}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4i@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4i}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4i}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4i~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i}}}\label{kmp__atomic_8c_ad25f3da8d925e2b022910aeeef4d8ca9}


Definition at line 632 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a866d9f4a4ec6cfe515e5b6d10cd28fcf}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4r@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4r}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4r@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4r}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4r}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K4r~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r}}}\label{kmp__atomic_8c_a866d9f4a4ec6cfe515e5b6d10cd28fcf}


Definition at line 633 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a9c4575c143c89be3419c9220dc2d90f3}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8c@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8c}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8c@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8c}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8c}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8c~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c}}}\label{kmp__atomic_8c_a9c4575c143c89be3419c9220dc2d90f3}


Definition at line 636 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_af2f05e4d21bd1d45710945c906b3ee54}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8i@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8i}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8i@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8i}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8i}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8i~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i}}}\label{kmp__atomic_8c_af2f05e4d21bd1d45710945c906b3ee54}


Definition at line 634 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a6bcb2f7f729651428854371f43b8f97b}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8r@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8r}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8r@{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8r}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8r}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-O\-M\-I\-C\-\_\-\-L\-O\-C\-K8r~{\bf \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r}}}\label{kmp__atomic_8c_a6bcb2f7f729651428854371f43b8f97b}


Definition at line 635 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_abac538605549ec3c5cff29b4436bff39}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!G\-O\-M\-P\-\_\-\-M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T@{G\-O\-M\-P\-\_\-\-M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T}}
\index{G\-O\-M\-P\-\_\-\-M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T@{G\-O\-M\-P\-\_\-\-M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{G\-O\-M\-P\-\_\-\-M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\-O\-M\-P\-\_\-\-M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T(
\begin{DoxyParamCaption}
\item[{}]{O\-P, }
\item[{}]{F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_abac538605549ec3c5cff29b4436bff39}
\hypertarget{kmp__atomic_8c_a1437b307229aa5105c8714be599fe578}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!K\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-V\-O\-L\-A\-T\-I\-L\-E@{K\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-V\-O\-L\-A\-T\-I\-L\-E}}
\index{K\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-V\-O\-L\-A\-T\-I\-L\-E@{K\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-V\-O\-L\-A\-T\-I\-L\-E}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{K\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-V\-O\-L\-A\-T\-I\-L\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-V\-O\-L\-A\-T\-I\-L\-E~volatile}}\label{kmp__atomic_8c_a1437b307229aa5105c8714be599fe578}


Definition at line 573 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!K\-M\-P\-\_\-\-C\-H\-E\-C\-K\-\_\-\-G\-T\-I\-D@{K\-M\-P\-\_\-\-C\-H\-E\-C\-K\-\_\-\-G\-T\-I\-D}}
\index{K\-M\-P\-\_\-\-C\-H\-E\-C\-K\-\_\-\-G\-T\-I\-D@{K\-M\-P\-\_\-\-C\-H\-E\-C\-K\-\_\-\-G\-T\-I\-D}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{K\-M\-P\-\_\-\-C\-H\-E\-C\-K\-\_\-\-G\-T\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-C\-H\-E\-C\-K\-\_\-\-G\-T\-I\-D}}\label{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}
{\bfseries Value\-:}
\begin{DoxyCode}
\textcolor{keywordflow}{if} ( gtid == \hyperlink{kmp_8h_ab04a0fc321b82fffd1a0863c43f7d738}{KMP\_GTID\_UNKNOWN} ) \{                                     \(\backslash\)
        gtid = \hyperlink{kmp_8h_a5d1e6d7c35de87705193f11d65457229}{\_\_kmp\_entry\_gtid}();                                        \(\backslash\)
    \}
\end{DoxyCode}


Definition at line 612 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a144abada1fe99ede3ce9b8f8f377c2a0}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!K\-M\-P\-\_\-\-D\-O\-\_\-\-P\-A\-U\-S\-E@{K\-M\-P\-\_\-\-D\-O\-\_\-\-P\-A\-U\-S\-E}}
\index{K\-M\-P\-\_\-\-D\-O\-\_\-\-P\-A\-U\-S\-E@{K\-M\-P\-\_\-\-D\-O\-\_\-\-P\-A\-U\-S\-E}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{K\-M\-P\-\_\-\-D\-O\-\_\-\-P\-A\-U\-S\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-D\-O\-\_\-\-P\-A\-U\-S\-E~{\bf K\-M\-P\-\_\-\-C\-P\-U\-\_\-\-P\-A\-U\-S\-E}()}}\label{kmp__atomic_8c_a144abada1fe99ede3ce9b8f8f377c2a0}


Definition at line 693 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_abfe439830d19f386b85769ba2e7f5329}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-M\-P\-X\-C\-H\-G@{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-M\-P\-X\-C\-H\-G}}
\index{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-M\-P\-X\-C\-H\-G@{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-M\-P\-X\-C\-H\-G}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-M\-P\-X\-C\-H\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-M\-P\-X\-C\-H\-G(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_abfe439830d19f386b85769ba2e7f5329}
{\bfseries Value\-:}
\begin{DoxyCode}
\{                                                                      \(\backslash\)
        TYPE \hyperlink{kmp__atomic_8c_a1437b307229aa5105c8714be599fe578}{KMP\_ATOMIC\_VOLATILE} temp\_val;                                 \(\backslash\)
        TYPE old\_value;                                                    \(\backslash\)
        temp\_val = *lhs;                                                   \(\backslash\)
        old\_value = temp\_val;                                              \(\backslash\)
        while ( old\_value OP rhs &&          \textcolor{comment}{/* still need actions? */}     \(\backslash\)
            ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) lhs,      \(\backslash\)
                      *\hyperlink{kmp__os_8h_aaa9e2fb88f003bd3a22795aadf723e53}{VOLATILE\_CAST}(\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) &old\_value,          \(\backslash\)
                      *\hyperlink{kmp__os_8h_aaa9e2fb88f003bd3a22795aadf723e53}{VOLATILE\_CAST}(\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) &rhs ) )             \(\backslash\)
        \{                                                                  \hyperlink{kmp_8h_a0ae7084deafcd923a77e45e93058c459}{\(\backslash\)}
\hyperlink{kmp_8h_a0ae7084deafcd923a77e45e93058c459}{            KMP\_CPU\_PAUSE}();                                               \(\backslash\)
            temp\_val = *lhs;                                               \(\backslash\)
            old\_value = temp\_val;                                          \(\backslash\)
        \}                                                                  \(\backslash\)
    \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-O\-M\-P\-X\-C\-H\-G@{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-O\-M\-P\-X\-C\-H\-G}}
\index{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-O\-M\-P\-X\-C\-H\-G@{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-O\-M\-P\-X\-C\-H\-G}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-O\-M\-P\-X\-C\-H\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-O\-M\-P\-X\-C\-H\-G(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{M\-A\-S\-K, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                      \(\backslash\)
    if ( *lhs OP rhs ) \{                                                   \hyperlink{kmp__atomic_8c_abac538605549ec3c5cff29b4436bff39}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_abac538605549ec3c5cff29b4436bff39}{        GOMP\_MIN\_MAX\_CRITSECT}(OP,GOMP\_FLAG)                                \(\backslash\)
        if ( ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0\hyperlink{ittnotify__static_8h_a25eb27b280775b27a5ddc4d1673225aa}{x}##MASK) ) \{                       
      \hyperlink{kmp__atomic_8c_abfe439830d19f386b85769ba2e7f5329}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_abfe439830d19f386b85769ba2e7f5329}{            MIN\_MAX\_CMPXCHG}(TYPE,BITS,OP) \textcolor{comment}{/* aligned address */}            \(\backslash\)
        \} \textcolor{keywordflow}{else} \{                                                           \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{            KMP\_CHECK\_GTID};                                                
      \hyperlink{kmp__atomic_8c_adc8e14b978dee30dbb32df6d0a3174d6}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_adc8e14b978dee30dbb32df6d0a3174d6}{            MIN\_MAX\_CRITSECT}(OP,LCK\_ID)   \textcolor{comment}{/* unaligned address */}          \(\backslash\)
        \}                                                                  \(\backslash\)
    \}                                                                      \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_abc3b75f04b35c392281c4289e29edbcb}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L@{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}}
\index{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L@{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E\-\_\-\-I\-D, }
\item[{}]{O\-P\-\_\-\-I\-D, }
\item[{}]{T\-Y\-P\-E, }
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D, }
\item[{}]{G\-O\-M\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_abc3b75f04b35c392281c4289e29edbcb}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8c_a8b138a6c6731b060d81565ac99f5d99d}{ATOMIC\_BEGIN}(TYPE\_ID,OP\_ID,TYPE,\textcolor{keywordtype}{void})                                      \(\backslash\)
    if ( *lhs OP rhs ) \{     \textcolor{comment}{/* need actions? */}                           \hyperlink{kmp__atomic_8c_abac538605549ec3c5cff29b4436bff39}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_abac538605549ec3c5cff29b4436bff39}{        GOMP\_MIN\_MAX\_CRITSECT}(OP,GOMP\_FLAG)                                
      \hyperlink{kmp__atomic_8c_adc8e14b978dee30dbb32df6d0a3174d6}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_adc8e14b978dee30dbb32df6d0a3174d6}{        MIN\_MAX\_CRITSECT}(OP,LCK\_ID)                                        \(\backslash\)
    \}                                                                      \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_adc8e14b978dee30dbb32df6d0a3174d6}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T@{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T}}
\index{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T@{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-I\-N\-\_\-\-M\-A\-X\-\_\-\-C\-R\-I\-T\-S\-E\-C\-T(
\begin{DoxyParamCaption}
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_adc8e14b978dee30dbb32df6d0a3174d6}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & ATOMIC\_LOCK##LCK\_ID, gtid );                     \(\backslash\)
                                                                           \(\backslash\)
    if ( *lhs OP rhs ) \{                 \textcolor{comment}{/* still need actions? */}         \(\backslash\)
        *lhs = rhs;                                                        \(\backslash\)
    \}                                                                      \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\(\backslash\)}
\hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{    \_\_kmp\_release\_atomic\_lock}( & ATOMIC\_LOCK##LCK\_ID, gtid );
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G@{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G}}
\index{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G@{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}
{\bfseries Value\-:}
\begin{DoxyCode}
\{                                                                     \(\backslash\)
        TYPE old\_value, new\_value;                                        \(\backslash\)
        old\_value = *(TYPE \textcolor{keyword}{volatile} *)lhs;                                \(\backslash\)
        new\_value = old\_value OP rhs;                                     \(\backslash\)
        while ( ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) lhs, \(\backslash\)
                      *\hyperlink{kmp__os_8h_aaa9e2fb88f003bd3a22795aadf723e53}{VOLATILE\_CAST}(\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) &old\_value,         \(\backslash\)
                      *\hyperlink{kmp__os_8h_aaa9e2fb88f003bd3a22795aadf723e53}{VOLATILE\_CAST}(\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) &new\_value ) )      \(\backslash\)
        \{                                                                 \hyperlink{kmp__atomic_8c_a144abada1fe99ede3ce9b8f8f377c2a0}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a144abada1fe99ede3ce9b8f8f377c2a0}{                KMP\_DO\_PAUSE};                                             \(\backslash\)
                                                                          \(\backslash\)
            old\_value = *(TYPE \textcolor{keyword}{volatile} *)lhs;                            \(\backslash\)
            new\_value = old\_value OP rhs;                                 \(\backslash\)
        \}                                                                 \(\backslash\)
    \}
\end{DoxyCode}


Definition at line 701 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a89c774f8f39cbc691c6bbb404bab76cc}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D@{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D}}
\index{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D@{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\-P\-\_\-\-C\-M\-P\-X\-C\-H\-G\-\_\-\-W\-O\-R\-K\-A\-R\-O\-U\-N\-D(
\begin{DoxyParamCaption}
\item[{}]{T\-Y\-P\-E, }
\item[{}]{B\-I\-T\-S, }
\item[{}]{O\-P}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a89c774f8f39cbc691c6bbb404bab76cc}
{\bfseries Value\-:}
\begin{DoxyCode}
\{                                                                     \(\backslash\)
        struct \_sss \{                                                     \(\backslash\)
            TYPE            cmp;                                          \hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{\(\backslash\)}
\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{            kmp\_int}##BITS   *vvv;                                         \(\backslash\)
        \};                                                                \(\backslash\)
        struct \_sss old\_value, new\_value;                                 \(\backslash\)
        old\_value.vvv = ( \hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS * )&old\_value.cmp;                \(\backslash\)
        new\_value.vvv = ( \hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS * )&new\_value.cmp;                \(\backslash\)
        *old\_value.vvv = * ( \textcolor{keyword}{volatile} \hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS * ) lhs;              \(\backslash\)
        new\_value.cmp = old\_value.cmp OP rhs;                             \(\backslash\)
        while ( ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) lhs, \(\backslash\)
                      *\hyperlink{kmp__os_8h_aaa9e2fb88f003bd3a22795aadf723e53}{VOLATILE\_CAST}(\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) old\_value.vvv,      \(\backslash\)
                      *\hyperlink{kmp__os_8h_aaa9e2fb88f003bd3a22795aadf723e53}{VOLATILE\_CAST}(\hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS *) new\_value.vvv ) )   \(\backslash\)
        \{                                                                 \hyperlink{kmp__atomic_8c_a144abada1fe99ede3ce9b8f8f377c2a0}{\(\backslash\)}
\hyperlink{kmp__atomic_8c_a144abada1fe99ede3ce9b8f8f377c2a0}{            KMP\_DO\_PAUSE};                                                 \(\backslash\)
                                                                          \(\backslash\)
            *old\_value.vvv = * ( \textcolor{keyword}{volatile} \hyperlink{kmp__os_8h_ac9a328de59a88510e5ad674ab2ab8c1d}{kmp\_int}##BITS * ) lhs;          \(\backslash\)
            new\_value.cmp = old\_value.cmp OP rhs;                         \(\backslash\)
        \}                                                                 \(\backslash\)
    \}
\end{DoxyCode}


Definition at line 725 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!O\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L@{O\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}}
\index{O\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L@{O\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{O\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L(
\begin{DoxyParamCaption}
\item[{}]{O\-P, }
\item[{}]{L\-C\-K\-\_\-\-I\-D}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}
{\bfseries Value\-:}
\begin{DoxyCode}
\hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & ATOMIC\_LOCK##LCK\_ID, gtid );                    \(\backslash\)
                                                                          \(\backslash\)
    (*lhs) OP (rhs);                                                      \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\(\backslash\)}
\hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{                                                                          \(\backslash\)}
\hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{    \_\_kmp\_release\_atomic\_lock}( & ATOMIC\_LOCK##LCK\_ID, gtid );
\end{DoxyCode}


Definition at line 649 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!O\-P\-\_\-\-G\-O\-M\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L@{O\-P\-\_\-\-G\-O\-M\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}}
\index{O\-P\-\_\-\-G\-O\-M\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L@{O\-P\-\_\-\-G\-O\-M\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{O\-P\-\_\-\-G\-O\-M\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\-P\-\_\-\-G\-O\-M\-P\-\_\-\-C\-R\-I\-T\-I\-C\-A\-L(
\begin{DoxyParamCaption}
\item[{}]{O\-P, }
\item[{}]{F\-L\-A\-G}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a7c589a3fe68f1aceebcf4cf831fddb9f}


Definition at line 687 of file kmp\-\_\-atomic.\-c.



\subsection{Typedef Documentation}
\hypertarget{kmp__atomic_8c_a65f85814a8290f9797005d3b28e7e5fc}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!uchar@{uchar}}
\index{uchar@{uchar}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{uchar}]{\setlength{\rightskip}{0pt plus 5cm}typedef unsigned char {\bf uchar}}}\label{kmp__atomic_8c_a65f85814a8290f9797005d3b28e7e5fc}


Definition at line 19 of file kmp\-\_\-atomic.\-c.

\hypertarget{kmp__atomic_8c_ab95f123a6c9bcfee6a343170ef8c5f69}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!ushort@{ushort}}
\index{ushort@{ushort}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{ushort}]{\setlength{\rightskip}{0pt plus 5cm}typedef unsigned short {\bf ushort}}}\label{kmp__atomic_8c_ab95f123a6c9bcfee6a343170ef8c5f69}


Definition at line 20 of file kmp\-\_\-atomic.\-c.



\subsection{Function Documentation}
\hypertarget{kmp__atomic_8c_affbdcc5eceb23a3a468474d3d8d97c0d}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-10@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-10}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-10@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-10}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-10}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-10 (
\begin{DoxyParamCaption}
\item[{{\bf ident\-\_\-t} $\ast$}]{id\-\_\-ref, }
\item[{{\bf int}}]{gtid, }
\item[{{\bf void} $\ast$}]{lhs, }
\item[{{\bf void} $\ast$}]{rhs, }
\item[{{\bf void}($\ast$)({\bf void} $\ast$, {\bf void} $\ast$, {\bf void} $\ast$)}]{f}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_affbdcc5eceb23a3a468474d3d8d97c0d}


Definition at line 2786 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2787 \{
2788     \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );
2789 
2790 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2791 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2792         \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2793     \}
2794     \textcolor{keywordflow}{else}
2795 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2796 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_abff0e9cfd79dc18171406798536bf543}{\_\_kmp\_atomic\_lock\_10r}, gtid 
      );
2797 
2798     (*f)( lhs, lhs, rhs );
2799 
2800 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2801 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2802         \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2803     \}
2804     \textcolor{keywordflow}{else}
2805 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2806 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_abff0e9cfd79dc18171406798536bf543}{\_\_kmp\_atomic\_lock\_10r}, gtid 
      );
2807 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_acede1c11779e4dd09cd50133aa606a00}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-16@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-16}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-16@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-16}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-16}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-16 (
\begin{DoxyParamCaption}
\item[{{\bf ident\-\_\-t} $\ast$}]{id\-\_\-ref, }
\item[{{\bf int}}]{gtid, }
\item[{{\bf void} $\ast$}]{lhs, }
\item[{{\bf void} $\ast$}]{rhs, }
\item[{{\bf void}($\ast$)({\bf void} $\ast$, {\bf void} $\ast$, {\bf void} $\ast$)}]{f}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_acede1c11779e4dd09cd50133aa606a00}


Definition at line 2810 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2811 \{
2812     \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );
2813 
2814 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2815 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2816         \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2817     \}
2818     \textcolor{keywordflow}{else}
2819 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2820 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a2df19c6e1555ce5d33d4f8cb77d5b512}{\_\_kmp\_atomic\_lock\_16c}, gtid 
      );
2821 
2822     (*f)( lhs, lhs, rhs );
2823 
2824 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2825 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2826         \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2827     \}
2828     \textcolor{keywordflow}{else}
2829 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2830 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a2df19c6e1555ce5d33d4f8cb77d5b512}{\_\_kmp\_atomic\_lock\_16c}, gtid 
      );
2831 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a6d9d87ea1a89b83c6ed23e91ad66123e}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-2@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-2}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-2@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-2}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-2 (
\begin{DoxyParamCaption}
\item[{{\bf ident\-\_\-t} $\ast$}]{id\-\_\-ref, }
\item[{{\bf int}}]{gtid, }
\item[{{\bf void} $\ast$}]{lhs, }
\item[{{\bf void} $\ast$}]{rhs, }
\item[{{\bf void}($\ast$)({\bf void} $\ast$, {\bf void} $\ast$, {\bf void} $\ast$)}]{f}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a6d9d87ea1a89b83c6ed23e91ad66123e}


Definition at line 2614 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2615 \{
2616     \textcolor{keywordflow}{if} (
2617 #\textcolor{keywordflow}{if} \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} && defined(KMP\_GOMP\_COMPAT)
2618         \hyperlink{kmp_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}                                   \textcolor{comment}{/* must use lock */}
2619 #elif \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} || \hyperlink{kmp__platform_8h_a4bbc822bf311c981aab5b1704c1566ab}{KMP\_ARCH\_X86\_64}
2620         \hyperlink{kmp_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}                                        \textcolor{comment}{/* no alignment problems */}
2621 #\textcolor{keywordflow}{else}
2622         ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0x1)             \textcolor{comment}{/* make sure address is 2-byte aligned */}
2623 #endif
2624         )
2625     \{
2626         kmp\_int16 old\_value, new\_value;
2627 
2628         old\_value = *(kmp\_int16 *) lhs;
2629         (*f)( &new\_value, &old\_value, rhs );
2630 
2631         \textcolor{comment}{/* TODO: Should this be acquire or release? */}
2632         \textcolor{keywordflow}{while} ( !  \hyperlink{kmp__os_8h_adbb6d764ea0ad4a29c1995e06bbb29da}{KMP\_COMPARE\_AND\_STORE\_ACQ16} ( (kmp\_int16 *) lhs,
2633                                 *(kmp\_int16 *) &old\_value, *(kmp\_int16 *) &new\_value ) )
2634         \{
2635             \hyperlink{kmp_8h_a0ae7084deafcd923a77e45e93058c459}{KMP\_CPU\_PAUSE}();
2636 
2637             old\_value = *(kmp\_int16 *) lhs;
2638             (*f)( &new\_value, &old\_value, rhs );
2639         \}
2640 
2641         \textcolor{keywordflow}{return};
2642     \}
2643     \textcolor{keywordflow}{else} \{
2644         \textcolor{comment}{//}
2645         \textcolor{comment}{// All 2-byte data is of integer data type.}
2646         \textcolor{comment}{//}
2647 
2648 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2649 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2650             \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2651         \}
2652         \textcolor{keywordflow}{else}
2653 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2654 \textcolor{preprocessor}{}        \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a3e226fc78daba995532675879fc06823}{\_\_kmp\_atomic\_lock\_2i}, gtid );
2655 
2656         (*f)( lhs, lhs, rhs );
2657 
2658 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2659 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2660             \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2661         \}
2662         \textcolor{keywordflow}{else}
2663 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2664 \textcolor{preprocessor}{}        \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a3e226fc78daba995532675879fc06823}{\_\_kmp\_atomic\_lock\_2i}, gtid );
2665     \}
2666 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_afc80b3a741024100aa32083451d4b56b}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-20@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-20}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-20@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-20}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-20}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-20 (
\begin{DoxyParamCaption}
\item[{{\bf ident\-\_\-t} $\ast$}]{id\-\_\-ref, }
\item[{{\bf int}}]{gtid, }
\item[{{\bf void} $\ast$}]{lhs, }
\item[{{\bf void} $\ast$}]{rhs, }
\item[{{\bf void}($\ast$)({\bf void} $\ast$, {\bf void} $\ast$, {\bf void} $\ast$)}]{f}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_afc80b3a741024100aa32083451d4b56b}


Definition at line 2834 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2835 \{
2836     \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );
2837 
2838 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2839 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2840         \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2841     \}
2842     \textcolor{keywordflow}{else}
2843 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2844 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a217fcb3cacae498df8f49d7e9279405d}{\_\_kmp\_atomic\_lock\_20c}, gtid 
      );
2845 
2846     (*f)( lhs, lhs, rhs );
2847 
2848 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2849 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2850         \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2851     \}
2852     \textcolor{keywordflow}{else}
2853 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2854 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a217fcb3cacae498df8f49d7e9279405d}{\_\_kmp\_atomic\_lock\_20c}, gtid 
      );
2855 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_ae528f144023a073b7b1d54435161f0d2}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-32@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-32}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-32@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-32}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-32}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-32 (
\begin{DoxyParamCaption}
\item[{{\bf ident\-\_\-t} $\ast$}]{id\-\_\-ref, }
\item[{{\bf int}}]{gtid, }
\item[{{\bf void} $\ast$}]{lhs, }
\item[{{\bf void} $\ast$}]{rhs, }
\item[{{\bf void}($\ast$)({\bf void} $\ast$, {\bf void} $\ast$, {\bf void} $\ast$)}]{f}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_ae528f144023a073b7b1d54435161f0d2}


Definition at line 2858 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2859 \{
2860     \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );
2861 
2862 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2863 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2864         \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2865     \}
2866     \textcolor{keywordflow}{else}
2867 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2868 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a6941912d51b6039c512f706674a2fcef}{\_\_kmp\_atomic\_lock\_32c}, gtid 
      );
2869 
2870     (*f)( lhs, lhs, rhs );
2871 
2872 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2873 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2874         \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2875     \}
2876     \textcolor{keywordflow}{else}
2877 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2878 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & \hyperlink{kmp__atomic_8c_a6941912d51b6039c512f706674a2fcef}{\_\_kmp\_atomic\_lock\_32c}, gtid 
      );
2879 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a8ee79e52139355b09e6d5cfe8334930f}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-4@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-4}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-4@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-4}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-4}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-4 (
\begin{DoxyParamCaption}
\item[{{\bf ident\-\_\-t} $\ast$}]{id\-\_\-ref, }
\item[{{\bf int}}]{gtid, }
\item[{{\bf void} $\ast$}]{lhs, }
\item[{{\bf void} $\ast$}]{rhs, }
\item[{{\bf void}($\ast$)({\bf void} $\ast$, {\bf void} $\ast$, {\bf void} $\ast$)}]{f}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a8ee79e52139355b09e6d5cfe8334930f}


Definition at line 2669 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2670 \{
2671     \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );
2672 
2673     \textcolor{keywordflow}{if} (
2674         \textcolor{comment}{//}
2675         \textcolor{comment}{// FIXME: On IA-32 architecture, gcc uses cmpxchg only for 4-byte ints.}
2676         \textcolor{comment}{// Gomp compatibility is broken if this routine is called for floats.}
2677         \textcolor{comment}{//}
2678 #\textcolor{keywordflow}{if} \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} || \hyperlink{kmp__platform_8h_a4bbc822bf311c981aab5b1704c1566ab}{KMP\_ARCH\_X86\_64}
2679         \hyperlink{kmp_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}                                        \textcolor{comment}{/* no alignment problems */}
2680 #\textcolor{keywordflow}{else}
2681         ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0x3)             \textcolor{comment}{/* make sure address is 4-byte aligned */}
2682 #endif
2683         )
2684     \{
2685         kmp\_int32 old\_value, new\_value;
2686 
2687         old\_value = *(kmp\_int32 *) lhs;
2688         (*f)( &new\_value, &old\_value, rhs );
2689 
2690         \textcolor{comment}{/* TODO: Should this be acquire or release? */}
2691         \textcolor{keywordflow}{while} ( !  \hyperlink{kmp__os_8h_ae2107985ffcede8039b92405b7153954}{KMP\_COMPARE\_AND\_STORE\_ACQ32} ( (kmp\_int32 *) lhs,
2692                                 *(kmp\_int32 *) &old\_value, *(kmp\_int32 *) &new\_value ) )
2693         \{
2694             \hyperlink{kmp_8h_a0ae7084deafcd923a77e45e93058c459}{KMP\_CPU\_PAUSE}();
2695 
2696             old\_value = *(kmp\_int32 *) lhs;
2697             (*f)( &new\_value, &old\_value, rhs );
2698         \}
2699 
2700         \textcolor{keywordflow}{return};
2701     \}
2702     \textcolor{keywordflow}{else} \{
2703         \textcolor{comment}{//}
2704         \textcolor{comment}{// Use \_\_kmp\_atomic\_lock\_4i for all 4-byte data,}
2705         \textcolor{comment}{// even if it isn't of integer data type.}
2706         \textcolor{comment}{//}
2707 
2708 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2709 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2710             \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2711         \}
2712         \textcolor{keywordflow}{else}
2713 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2714 \textcolor{preprocessor}{}        \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a08fdf7dcf239a33099145c76187dd830}{\_\_kmp\_atomic\_lock\_4i}, gtid );
2715 
2716         (*f)( lhs, lhs, rhs );
2717 
2718 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2719 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2720             \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2721         \}
2722         \textcolor{keywordflow}{else}
2723 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2724 \textcolor{preprocessor}{}        \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a08fdf7dcf239a33099145c76187dd830}{\_\_kmp\_atomic\_lock\_4i}, gtid );
2725     \}
2726 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_af53b9d1f6560dec47b7e83488d96544b}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-8@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-8}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-8@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-8}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-8}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-8 (
\begin{DoxyParamCaption}
\item[{{\bf ident\-\_\-t} $\ast$}]{id\-\_\-ref, }
\item[{{\bf int}}]{gtid, }
\item[{{\bf void} $\ast$}]{lhs, }
\item[{{\bf void} $\ast$}]{rhs, }
\item[{{\bf void}($\ast$)({\bf void} $\ast$, {\bf void} $\ast$, {\bf void} $\ast$)}]{f}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_af53b9d1f6560dec47b7e83488d96544b}


Definition at line 2729 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2730 \{
2731     \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );
2732     \textcolor{keywordflow}{if} (
2733 
2734 #\textcolor{keywordflow}{if} \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} && defined(KMP\_GOMP\_COMPAT)
2735         \hyperlink{kmp_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}                                   \textcolor{comment}{/* must use lock */}
2736 #elif \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} || \hyperlink{kmp__platform_8h_a4bbc822bf311c981aab5b1704c1566ab}{KMP\_ARCH\_X86\_64}
2737         \hyperlink{kmp_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}                                        \textcolor{comment}{/* no alignment problems */}
2738 #\textcolor{keywordflow}{else}
2739         ! ( (\hyperlink{kmp__os_8h_aece5d2283ded002ee31aea0b51e13120}{kmp\_uintptr\_t}) lhs & 0x7)             \textcolor{comment}{/* make sure address is 8-byte aligned */}
2740 #endif
2741         )
2742     \{
2743         kmp\_int64 old\_value, new\_value;
2744 
2745         old\_value = *(kmp\_int64 *) lhs;
2746         (*f)( &new\_value, &old\_value, rhs );
2747         \textcolor{comment}{/* TODO: Should this be acquire or release? */}
2748         \textcolor{keywordflow}{while} ( !  \hyperlink{kmp__os_8h_a530a2ef10afdb7b7f5dcf2ac226e80ba}{KMP\_COMPARE\_AND\_STORE\_ACQ64} ( (kmp\_int64 *) lhs,
2749                                                *(kmp\_int64 *) &old\_value,
2750                                                *(kmp\_int64 *) &new\_value ) )
2751         \{
2752             \hyperlink{kmp_8h_a0ae7084deafcd923a77e45e93058c459}{KMP\_CPU\_PAUSE}();
2753 
2754             old\_value = *(kmp\_int64 *) lhs;
2755             (*f)( &new\_value, &old\_value, rhs );
2756         \}
2757 
2758         \textcolor{keywordflow}{return};
2759     \} \textcolor{keywordflow}{else} \{
2760         \textcolor{comment}{//}
2761         \textcolor{comment}{// Use \_\_kmp\_atomic\_lock\_8i for all 8-byte data,}
2762         \textcolor{comment}{// even if it isn't of integer data type.}
2763         \textcolor{comment}{//}
2764 
2765 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2766 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2767             \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2768         \}
2769         \textcolor{keywordflow}{else}
2770 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2771 \textcolor{preprocessor}{}        \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a6cf3b5db5e0375de58b9baf9819ba409}{\_\_kmp\_atomic\_lock\_8i}, gtid );
2772 
2773         (*f)( lhs, lhs, rhs );
2774 
2775 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2776 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2777             \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2778         \}
2779         \textcolor{keywordflow}{else}
2780 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2781 \textcolor{preprocessor}{}        \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a6cf3b5db5e0375de58b9baf9819ba409}{\_\_kmp\_atomic\_lock\_8i}, gtid );
2782     \}
2783 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_a99f44b84dfdf64370407bc4d08a25753}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-end@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-end}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-end@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-end}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-end}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-end (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_a99f44b84dfdf64370407bc4d08a25753}


Definition at line 2894 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2895 \{
2896     \textcolor{keywordtype}{int} gtid = \hyperlink{kmp_8h_ad9b4e1a8a911f57a29a75f7536e5200c}{\_\_kmp\_get\_gtid}();
2897     \hyperlink{kmp__debug_8h_a21d51f37cb197aca5ffe737531678830}{KA\_TRACE}(20, (\textcolor{stringliteral}{"\_\_kmpc\_atomic\_end: T#%d\(\backslash\)n"}, gtid));
2898     \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}(&\hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid);
2899 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_ac80aaa698accebb4a8ef94b623527cbe}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-start@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-start}}
\index{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-start@{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-start}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} \-\_\-\-\_\-kmpc\-\_\-atomic\-\_\-start (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_ac80aaa698accebb4a8ef94b623527cbe}


Definition at line 2885 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
2886 \{
2887     \textcolor{keywordtype}{int} gtid = \hyperlink{kmp_8h_a5d1e6d7c35de87705193f11d65457229}{\_\_kmp\_entry\_gtid}();
2888     \hyperlink{kmp__debug_8h_a21d51f37cb197aca5ffe737531678830}{KA\_TRACE}(20, (\textcolor{stringliteral}{"\_\_kmpc\_atomic\_start: T#%d\(\backslash\)n"}, gtid));
2889     \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}(&\hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid);
2890 \}
\end{DoxyCode}
\hypertarget{kmp__atomic_8c_ac92fc947261232e168ef70adb244a37a}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D@{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D}}
\index{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D@{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D}]{\setlength{\rightskip}{0pt plus 5cm}A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D (
\begin{DoxyParamCaption}
\item[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(}]{fixed4, }
\item[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(}]{add, }
\item[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(}]{kmp\-\_\-int32, }
\item[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(}]{32, }
\item[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(}]{+, }
\item[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(}]{4i, }
\item[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(}]{3, }
\item[{A\-T\-O\-M\-I\-C\-\_\-\-F\-I\-X\-E\-D\-\_\-\-A\-D\-D(}]{0}
\end{DoxyParamCaption}
)}}\label{kmp__atomic_8c_ac92fc947261232e168ef70adb244a37a}


Definition at line 819 of file kmp\-\_\-atomic.\-c.


\begin{DoxyCode}
923                                                \{                          \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{\(\backslash\)}
924 \hyperlink{kmp__atomic_8c_a26732463febe86651fd005a7978105c3}{        OP\_CMPXCHG}(TYPE,BITS,OP)       \textcolor{comment}{/* aligned address */}              \(\backslash\)
925     \} \textcolor{keywordflow}{else} \{                                                              \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{\(\backslash\)}
926 \hyperlink{kmp__atomic_8c_ae822071a6cf7217db1ea45cf03cfa0ce}{        KMP\_CHECK\_GTID};                                                   
      \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{\(\backslash\)}
927 \hyperlink{kmp__atomic_8c_ad57553958cf8132329972e22a4fb7a28}{        OP\_CRITICAL}(= *lhs OP,LCK\_ID)  \textcolor{comment}{/* unaligned - use critical */}     \(\backslash\)
928     \}                                                                     \(\backslash\)
929 \}
930 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64 */}\textcolor{preprocessor}{}
931 \textcolor{preprocessor}{}
932 \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{ATOMIC\_CMPX\_L}( fixed1, andl, \textcolor{keywordtype}{char},       8, &&, 1\hyperlink{kmp__stub_8c_a08582ce460e3d5e1cf0b7fea017d608e}{i}, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_andl}
933 \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{ATOMIC\_CMPX\_L}( fixed1,  orl, \textcolor{keywordtype}{char},       8, ||, 1\hyperlink{kmp__stub_8c_a08582ce460e3d5e1cf0b7fea017d608e}{i}, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_orl}
934 \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{ATOMIC\_CMPX\_L}( fixed2, andl, \textcolor{keywordtype}{short},     16, &&, 2i, 1, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_andl}
935 \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{ATOMIC\_CMPX\_L}( fixed2,  orl, \textcolor{keywordtype}{short},     16, ||, 2i, 1, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_orl}
936 \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{ATOMIC\_CMPX\_L}( fixed4, andl, kmp\_int32, 32, &&, 4i, 3, 0 )             \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_andl}
937 \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{ATOMIC\_CMPX\_L}( fixed4,  orl, kmp\_int32, 32, ||, 4i, 3, 0 )             \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_orl}
938 \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{ATOMIC\_CMPX\_L}( fixed8, andl, kmp\_int64, 64, &&, 8i, 7, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_andl}
939 \hyperlink{kmp__atomic_8c_abd83b05f3700020c4127a8166d01a0f1}{ATOMIC\_CMPX\_L}( fixed8,  orl, kmp\_int64, 64, ||, 8i, 7, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_orl}
940 
941 
942 \textcolor{comment}{/* ------------------------------------------------------------------------- */}
943 \textcolor{comment}{/* Routines for Fortran operators that matched no one in C:                  */}
944 \textcolor{comment}{/* MAX, MIN, .EQV., .NEQV.                                                   */}
945 \textcolor{comment}{/* Operators .AND., .OR. are covered by \_\_kmpc\_atomic\_*\_\{andl,orl\}           */}
946 \textcolor{comment}{/* Intrinsics IAND, IOR, IEOR are covered by \_\_kmpc\_atomic\_*\_\{andb,orb,xor\}  */}
947 \textcolor{comment}{/* ------------------------------------------------------------------------- */}
948 
949 \textcolor{comment}{// -------------------------------------------------------------------------}
950 \textcolor{comment}{// MIN and MAX need separate macros}
951 \textcolor{comment}{// OP - operator to check if we need any actions?}
952 \textcolor{preprocessor}{#define MIN\_MAX\_CRITSECT(OP,LCK\_ID)                                        \(\backslash\)}
953 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );                     \(\backslash\)}
954 \textcolor{preprocessor}{                                                                           \(\backslash\)}
955 \textcolor{preprocessor}{    if ( *lhs OP rhs ) \{                 }\textcolor{comment}{/* still need actions? */}\textcolor{preprocessor}{         \(\backslash\)}
956 \textcolor{preprocessor}{        *lhs = rhs;                                                        \(\backslash\)}
957 \textcolor{preprocessor}{    \}                                                                      \(\backslash\)}
958 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );}
959 \textcolor{preprocessor}{}
960 \textcolor{comment}{// -------------------------------------------------------------------------}
961 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
962 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GOMP\_MIN\_MAX\_CRITSECT(OP,FLAG)                                     \(\backslash\)}
963 \textcolor{preprocessor}{    if (( FLAG ) && ( \_\_kmp\_atomic\_mode == 2 )) \{                          \(\backslash\)}
964 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                    \(\backslash\)}
965 \textcolor{preprocessor}{        MIN\_MAX\_CRITSECT( OP, 0 );                                         \(\backslash\)}
966 \textcolor{preprocessor}{        return;                                                            \(\backslash\)}
967 \textcolor{preprocessor}{    \}}
968 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
969 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GOMP\_MIN\_MAX\_CRITSECT(OP,FLAG)}
970 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
971 \textcolor{preprocessor}{}
972 \textcolor{comment}{// -------------------------------------------------------------------------}
973 \textcolor{preprocessor}{#define MIN\_MAX\_CMPXCHG(TYPE,BITS,OP)                                      \(\backslash\)}
974 \textcolor{preprocessor}{    \{                                                                      \(\backslash\)}
975 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                 \(\backslash\)}
976 \textcolor{preprocessor}{        TYPE old\_value;                                                    \(\backslash\)}
977 \textcolor{preprocessor}{        temp\_val = *lhs;                                                   \(\backslash\)}
978 \textcolor{preprocessor}{        old\_value = temp\_val;                                              \(\backslash\)}
979 \textcolor{preprocessor}{        while ( old\_value OP rhs &&          }\textcolor{comment}{/* still need actions? */}\textcolor{preprocessor}{     \(\backslash\)}
980 \textcolor{preprocessor}{            ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (kmp\_int##BITS *) lhs,      \(\backslash\)}
981 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value,          \(\backslash\)}
982 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &rhs ) )             \(\backslash\)}
983 \textcolor{preprocessor}{        \{                                                                  \(\backslash\)}
984 \textcolor{preprocessor}{            KMP\_CPU\_PAUSE();                                               \(\backslash\)}
985 \textcolor{preprocessor}{            temp\_val = *lhs;                                               \(\backslash\)}
986 \textcolor{preprocessor}{            old\_value = temp\_val;                                          \(\backslash\)}
987 \textcolor{preprocessor}{        \}                                                                  \(\backslash\)}
988 \textcolor{preprocessor}{    \}}
989 \textcolor{preprocessor}{}
990 \textcolor{comment}{// -------------------------------------------------------------------------}
991 \textcolor{comment}{// 1-byte, 2-byte operands - use critical section}
992 \textcolor{preprocessor}{#define MIN\_MAX\_CRITICAL(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)           \(\backslash\)}
993 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                      \(\backslash\)}
994 \textcolor{preprocessor}{    if ( *lhs OP rhs ) \{     }\textcolor{comment}{/* need actions? */}\textcolor{preprocessor}{                           \(\backslash\)}
995 \textcolor{preprocessor}{        GOMP\_MIN\_MAX\_CRITSECT(OP,GOMP\_FLAG)                                \(\backslash\)}
996 \textcolor{preprocessor}{        MIN\_MAX\_CRITSECT(OP,LCK\_ID)                                        \(\backslash\)}
997 \textcolor{preprocessor}{    \}                                                                      \(\backslash\)}
998 \textcolor{preprocessor}{\}}
999 \textcolor{preprocessor}{}
1000 \textcolor{preprocessor}{#if KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64}
1001 \textcolor{preprocessor}{}
1002 \textcolor{comment}{// -------------------------------------------------------------------------}
1003 \textcolor{comment}{// X86 or X86\_64: no alignment problems ====================================}
1004 \textcolor{preprocessor}{#define MIN\_MAX\_COMPXCHG(TYPE\_ID,OP\_ID,TYPE,BITS,OP,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1005 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                      \(\backslash\)}
1006 \textcolor{preprocessor}{    if ( *lhs OP rhs ) \{                                                   \(\backslash\)}
1007 \textcolor{preprocessor}{        GOMP\_MIN\_MAX\_CRITSECT(OP,GOMP\_FLAG)                                \(\backslash\)}
1008 \textcolor{preprocessor}{        MIN\_MAX\_CMPXCHG(TYPE,BITS,OP)                                      \(\backslash\)}
1009 \textcolor{preprocessor}{    \}                                                                      \(\backslash\)}
1010 \textcolor{preprocessor}{\}}
1011 \textcolor{preprocessor}{}
1012 \textcolor{preprocessor}{#else}
1013 \textcolor{preprocessor}{}\textcolor{comment}{// -------------------------------------------------------------------------}
1014 \textcolor{comment}{// Code for other architectures that don't handle unaligned accesses.}
1015 \textcolor{preprocessor}{#define MIN\_MAX\_COMPXCHG(TYPE\_ID,OP\_ID,TYPE,BITS,OP,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1016 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                      \(\backslash\)}
1017 \textcolor{preprocessor}{    if ( *lhs OP rhs ) \{                                                   \(\backslash\)}
1018 \textcolor{preprocessor}{        GOMP\_MIN\_MAX\_CRITSECT(OP,GOMP\_FLAG)                                \(\backslash\)}
1019 \textcolor{preprocessor}{        if ( ! ( (kmp\_uintptr\_t) lhs & 0x##MASK) ) \{                       \(\backslash\)}
1020 \textcolor{preprocessor}{            MIN\_MAX\_CMPXCHG(TYPE,BITS,OP) }\textcolor{comment}{/* aligned address */}\textcolor{preprocessor}{            \(\backslash\)}
1021 \textcolor{preprocessor}{        \} else \{                                                           \(\backslash\)}
1022 \textcolor{preprocessor}{            KMP\_CHECK\_GTID;                                                \(\backslash\)}
1023 \textcolor{preprocessor}{            MIN\_MAX\_CRITSECT(OP,LCK\_ID)   }\textcolor{comment}{/* unaligned address */}\textcolor{preprocessor}{          \(\backslash\)}
1024 \textcolor{preprocessor}{        \}                                                                  \(\backslash\)}
1025 \textcolor{preprocessor}{    \}                                                                      \(\backslash\)}
1026 \textcolor{preprocessor}{\}}
1027 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64 */}\textcolor{preprocessor}{}
1028 \textcolor{preprocessor}{}
1029 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( fixed1,  max, \textcolor{keywordtype}{char},        8, <, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_max}
1030 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( fixed1,  \hyperlink{ittnotify__static_8c_ac6afabdc09a49a433ee19d8a9486056d}{min}, \textcolor{keywordtype}{char},        8, >, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_min}
1031 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( fixed2,  max, \textcolor{keywordtype}{short},      16, <, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_max}
1032 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( fixed2,  min, \textcolor{keywordtype}{short},      16, >, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_min}
1033 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( fixed4,  max, kmp\_int32,  32, <, 4i, 3, 0 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_max}
1034 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( fixed4,  min, kmp\_int32,  32, >, 4i, 3, 0 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_min}
1035 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( fixed8,  max, kmp\_int64,  64, <, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_max}
1036 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( fixed8,  min, kmp\_int64,  64, >, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_min}
1037 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( float4,  max, \hyperlink{kmp__os_8h_a4bf055e5fad03c968b64b6b75cfa950a}{kmp\_real32}, 32, <, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_max}
1038 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( float4,  min, kmp\_real32, 32, >, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_min}
1039 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( float8,  max, \hyperlink{kmp__os_8h_ae84e3ce68452993c40826056c50a7f7c}{kmp\_real64}, 64, <, 8r, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float8\_max}
1040 \hyperlink{kmp__atomic_8c_a43983bd8de57f352a99fc5c9d98a4f1a}{MIN\_MAX\_COMPXCHG}( float8,  min, kmp\_real64, 64, >, 8r, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float8\_min}
1041 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1042 \textcolor{preprocessor}{}\hyperlink{kmp__atomic_8c_abc3b75f04b35c392281c4289e29edbcb}{MIN\_MAX\_CRITICAL}( float16, max,     \hyperlink{kmp__atomic_8h_a6ac1fd819d063e42659b98a2015517a3}{QUAD\_LEGACY},      <, 16r,   1 )            \textcolor{comment}{
      // \_\_kmpc\_atomic\_float16\_max}
1043 \hyperlink{kmp__atomic_8c_abc3b75f04b35c392281c4289e29edbcb}{MIN\_MAX\_CRITICAL}( float16, min,     \hyperlink{kmp__atomic_8h_a6ac1fd819d063e42659b98a2015517a3}{QUAD\_LEGACY},      >, 16r,   1 )            \textcolor{comment}{
      // \_\_kmpc\_atomic\_float16\_min}
1044 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1045 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8c_abc3b75f04b35c392281c4289e29edbcb}{MIN\_MAX\_CRITICAL}( float16, max\_a16, Quad\_a16\_t,     <, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_max\_a16}
1046     \hyperlink{kmp__atomic_8c_abc3b75f04b35c392281c4289e29edbcb}{MIN\_MAX\_CRITICAL}( float16, min\_a16, Quad\_a16\_t,     >, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_min\_a16}
1047 \textcolor{preprocessor}{#endif}
1048 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
1049 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1050 \textcolor{comment}{// Need separate macros for .EQV. because of the need of complement (~)}
1051 \textcolor{comment}{// OP ignored for critical sections, ^=~ used instead}
1052 \textcolor{preprocessor}{#define ATOMIC\_CRIT\_EQV(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)           \(\backslash\)}
1053 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1054 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(^=~,GOMP\_FLAG)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{                \(\backslash\)}
1055 \textcolor{preprocessor}{    OP\_CRITICAL(^=~,LCK\_ID)    }\textcolor{comment}{/* send assignment and complement */}\textcolor{preprocessor}{       \(\backslash\)}
1056 \textcolor{preprocessor}{\}}
1057 \textcolor{preprocessor}{}
1058 \textcolor{comment}{// ------------------------------------------------------------------------}
1059 \textcolor{preprocessor}{#if KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64}
1060 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1061 \textcolor{comment}{// X86 or X86\_64: no alignment problems ===================================}
1062 \textcolor{preprocessor}{#define ATOMIC\_CMPX\_EQV(TYPE\_ID,OP\_ID,TYPE,BITS,OP,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1063 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1064 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(^=~,GOMP\_FLAG)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{                \(\backslash\)}
1065 \textcolor{preprocessor}{    OP\_CMPXCHG(TYPE,BITS,OP)                                              \(\backslash\)}
1066 \textcolor{preprocessor}{\}}
1067 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1068 \textcolor{preprocessor}{#else}
1069 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1070 \textcolor{comment}{// Code for other architectures that don't handle unaligned accesses.}
1071 \textcolor{preprocessor}{#define ATOMIC\_CMPX\_EQV(TYPE\_ID,OP\_ID,TYPE,BITS,OP,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1072 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1073 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(^=~,GOMP\_FLAG)                                       \(\backslash\)}
1074 \textcolor{preprocessor}{    if ( ! ( (kmp\_uintptr\_t) lhs & 0x##MASK) ) \{                          \(\backslash\)}
1075 \textcolor{preprocessor}{        OP\_CMPXCHG(TYPE,BITS,OP)   }\textcolor{comment}{/* aligned address */}\textcolor{preprocessor}{                  \(\backslash\)}
1076 \textcolor{preprocessor}{    \} else \{                                                              \(\backslash\)}
1077 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
1078 \textcolor{preprocessor}{        OP\_CRITICAL(^=~,LCK\_ID)    }\textcolor{comment}{/* unaligned address - use critical */}\textcolor{preprocessor}{ \(\backslash\)}
1079 \textcolor{preprocessor}{    \}                                                                     \(\backslash\)}
1080 \textcolor{preprocessor}{\}}
1081 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64 */}\textcolor{preprocessor}{}
1082 \textcolor{preprocessor}{}
1083 \hyperlink{kmp__atomic_8c_ae4f39bd78210dca6519e5286cdc1bde2}{ATOMIC\_CMPXCHG}(  fixed1, neqv, kmp\_int8,   8,   ^, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_neqv}
1084 \hyperlink{kmp__atomic_8c_ae4f39bd78210dca6519e5286cdc1bde2}{ATOMIC\_CMPXCHG}(  fixed2, neqv, kmp\_int16, 16,   ^, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_neqv}
1085 \hyperlink{kmp__atomic_8c_ae4f39bd78210dca6519e5286cdc1bde2}{ATOMIC\_CMPXCHG}(  fixed4, neqv, kmp\_int32, 32,   ^, 4i, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_neqv}
1086 \hyperlink{kmp__atomic_8c_ae4f39bd78210dca6519e5286cdc1bde2}{ATOMIC\_CMPXCHG}(  fixed8, neqv, kmp\_int64, 64,   ^, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_neqv}
1087 \hyperlink{kmp__atomic_8c_a0e79ec237696d89fbb8985bfda84e005}{ATOMIC\_CMPX\_EQV}( fixed1, eqv,  kmp\_int8,   8,  ^~, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_eqv}
1088 \hyperlink{kmp__atomic_8c_a0e79ec237696d89fbb8985bfda84e005}{ATOMIC\_CMPX\_EQV}( fixed2, eqv,  kmp\_int16, 16,  ^~, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_eqv}
1089 \hyperlink{kmp__atomic_8c_a0e79ec237696d89fbb8985bfda84e005}{ATOMIC\_CMPX\_EQV}( fixed4, eqv,  kmp\_int32, 32,  ^~, 4i, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_eqv}
1090 \hyperlink{kmp__atomic_8c_a0e79ec237696d89fbb8985bfda84e005}{ATOMIC\_CMPX\_EQV}( fixed8, eqv,  kmp\_int64, 64,  ^~, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_eqv}
1091 
1092 
1093 \textcolor{comment}{// ------------------------------------------------------------------------}
1094 \textcolor{comment}{// Routines for Extended types: long double, \_Quad, complex flavours (use critical section)}
1095 \textcolor{comment}{//     TYPE\_ID, OP\_ID, TYPE - detailed above}
1096 \textcolor{comment}{//     OP      - operator}
1097 \textcolor{comment}{//     LCK\_ID  - lock identifier, used to possibly distinguish lock variable}
1098 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)           \(\backslash\)}
1099 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1100 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP##=,GOMP\_FLAG)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{              \(\backslash\)}
1101 \textcolor{preprocessor}{    OP\_CRITICAL(OP##=,LCK\_ID)          }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{              \(\backslash\)}
1102 \textcolor{preprocessor}{\}}
1103 \textcolor{preprocessor}{}
1104 \textcolor{comment}{/* ------------------------------------------------------------------------- */}
1105 \textcolor{comment}{// routines for long double type}
1106 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float10, add, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     +, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_add}
1107 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float10, sub, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     -, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_sub}
1108 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float10, mul, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     *, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_mul}
1109 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float10, div, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     /, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_div}
1110 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1111 \textcolor{preprocessor}{}\textcolor{comment}{// routines for \_Quad type}
1112 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float16, add, QUAD\_LEGACY,     +, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_add}
1113 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float16, sub, QUAD\_LEGACY,     -, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_sub}
1114 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float16, mul, QUAD\_LEGACY,     *, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_mul}
1115 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float16, div, QUAD\_LEGACY,     /, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_div}
1116 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1117 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float16, add\_a16, Quad\_a16\_t, +, 16r, 1 )           \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_add\_a16}
1118     \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float16, sub\_a16, Quad\_a16\_t, -, 16r, 1 )           \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_sub\_a16}
1119     \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float16, mul\_a16, Quad\_a16\_t, *, 16r, 1 )           \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_mul\_a16}
1120     \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( float16, div\_a16, Quad\_a16\_t, /, 16r, 1 )           \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_div\_a16}
1121 \textcolor{preprocessor}{#endif}
1122 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
1123 \textcolor{preprocessor}{}\textcolor{comment}{// routines for complex types}
1124 
1125 \textcolor{preprocessor}{#if USE\_CMPXCHG\_FIX}
1126 \textcolor{preprocessor}{}\textcolor{comment}{// workaround for C78287 (complex(kind=4) data type)}
1127 \hyperlink{kmp__atomic_8c_a0bc25287e331cc11b50e533425e7929d}{ATOMIC\_CMPXCHG\_WORKAROUND}( cmplx4, add, \hyperlink{kmp__atomic_8h_ad8a8cb75fe83ea104b69764b8d14ece6}{kmp\_cmplx32}, 64, +, 8c, 7, 1 ) 
        \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_add}
1128 \hyperlink{kmp__atomic_8c_a0bc25287e331cc11b50e533425e7929d}{ATOMIC\_CMPXCHG\_WORKAROUND}( cmplx4, sub, \hyperlink{kmp__atomic_8h_ad8a8cb75fe83ea104b69764b8d14ece6}{kmp\_cmplx32}, 64, -, 8c, 7, 1 ) 
        \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_sub}
1129 \hyperlink{kmp__atomic_8c_a0bc25287e331cc11b50e533425e7929d}{ATOMIC\_CMPXCHG\_WORKAROUND}( cmplx4, mul, kmp\_cmplx32, 64, *, 8c, 7, 1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_mul}
1130 \hyperlink{kmp__atomic_8c_a0bc25287e331cc11b50e533425e7929d}{ATOMIC\_CMPXCHG\_WORKAROUND}( cmplx4, div, kmp\_cmplx32, 64, /, 8c, 7, 1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_div}
1131 \textcolor{comment}{// end of the workaround for C78287}
1132 \textcolor{preprocessor}{#else}
1133 \textcolor{preprocessor}{}\hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx4,  add, kmp\_cmplx32,     +,  8c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_add}
1134 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx4,  sub, kmp\_cmplx32,     -,  8c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_sub}
1135 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx4,  mul, kmp\_cmplx32,     *,  8c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_mul}
1136 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx4,  div, kmp\_cmplx32,     /,  8c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_div}
1137 \textcolor{preprocessor}{#endif // USE\_CMPXCHG\_FIX}
1138 \textcolor{preprocessor}{}
1139 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx8,  add, \hyperlink{kmp__atomic_8h_a46abbbffc3ec48da751680c125a04460}{kmp\_cmplx64},     +, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_add}
1140 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx8,  sub, \hyperlink{kmp__atomic_8h_a46abbbffc3ec48da751680c125a04460}{kmp\_cmplx64},     -, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_sub}
1141 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx8,  mul, kmp\_cmplx64,     *, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_mul}
1142 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx8,  div, kmp\_cmplx64,     /, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_div}
1143 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx10, add, \hyperlink{kmp__atomic_8h_aeaba9a06ce8039e374d2f137b85afc8b}{kmp\_cmplx80},     +, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_add}
1144 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx10, sub, kmp\_cmplx80,     -, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_sub}
1145 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx10, mul, kmp\_cmplx80,     *, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_mul}
1146 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx10, div, kmp\_cmplx80,     /, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_div}
1147 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1148 \textcolor{preprocessor}{}\hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx16, add, \hyperlink{kmp__atomic_8h_ad8ff12f89fcb6ca6c3874fbbef09fe9f}{CPLX128\_LEG},     +, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_add}
1149 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx16, sub, \hyperlink{kmp__atomic_8h_ad8ff12f89fcb6ca6c3874fbbef09fe9f}{CPLX128\_LEG},     -, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_sub}
1150 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx16, mul, CPLX128\_LEG,     *, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_mul}
1151 \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx16, div, CPLX128\_LEG,     /, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_div}
1152 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1153 \textcolor{preprocessor}{}    \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx16, add\_a16, kmp\_cmplx128\_a16\_t, +, 32c, 1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_add\_a16}
1154     \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx16, sub\_a16, kmp\_cmplx128\_a16\_t, -, 32c, 1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_sub\_a16}
1155     \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx16, mul\_a16, kmp\_cmplx128\_a16\_t, *, 32c, 1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_mul\_a16}
1156     \hyperlink{kmp__atomic_8c_a5464662d9d53e340273a1b4aa766587a}{ATOMIC\_CRITICAL}( cmplx16, div\_a16, kmp\_cmplx128\_a16\_t, /, 32c, 1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_div\_a16}
1157 \textcolor{preprocessor}{#endif}
1158 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
1159 \textcolor{preprocessor}{}
1160 \textcolor{preprocessor}{#if OMP\_40\_ENABLED}
1161 \textcolor{preprocessor}{}
1162 \textcolor{comment}{// OpenMP 4.0: x = expr binop x for non-commutative operations.}
1163 \textcolor{comment}{// Supported only on IA-32 architecture and Intel(R) 64}
1164 \textcolor{preprocessor}{#if KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64}
1165 \textcolor{preprocessor}{}
1166 \textcolor{comment}{// ------------------------------------------------------------------------}
1167 \textcolor{comment}{// Operation on *lhs, rhs bound by critical section}
1168 \textcolor{comment}{//     OP     - operator (it's supposed to contain an assignment)}
1169 \textcolor{comment}{//     LCK\_ID - lock identifier}
1170 \textcolor{comment}{// Note: don't check gtid as it should always be valid}
1171 \textcolor{comment}{// 1, 2-byte - expect valid parameter, other - check before this macro}
1172 \textcolor{preprocessor}{#define OP\_CRITICAL\_REV(OP,LCK\_ID) \(\backslash\)}
1173 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
1174 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1175 \textcolor{preprocessor}{    (*lhs) = (rhs) OP (*lhs);                                             \(\backslash\)}
1176 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1177 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );}
1178 \textcolor{preprocessor}{}
1179 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
1180 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_REV(OP,FLAG)                                     \(\backslash\)}
1181 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
1182 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
1183 \textcolor{preprocessor}{        OP\_CRITICAL\_REV( OP, 0 );                                         \(\backslash\)}
1184 \textcolor{preprocessor}{        return;                                                           \(\backslash\)}
1185 \textcolor{preprocessor}{    \}}
1186 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
1187 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_REV(OP,FLAG)}
1188 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
1189 \textcolor{preprocessor}{}
1190 
1191 \textcolor{comment}{// Beginning of a definition (provides name, parameters, gebug trace)}
1192 \textcolor{comment}{//     TYPE\_ID - operands type and size (fixed*, fixed*u for signed, unsigned fixed)}
1193 \textcolor{comment}{//     OP\_ID   - operation identifier (add, sub, mul, ...)}
1194 \textcolor{comment}{//     TYPE    - operands' type}
1195 \textcolor{preprocessor}{#define ATOMIC\_BEGIN\_REV(TYPE\_ID,OP\_ID,TYPE, RET\_TYPE) \(\backslash\)}
1196 \textcolor{preprocessor}{RET\_TYPE \_\_kmpc\_atomic\_##TYPE\_ID##\_##OP\_ID##\_rev( ident\_t *id\_ref, int gtid, TYPE * lhs, TYPE rhs ) \(\backslash\)}
1197 \textcolor{preprocessor}{\{                                                                                         \(\backslash\)}
1198 \textcolor{preprocessor}{    KMP\_DEBUG\_ASSERT( \_\_kmp\_init\_serial );                                                \(\backslash\)}
1199 \textcolor{preprocessor}{    KA\_TRACE(100,("\_\_kmpc\_atomic\_" #TYPE\_ID "\_" #OP\_ID "\_rev: T#%d\(\backslash\)n", gtid ));}
1200 \textcolor{preprocessor}{}
1201 \textcolor{comment}{// ------------------------------------------------------------------------}
1202 \textcolor{comment}{// Operation on *lhs, rhs using "compare\_and\_store" routine}
1203 \textcolor{comment}{//     TYPE    - operands' type}
1204 \textcolor{comment}{//     BITS    - size in bits, used to distinguish low level calls}
1205 \textcolor{comment}{//     OP      - operator}
1206 \textcolor{comment}{// Note: temp\_val introduced in order to force the compiler to read}
1207 \textcolor{comment}{//       *lhs only once (w/o it the compiler reads *lhs twice)}
1208 \textcolor{preprocessor}{#define OP\_CMPXCHG\_REV(TYPE,BITS,OP)                                      \(\backslash\)}
1209 \textcolor{preprocessor}{    \{                                                                     \(\backslash\)}
1210 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                \(\backslash\)}
1211 \textcolor{preprocessor}{        TYPE old\_value, new\_value;                                        \(\backslash\)}
1212 \textcolor{preprocessor}{        temp\_val = *lhs;                                                  \(\backslash\)}
1213 \textcolor{preprocessor}{        old\_value = temp\_val;                                             \(\backslash\)}
1214 \textcolor{preprocessor}{        new\_value = rhs OP old\_value;                                     \(\backslash\)}
1215 \textcolor{preprocessor}{        while ( ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (kmp\_int##BITS *) lhs, \(\backslash\)}
1216 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value,         \(\backslash\)}
1217 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &new\_value ) )      \(\backslash\)}
1218 \textcolor{preprocessor}{        \{                                                                 \(\backslash\)}
1219 \textcolor{preprocessor}{            KMP\_DO\_PAUSE;                                                 \(\backslash\)}
1220 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1221 \textcolor{preprocessor}{            temp\_val = *lhs;                                              \(\backslash\)}
1222 \textcolor{preprocessor}{            old\_value = temp\_val;                                         \(\backslash\)}
1223 \textcolor{preprocessor}{            new\_value = rhs OP old\_value;                                 \(\backslash\)}
1224 \textcolor{preprocessor}{        \}                                                                 \(\backslash\)}
1225 \textcolor{preprocessor}{    \}}
1226 \textcolor{preprocessor}{}
1227 \textcolor{comment}{// -------------------------------------------------------------------------}
1228 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_REV(TYPE\_ID,OP\_ID,TYPE,BITS,OP,LCK\_ID,GOMP\_FLAG)   \(\backslash\)}
1229 \textcolor{preprocessor}{ATOMIC\_BEGIN\_REV(TYPE\_ID,OP\_ID,TYPE,void)                                 \(\backslash\)}
1230 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_REV(OP,GOMP\_FLAG)                                    \(\backslash\)}
1231 \textcolor{preprocessor}{    OP\_CMPXCHG\_REV(TYPE,BITS,OP)                                          \(\backslash\)}
1232 \textcolor{preprocessor}{\}}
1233 \textcolor{preprocessor}{}
1234 \textcolor{comment}{// ------------------------------------------------------------------------}
1235 \textcolor{comment}{// Entries definition for integer operands}
1236 \textcolor{comment}{//     TYPE\_ID - operands type and size (fixed4, float4)}
1237 \textcolor{comment}{//     OP\_ID   - operation identifier (add, sub, mul, ...)}
1238 \textcolor{comment}{//     TYPE    - operand type}
1239 \textcolor{comment}{//     BITS    - size in bits, used to distinguish low level calls}
1240 \textcolor{comment}{//     OP      - operator (used in critical section)}
1241 \textcolor{comment}{//     LCK\_ID  - lock identifier, used to possibly distinguish lock variable}
1242 
1243 \textcolor{comment}{//               TYPE\_ID,OP\_ID,  TYPE,   BITS,OP,LCK\_ID,GOMP\_FLAG}
1244 \textcolor{comment}{// ------------------------------------------------------------------------}
1245 \textcolor{comment}{// Routines for ATOMIC integer operands, other operators}
1246 \textcolor{comment}{// ------------------------------------------------------------------------}
1247 \textcolor{comment}{//                  TYPE\_ID,OP\_ID, TYPE,    BITS, OP, LCK\_ID, GOMP\_FLAG}
1248 ATOMIC\_CMPXCHG\_REV( fixed1,  div, kmp\_int8,    8, /,  1i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_div\_rev}
1249 ATOMIC\_CMPXCHG\_REV( fixed1u, div, kmp\_uint8,   8, /,  1i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1u\_div\_rev}
1250 ATOMIC\_CMPXCHG\_REV( fixed1,  shl, kmp\_int8,    8, <<, 1i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_shl\_rev}
1251 ATOMIC\_CMPXCHG\_REV( fixed1,  shr, kmp\_int8,    8, >>, 1i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_shr\_rev}
1252 ATOMIC\_CMPXCHG\_REV( fixed1u, shr, kmp\_uint8,   8, >>, 1i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1u\_shr\_rev}
1253 ATOMIC\_CMPXCHG\_REV( fixed1,  sub, kmp\_int8,    8, -,  1i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_sub\_rev}
1254 
1255 ATOMIC\_CMPXCHG\_REV( fixed2,  div, kmp\_int16,  16, /,  2i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_div\_rev}
1256 ATOMIC\_CMPXCHG\_REV( fixed2u, div, kmp\_uint16, 16, /,  2i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2u\_div\_rev}
1257 ATOMIC\_CMPXCHG\_REV( fixed2,  shl, kmp\_int16,  16, <<, 2i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_shl\_rev}
1258 ATOMIC\_CMPXCHG\_REV( fixed2,  shr, kmp\_int16,  16, >>, 2i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_shr\_rev}
1259 ATOMIC\_CMPXCHG\_REV( fixed2u, shr, kmp\_uint16, 16, >>, 2i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2u\_shr\_rev}
1260 ATOMIC\_CMPXCHG\_REV( fixed2,  sub, kmp\_int16,  16, -,  2i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_sub\_rev}
1261 
1262 ATOMIC\_CMPXCHG\_REV( fixed4,  div, kmp\_int32,  32, /,  4i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_div\_rev}
1263 ATOMIC\_CMPXCHG\_REV( fixed4u, div, kmp\_uint32, 32, /,  4i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4u\_div\_rev}
1264 ATOMIC\_CMPXCHG\_REV( fixed4,  shl, kmp\_int32,  32, <<, 4i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_shl\_rev}
1265 ATOMIC\_CMPXCHG\_REV( fixed4,  shr, kmp\_int32,  32, >>, 4i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_shr\_rev}
1266 ATOMIC\_CMPXCHG\_REV( fixed4u, shr, kmp\_uint32, 32, >>, 4i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4u\_shr\_rev}
1267 ATOMIC\_CMPXCHG\_REV( fixed4,  sub, kmp\_int32,  32, -,  4i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_sub\_rev}
1268 
1269 ATOMIC\_CMPXCHG\_REV( fixed8,  div, kmp\_int64,  64, /,  8i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_div\_rev}
1270 ATOMIC\_CMPXCHG\_REV( fixed8u, div, kmp\_uint64, 64, /,  8i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8u\_div\_rev}
1271 ATOMIC\_CMPXCHG\_REV( fixed8,  shl, kmp\_int64,  64, <<, 8i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_shl\_rev}
1272 ATOMIC\_CMPXCHG\_REV( fixed8,  shr, kmp\_int64,  64, >>, 8i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_shr\_rev}
1273 ATOMIC\_CMPXCHG\_REV( fixed8u, shr, kmp\_uint64, 64, >>, 8i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8u\_shr\_rev}
1274 ATOMIC\_CMPXCHG\_REV( fixed8,  sub, kmp\_int64,  64, -,  8i, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_sub\_rev}
1275 
1276 ATOMIC\_CMPXCHG\_REV( float4,  div, kmp\_real32, 32, /,  4r, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_div\_rev}
1277 ATOMIC\_CMPXCHG\_REV( float4,  sub, kmp\_real32, 32, -,  4r, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_sub\_rev}
1278 
1279 ATOMIC\_CMPXCHG\_REV( float8,  div, kmp\_real64, 64, /,  8r, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_div\_rev}
1280 ATOMIC\_CMPXCHG\_REV( float8,  sub, kmp\_real64, 64, -,  8r, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_sub\_rev}
1281 \textcolor{comment}{//                  TYPE\_ID,OP\_ID, TYPE,     BITS,OP,LCK\_ID, GOMP\_FLAG}
1282 
1283 \textcolor{comment}{// ------------------------------------------------------------------------}
1284 \textcolor{comment}{// Routines for Extended types: long double, \_Quad, complex flavours (use critical section)}
1285 \textcolor{comment}{//     TYPE\_ID, OP\_ID, TYPE - detailed above}
1286 \textcolor{comment}{//     OP      - operator}
1287 \textcolor{comment}{//     LCK\_ID  - lock identifier, used to possibly distinguish lock variable}
1288 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_REV(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)           \(\backslash\)}
1289 \textcolor{preprocessor}{ATOMIC\_BEGIN\_REV(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1290 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_REV(OP,GOMP\_FLAG)                                        \(\backslash\)}
1291 \textcolor{preprocessor}{    OP\_CRITICAL\_REV(OP,LCK\_ID)                                                \(\backslash\)}
1292 \textcolor{preprocessor}{\}}
1293 \textcolor{preprocessor}{}
1294 \textcolor{comment}{/* ------------------------------------------------------------------------- */}
1295 \textcolor{comment}{// routines for long double type}
1296 ATOMIC\_CRITICAL\_REV( float10, sub, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     -, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_sub\_rev}
1297 ATOMIC\_CRITICAL\_REV( float10, div, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     /, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_div\_rev}
1298 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1299 \textcolor{preprocessor}{}\textcolor{comment}{// routines for \_Quad type}
1300 ATOMIC\_CRITICAL\_REV( float16, sub, QUAD\_LEGACY,     -, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_sub\_rev}
1301 ATOMIC\_CRITICAL\_REV( float16, div, QUAD\_LEGACY,     /, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_div\_rev}
1302 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1303 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_REV( float16, sub\_a16, Quad\_a16\_t, -, 16r, 1 )           \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_sub\_a16\_rev}
1304     ATOMIC\_CRITICAL\_REV( float16, div\_a16, Quad\_a16\_t, /, 16r, 1 )           \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_div\_a16\_rev}
1305 \textcolor{preprocessor}{#endif}
1306 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
1307 \textcolor{preprocessor}{}
1308 \textcolor{comment}{// routines for complex types}
1309 ATOMIC\_CRITICAL\_REV( cmplx4,  sub, kmp\_cmplx32,     -, 8c,    1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_sub\_rev}
1310 ATOMIC\_CRITICAL\_REV( cmplx4,  div, kmp\_cmplx32,     /, 8c,    1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_div\_rev}
1311 ATOMIC\_CRITICAL\_REV( cmplx8,  sub, kmp\_cmplx64,     -, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_sub\_rev}
1312 ATOMIC\_CRITICAL\_REV( cmplx8,  div, kmp\_cmplx64,     /, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_div\_rev}
1313 ATOMIC\_CRITICAL\_REV( cmplx10, sub, kmp\_cmplx80,     -, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_sub\_rev}
1314 ATOMIC\_CRITICAL\_REV( cmplx10, div, kmp\_cmplx80,     /, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_div\_rev}
1315 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1316 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_REV( cmplx16, sub, CPLX128\_LEG,     -, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_sub\_rev}
1317 ATOMIC\_CRITICAL\_REV( cmplx16, div, CPLX128\_LEG,     /, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_div\_rev}
1318 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1319 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_REV( cmplx16, sub\_a16, kmp\_cmplx128\_a16\_t, -, 32c, 1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_sub\_a16\_rev}
1320     ATOMIC\_CRITICAL\_REV( cmplx16, div\_a16, kmp\_cmplx128\_a16\_t, /, 32c, 1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_div\_a16\_rev}
1321 \textcolor{preprocessor}{#endif}
1322 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
1323 \textcolor{preprocessor}{}
1324 
1325 \textcolor{preprocessor}{#endif //KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64}
1326 \textcolor{preprocessor}{}\textcolor{comment}{// End of OpenMP 4.0: x = expr binop x for non-commutative operations.}
1327 
1328 \textcolor{preprocessor}{#endif //OMP\_40\_ENABLED}
1329 \textcolor{preprocessor}{}
1330 
1331 \textcolor{comment}{/* ------------------------------------------------------------------------ */}
1332 \textcolor{comment}{/* Routines for mixed types of LHS and RHS, when RHS is "larger"            */}
1333 \textcolor{comment}{/* Note: in order to reduce the total number of types combinations          */}
1334 \textcolor{comment}{/*       it is supposed that compiler converts RHS to longest floating type,*/}
1335 \textcolor{comment}{/*       that is \_Quad, before call to any of these routines                */}
1336 \textcolor{comment}{/* Conversion to \_Quad will be done by the compiler during calculation,     */}
1337 \textcolor{comment}{/*    conversion back to TYPE - before the assignment, like:                */}
1338 \textcolor{comment}{/*    *lhs = (TYPE)( (\_Quad)(*lhs) OP rhs )                                 */}
1339 \textcolor{comment}{/* Performance penalty expected because of SW emulation use                 */}
1340 \textcolor{comment}{/* ------------------------------------------------------------------------ */}
1341 
1342 \textcolor{preprocessor}{#define ATOMIC\_BEGIN\_MIX(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                             \(\backslash\)}
1343 \textcolor{preprocessor}{void \_\_kmpc\_atomic\_##TYPE\_ID##\_##OP\_ID##\_##RTYPE\_ID( ident\_t *id\_ref, int gtid, TYPE * lhs, RTYPE rhs ) \(\backslash\)}
1344 \textcolor{preprocessor}{\{                                                                                                       \(\backslash\)}
1345 \textcolor{preprocessor}{    KMP\_DEBUG\_ASSERT( \_\_kmp\_init\_serial );                                                              \(\backslash\)}
1346 \textcolor{preprocessor}{    KA\_TRACE(100,("\_\_kmpc\_atomic\_" #TYPE\_ID "\_" #OP\_ID "\_" #RTYPE\_ID ": T#%d\(\backslash\)n", gtid ));}
1347 \textcolor{preprocessor}{}
1348 \textcolor{comment}{// -------------------------------------------------------------------------}
1349 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_FP(TYPE\_ID,TYPE,OP\_ID,OP,RTYPE\_ID,RTYPE,LCK\_ID,GOMP\_FLAG)         \(\backslash\)}
1350 \textcolor{preprocessor}{ATOMIC\_BEGIN\_MIX(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                       \(\backslash\)}
1351 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP##=,GOMP\_FLAG)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{                              \(\backslash\)}
1352 \textcolor{preprocessor}{    OP\_CRITICAL(OP##=,LCK\_ID)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{                                      \(\backslash\)}
1353 \textcolor{preprocessor}{\}}
1354 \textcolor{preprocessor}{}
1355 \textcolor{comment}{// -------------------------------------------------------------------------}
1356 \textcolor{preprocessor}{#if KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64}
1357 \textcolor{preprocessor}{}\textcolor{comment}{// -------------------------------------------------------------------------}
1358 \textcolor{comment}{// X86 or X86\_64: no alignment problems ====================================}
1359 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_MIX(TYPE\_ID,TYPE,OP\_ID,BITS,OP,RTYPE\_ID,RTYPE,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1360 \textcolor{preprocessor}{ATOMIC\_BEGIN\_MIX(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                         \(\backslash\)}
1361 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP##=,GOMP\_FLAG)                                                       \(\backslash\)}
1362 \textcolor{preprocessor}{    OP\_CMPXCHG(TYPE,BITS,OP)                                                                \(\backslash\)}
1363 \textcolor{preprocessor}{\}}
1364 \textcolor{preprocessor}{}\textcolor{comment}{// -------------------------------------------------------------------------}
1365 \textcolor{preprocessor}{#else}
1366 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1367 \textcolor{comment}{// Code for other architectures that don't handle unaligned accesses.}
1368 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_MIX(TYPE\_ID,TYPE,OP\_ID,BITS,OP,RTYPE\_ID,RTYPE,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1369 \textcolor{preprocessor}{ATOMIC\_BEGIN\_MIX(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                         \(\backslash\)}
1370 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP##=,GOMP\_FLAG)                                                       \(\backslash\)}
1371 \textcolor{preprocessor}{    if ( ! ( (kmp\_uintptr\_t) lhs & 0x##MASK) ) \{                                            \(\backslash\)}
1372 \textcolor{preprocessor}{        OP\_CMPXCHG(TYPE,BITS,OP)     }\textcolor{comment}{/* aligned address */}\textcolor{preprocessor}{                                  \(\backslash\)}
1373 \textcolor{preprocessor}{    \} else \{                                                                                \(\backslash\)}
1374 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                                     \(\backslash\)}
1375 \textcolor{preprocessor}{        OP\_CRITICAL(OP##=,LCK\_ID)  }\textcolor{comment}{/* unaligned address - use critical */}\textcolor{preprocessor}{                   \(\backslash\)}
1376 \textcolor{preprocessor}{    \}                                                                                       \(\backslash\)}
1377 \textcolor{preprocessor}{\}}
1378 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64 */}\textcolor{preprocessor}{}
1379 \textcolor{preprocessor}{}
1380 \textcolor{comment}{// RHS=float8}
1381 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed1, \textcolor{keywordtype}{char},       mul,  8, *, float8, kmp\_real64, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_mul\_float8}
1382 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed1, \textcolor{keywordtype}{char},       div,  8, /, float8, kmp\_real64, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_div\_float8}
1383 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed2, \textcolor{keywordtype}{short},      mul, 16, *, float8, kmp\_real64, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_mul\_float8}
1384 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed2, \textcolor{keywordtype}{short},      div, 16, /, float8, kmp\_real64, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_div\_float8}
1385 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed4, kmp\_int32,  mul, 32, *, float8, kmp\_real64, 4i, 3, 0 )       
           \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_mul\_float8}
1386 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed4, kmp\_int32,  div, 32, /, float8, kmp\_real64, 4i, 3, 0 )       
           \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_div\_float8}
1387 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed8, kmp\_int64,  mul, 64, *, float8, kmp\_real64, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_mul\_float8}
1388 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed8, kmp\_int64,  div, 64, /, float8, kmp\_real64, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_div\_float8}
1389 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float4, kmp\_real32, add, 32, +, float8, kmp\_real64, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_add\_float8}
1390 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float4, kmp\_real32, sub, 32, -, float8, kmp\_real64, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_sub\_float8}
1391 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float4, kmp\_real32, mul, 32, *, float8, kmp\_real64, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_mul\_float8}
1392 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float4, kmp\_real32, div, 32, /, float8, kmp\_real64, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_div\_float8}
1393 
1394 \textcolor{comment}{// RHS=float16 (deprecated, to be removed when we are sure the compiler does not use them)}
1395 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1396 \textcolor{preprocessor}{}\hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed1,  \textcolor{keywordtype}{char},       add,  8, +, fp, \_Quad, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_add\_fp}
1397 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed1,  \textcolor{keywordtype}{char},       sub,  8, -, fp, \_Quad, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_sub\_fp}
1398 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed1,  \textcolor{keywordtype}{char},       mul,  8, *, fp, \_Quad, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_mul\_fp}
1399 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed1,  \textcolor{keywordtype}{char},       div,  8, /, fp, \_Quad, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_div\_fp}
1400 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed1u, \hyperlink{kmp__atomic_8c_a65f85814a8290f9797005d3b28e7e5fc}{uchar},      div,  8, /, fp, \_Quad, 1i, 0, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1u\_div\_fp}
1401 
1402 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed2,  \textcolor{keywordtype}{short},      add, 16, +, fp, \_Quad, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_add\_fp}
1403 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed2,  \textcolor{keywordtype}{short},      sub, 16, -, fp, \_Quad, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_sub\_fp}
1404 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed2,  \textcolor{keywordtype}{short},      mul, 16, *, fp, \_Quad, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_mul\_fp}
1405 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed2,  \textcolor{keywordtype}{short},      div, 16, /, fp, \_Quad, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_div\_fp}
1406 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed2u, \hyperlink{kmp__atomic_8c_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort},     div, 16, /, fp, \_Quad, 2i, 1, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2u\_div\_fp}
1407 
1408 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed4,  kmp\_int32,  add, 32, +, fp, \_Quad, 4i, 3, 0 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_add\_fp}
1409 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed4,  kmp\_int32,  sub, 32, -, fp, \_Quad, 4i, 3, 0 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_sub\_fp}
1410 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed4,  kmp\_int32,  mul, 32, *, fp, \_Quad, 4i, 3, 0 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_mul\_fp}
1411 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed4,  kmp\_int32,  div, 32, /, fp, \_Quad, 4i, 3, 0 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_div\_fp}
1412 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed4u, kmp\_uint32, div, 32, /, fp, \_Quad, 4i, 3, 0 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4u\_div\_fp}
1413 
1414 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed8,  kmp\_int64,  add, 64, +, fp, \_Quad, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_add\_fp}
1415 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed8,  kmp\_int64,  sub, 64, -, fp, \_Quad, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_sub\_fp}
1416 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed8,  kmp\_int64,  mul, 64, *, fp, \_Quad, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_mul\_fp}
1417 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed8,  kmp\_int64,  div, 64, /, fp, \_Quad, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_div\_fp}
1418 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( fixed8u, kmp\_uint64, div, 64, /, fp, \_Quad, 8i, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8u\_div\_fp}
1419 
1420 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float4,  kmp\_real32, add, 32, +, fp, \_Quad, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_add\_fp}
1421 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float4,  kmp\_real32, sub, 32, -, fp, \_Quad, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_sub\_fp}
1422 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float4,  kmp\_real32, mul, 32, *, fp, \_Quad, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_mul\_fp}
1423 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float4,  kmp\_real32, div, 32, /, fp, \_Quad, 4r, 3, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_div\_fp}
1424 
1425 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float8,  kmp\_real64, add, 64, +, fp, \_Quad, 8r, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float8\_add\_fp}
1426 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float8,  kmp\_real64, sub, 64, -, fp, \_Quad, 8r, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float8\_sub\_fp}
1427 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float8,  kmp\_real64, mul, 64, *, fp, \_Quad, 8r, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float8\_mul\_fp}
1428 \hyperlink{kmp__atomic_8c_a0e4dc0e241f49376c5f10cf7970b3ded}{ATOMIC\_CMPXCHG\_MIX}( float8,  kmp\_real64, div, 64, /, fp, \_Quad, 8r, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_float8\_div\_fp}
1429 
1430 \hyperlink{kmp__atomic_8c_ad9bd39426a5ce27432d01aec3aedb0a7}{ATOMIC\_CRITICAL\_FP}( float10, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},    add, +, fp, \_Quad, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_add\_fp}
1431 \hyperlink{kmp__atomic_8c_ad9bd39426a5ce27432d01aec3aedb0a7}{ATOMIC\_CRITICAL\_FP}( float10, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},    sub, -, fp, \_Quad, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_sub\_fp}
1432 \hyperlink{kmp__atomic_8c_ad9bd39426a5ce27432d01aec3aedb0a7}{ATOMIC\_CRITICAL\_FP}( float10, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},    mul, *, fp, \_Quad, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_mul\_fp}
1433 \hyperlink{kmp__atomic_8c_ad9bd39426a5ce27432d01aec3aedb0a7}{ATOMIC\_CRITICAL\_FP}( float10, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},    div, /, fp, \_Quad, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_div\_fp}
1434 \textcolor{preprocessor}{#endif}
1435 \textcolor{preprocessor}{}
1436 \textcolor{preprocessor}{#if KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64}
1437 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1438 \textcolor{comment}{// X86 or X86\_64: no alignment problems ====================================}
1439 \textcolor{preprocessor}{#if USE\_CMPXCHG\_FIX}
1440 \textcolor{preprocessor}{}\textcolor{comment}{// workaround for C78287 (complex(kind=4) data type)}
1441 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_CMPLX(TYPE\_ID,TYPE,OP\_ID,BITS,OP,RTYPE\_ID,RTYPE,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1442 \textcolor{preprocessor}{ATOMIC\_BEGIN\_MIX(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                           \(\backslash\)}
1443 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP##=,GOMP\_FLAG)                                                         \(\backslash\)}
1444 \textcolor{preprocessor}{    OP\_CMPXCHG\_WORKAROUND(TYPE,BITS,OP)                                                       \(\backslash\)}
1445 \textcolor{preprocessor}{\}}
1446 \textcolor{preprocessor}{}\textcolor{comment}{// end of the second part of the workaround for C78287}
1447 \textcolor{preprocessor}{#else}
1448 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_CMPLX(TYPE\_ID,TYPE,OP\_ID,BITS,OP,RTYPE\_ID,RTYPE,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1449 \textcolor{preprocessor}{ATOMIC\_BEGIN\_MIX(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                           \(\backslash\)}
1450 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP##=,GOMP\_FLAG)                                                         \(\backslash\)}
1451 \textcolor{preprocessor}{    OP\_CMPXCHG(TYPE,BITS,OP)                                                                  \(\backslash\)}
1452 \textcolor{preprocessor}{\}}
1453 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif // USE\_CMPXCHG\_FIX}
1454 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
1455 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1456 \textcolor{comment}{// Code for other architectures that don't handle unaligned accesses.}
1457 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_CMPLX(TYPE\_ID,TYPE,OP\_ID,BITS,OP,RTYPE\_ID,RTYPE,LCK\_ID,MASK,GOMP\_FLAG) \(\backslash\)}
1458 \textcolor{preprocessor}{ATOMIC\_BEGIN\_MIX(TYPE\_ID,TYPE,OP\_ID,RTYPE\_ID,RTYPE)                                           \(\backslash\)}
1459 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP##=,GOMP\_FLAG)                                                         \(\backslash\)}
1460 \textcolor{preprocessor}{    if ( ! ( (kmp\_uintptr\_t) lhs & 0x##MASK) ) \{                                              \(\backslash\)}
1461 \textcolor{preprocessor}{        OP\_CMPXCHG(TYPE,BITS,OP)     }\textcolor{comment}{/* aligned address */}\textcolor{preprocessor}{                                    \(\backslash\)}
1462 \textcolor{preprocessor}{    \} else \{                                                                                  \(\backslash\)}
1463 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                                       \(\backslash\)}
1464 \textcolor{preprocessor}{        OP\_CRITICAL(OP##=,LCK\_ID)  }\textcolor{comment}{/* unaligned address - use critical */}\textcolor{preprocessor}{                     \(\backslash\)}
1465 \textcolor{preprocessor}{    \}                                                                                         \(\backslash\)}
1466 \textcolor{preprocessor}{\}}
1467 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64 */}\textcolor{preprocessor}{}
1468 \textcolor{preprocessor}{}
1469 \hyperlink{kmp__atomic_8c_a8f6aef3da959224594525212b9262e81}{ATOMIC\_CMPXCHG\_CMPLX}( cmplx4, kmp\_cmplx32, add, 64, +, cmplx8,  kmp\_cmplx64,  8c, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_add\_cmplx8}
1470 \hyperlink{kmp__atomic_8c_a8f6aef3da959224594525212b9262e81}{ATOMIC\_CMPXCHG\_CMPLX}( cmplx4, kmp\_cmplx32, sub, 64, -, cmplx8,  kmp\_cmplx64,  8c, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_sub\_cmplx8}
1471 \hyperlink{kmp__atomic_8c_a8f6aef3da959224594525212b9262e81}{ATOMIC\_CMPXCHG\_CMPLX}( cmplx4, kmp\_cmplx32, mul, 64, *, cmplx8,  kmp\_cmplx64,  8c, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_mul\_cmplx8}
1472 \hyperlink{kmp__atomic_8c_a8f6aef3da959224594525212b9262e81}{ATOMIC\_CMPXCHG\_CMPLX}( cmplx4, kmp\_cmplx32, div, 64, /, cmplx8,  kmp\_cmplx64,  8c, 7, 
      \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_div\_cmplx8}
1473 
1474 \textcolor{comment}{// READ, WRITE, CAPTURE are supported only on IA-32 architecture and Intel(R) 64}
1475 \textcolor{preprocessor}{#if KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64}
1476 \textcolor{preprocessor}{}\textcolor{comment}{}
1477 \textcolor{comment}{//////////////////////////////////////////////////////////////////////////////////////////////////////}
1478 \textcolor{comment}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1479 \textcolor{comment}{// Atomic READ routines}
1480 \textcolor{comment}{// ------------------------------------------------------------------------}
1481 
1482 \textcolor{comment}{// ------------------------------------------------------------------------}
1483 \textcolor{comment}{// Beginning of a definition (provides name, parameters, gebug trace)}
1484 \textcolor{comment}{//     TYPE\_ID - operands type and size (fixed*, fixed*u for signed, unsigned fixed)}
1485 \textcolor{comment}{//     OP\_ID   - operation identifier (add, sub, mul, ...)}
1486 \textcolor{comment}{//     TYPE    - operands' type}
1487 \textcolor{preprocessor}{#define ATOMIC\_BEGIN\_READ(TYPE\_ID,OP\_ID,TYPE, RET\_TYPE) \(\backslash\)}
1488 \textcolor{preprocessor}{RET\_TYPE \_\_kmpc\_atomic\_##TYPE\_ID##\_##OP\_ID( ident\_t *id\_ref, int gtid, TYPE * loc ) \(\backslash\)}
1489 \textcolor{preprocessor}{\{                                                                                   \(\backslash\)}
1490 \textcolor{preprocessor}{    KMP\_DEBUG\_ASSERT( \_\_kmp\_init\_serial );                                          \(\backslash\)}
1491 \textcolor{preprocessor}{    KA\_TRACE(100,("\_\_kmpc\_atomic\_" #TYPE\_ID "\_" #OP\_ID ": T#%d\(\backslash\)n", gtid ));}
1492 \textcolor{preprocessor}{}
1493 \textcolor{comment}{// ------------------------------------------------------------------------}
1494 \textcolor{comment}{// Operation on *lhs, rhs using "compare\_and\_store\_ret" routine}
1495 \textcolor{comment}{//     TYPE    - operands' type}
1496 \textcolor{comment}{//     BITS    - size in bits, used to distinguish low level calls}
1497 \textcolor{comment}{//     OP      - operator}
1498 \textcolor{comment}{// Note: temp\_val introduced in order to force the compiler to read}
1499 \textcolor{comment}{//       *lhs only once (w/o it the compiler reads *lhs twice)}
1500 \textcolor{comment}{// TODO: check if it is still necessary}
1501 \textcolor{comment}{// Return old value regardless of the result of "compare & swap# operation}
1502 
1503 \textcolor{preprocessor}{#define OP\_CMPXCHG\_READ(TYPE,BITS,OP)                                     \(\backslash\)}
1504 \textcolor{preprocessor}{    \{                                                                     \(\backslash\)}
1505 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                \(\backslash\)}
1506 \textcolor{preprocessor}{        union f\_i\_union \{                                                 \(\backslash\)}
1507 \textcolor{preprocessor}{            TYPE f\_val;                                                   \(\backslash\)}
1508 \textcolor{preprocessor}{            kmp\_int##BITS i\_val;                                          \(\backslash\)}
1509 \textcolor{preprocessor}{        \};                                                                \(\backslash\)}
1510 \textcolor{preprocessor}{        union f\_i\_union old\_value;                                        \(\backslash\)}
1511 \textcolor{preprocessor}{        temp\_val = *loc;                                                  \(\backslash\)}
1512 \textcolor{preprocessor}{        old\_value.f\_val = temp\_val;                                       \(\backslash\)}
1513 \textcolor{preprocessor}{        old\_value.i\_val = KMP\_COMPARE\_AND\_STORE\_RET##BITS( (kmp\_int##BITS *) loc, \(\backslash\)}
1514 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value.i\_val,   \(\backslash\)}
1515 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value.i\_val ); \(\backslash\)}
1516 \textcolor{preprocessor}{        new\_value = old\_value.f\_val;                                      \(\backslash\)}
1517 \textcolor{preprocessor}{        return new\_value;                                                 \(\backslash\)}
1518 \textcolor{preprocessor}{    \}}
1519 \textcolor{preprocessor}{}
1520 \textcolor{comment}{// -------------------------------------------------------------------------}
1521 \textcolor{comment}{// Operation on *lhs, rhs bound by critical section}
1522 \textcolor{comment}{//     OP     - operator (it's supposed to contain an assignment)}
1523 \textcolor{comment}{//     LCK\_ID - lock identifier}
1524 \textcolor{comment}{// Note: don't check gtid as it should always be valid}
1525 \textcolor{comment}{// 1, 2-byte - expect valid parameter, other - check before this macro}
1526 \textcolor{preprocessor}{#define OP\_CRITICAL\_READ(OP,LCK\_ID)                                       \(\backslash\)}
1527 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );                    \(\backslash\)}
1528 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1529 \textcolor{preprocessor}{    new\_value = (*loc);                                                   \(\backslash\)}
1530 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1531 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );}
1532 \textcolor{preprocessor}{}
1533 \textcolor{comment}{// -------------------------------------------------------------------------}
1534 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
1535 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_READ(OP,FLAG)                                    \(\backslash\)}
1536 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
1537 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
1538 \textcolor{preprocessor}{        OP\_CRITICAL\_READ( OP, 0 );                                        \(\backslash\)}
1539 \textcolor{preprocessor}{        return new\_value;                                                 \(\backslash\)}
1540 \textcolor{preprocessor}{    \}}
1541 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
1542 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_READ(OP,FLAG)}
1543 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
1544 \textcolor{preprocessor}{}
1545 \textcolor{comment}{// -------------------------------------------------------------------------}
1546 \textcolor{preprocessor}{#define ATOMIC\_FIXED\_READ(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)           \(\backslash\)}
1547 \textcolor{preprocessor}{ATOMIC\_BEGIN\_READ(TYPE\_ID,OP\_ID,TYPE,TYPE)                                \(\backslash\)}
1548 \textcolor{preprocessor}{    TYPE new\_value;                                                       \(\backslash\)}
1549 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_READ(OP##=,GOMP\_FLAG)                                \(\backslash\)}
1550 \textcolor{preprocessor}{    new\_value = KMP\_TEST\_THEN\_ADD##BITS( loc, OP 0 );                     \(\backslash\)}
1551 \textcolor{preprocessor}{    return new\_value;                                                     \(\backslash\)}
1552 \textcolor{preprocessor}{\}}
1553 \textcolor{preprocessor}{}\textcolor{comment}{// -------------------------------------------------------------------------}
1554 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_READ(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)         \(\backslash\)}
1555 \textcolor{preprocessor}{ATOMIC\_BEGIN\_READ(TYPE\_ID,OP\_ID,TYPE,TYPE)                                \(\backslash\)}
1556 \textcolor{preprocessor}{    TYPE new\_value;                                                       \(\backslash\)}
1557 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_READ(OP##=,GOMP\_FLAG)                                \(\backslash\)}
1558 \textcolor{preprocessor}{    OP\_CMPXCHG\_READ(TYPE,BITS,OP)                                         \(\backslash\)}
1559 \textcolor{preprocessor}{\}}
1560 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1561 \textcolor{comment}{// Routines for Extended types: long double, \_Quad, complex flavours (use critical section)}
1562 \textcolor{comment}{//     TYPE\_ID, OP\_ID, TYPE - detailed above}
1563 \textcolor{comment}{//     OP      - operator}
1564 \textcolor{comment}{//     LCK\_ID  - lock identifier, used to possibly distinguish lock variable}
1565 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_READ(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)      \(\backslash\)}
1566 \textcolor{preprocessor}{ATOMIC\_BEGIN\_READ(TYPE\_ID,OP\_ID,TYPE,TYPE)                                \(\backslash\)}
1567 \textcolor{preprocessor}{    TYPE new\_value;                                                       \(\backslash\)}
1568 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_READ(OP##=,GOMP\_FLAG)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{         \(\backslash\)}
1569 \textcolor{preprocessor}{    OP\_CRITICAL\_READ(OP,LCK\_ID)          }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{            \(\backslash\)}
1570 \textcolor{preprocessor}{    return new\_value;                                                     \(\backslash\)}
1571 \textcolor{preprocessor}{\}}
1572 \textcolor{preprocessor}{}
1573 \textcolor{comment}{// ------------------------------------------------------------------------}
1574 \textcolor{comment}{// Fix for cmplx4 read (CQ220361) on Windows* OS. Regular routine with return value doesn't work.}
1575 \textcolor{comment}{// Let's return the read value through the additional parameter.}
1576 
1577 \textcolor{preprocessor}{#if ( KMP\_OS\_WINDOWS )}
1578 \textcolor{preprocessor}{}
1579 \textcolor{preprocessor}{#define OP\_CRITICAL\_READ\_WRK(OP,LCK\_ID)                                   \(\backslash\)}
1580 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );                    \(\backslash\)}
1581 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1582 \textcolor{preprocessor}{    (*out) = (*loc);                                                      \(\backslash\)}
1583 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1584 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );}
1585 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1586 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
1587 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_READ\_WRK(OP,FLAG)                                \(\backslash\)}
1588 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
1589 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
1590 \textcolor{preprocessor}{        OP\_CRITICAL\_READ\_WRK( OP, 0 );                                    \(\backslash\)}
1591 \textcolor{preprocessor}{    \}}
1592 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
1593 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_READ\_WRK(OP,FLAG)}
1594 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
1595 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1596 \textcolor{preprocessor}{#define ATOMIC\_BEGIN\_READ\_WRK(TYPE\_ID,OP\_ID,TYPE) \(\backslash\)}
1597 \textcolor{preprocessor}{void \_\_kmpc\_atomic\_##TYPE\_ID##\_##OP\_ID( TYPE * out, ident\_t *id\_ref, int gtid, TYPE * loc ) \(\backslash\)}
1598 \textcolor{preprocessor}{\{                                                                                   \(\backslash\)}
1599 \textcolor{preprocessor}{    KMP\_DEBUG\_ASSERT( \_\_kmp\_init\_serial );                                          \(\backslash\)}
1600 \textcolor{preprocessor}{    KA\_TRACE(100,("\_\_kmpc\_atomic\_" #TYPE\_ID "\_" #OP\_ID ": T#%d\(\backslash\)n", gtid ));}
1601 \textcolor{preprocessor}{}
1602 \textcolor{comment}{// ------------------------------------------------------------------------}
1603 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_READ\_WRK(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)      \(\backslash\)}
1604 \textcolor{preprocessor}{ATOMIC\_BEGIN\_READ\_WRK(TYPE\_ID,OP\_ID,TYPE)                                     \(\backslash\)}
1605 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_READ\_WRK(OP##=,GOMP\_FLAG)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{         \(\backslash\)}
1606 \textcolor{preprocessor}{    OP\_CRITICAL\_READ\_WRK(OP,LCK\_ID)          }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{            \(\backslash\)}
1607 \textcolor{preprocessor}{\}}
1608 \textcolor{preprocessor}{}
1609 \textcolor{preprocessor}{#endif // KMP\_OS\_WINDOWS}
1610 \textcolor{preprocessor}{}
1611 \textcolor{comment}{// ------------------------------------------------------------------------}
1612 \textcolor{comment}{//                  TYPE\_ID,OP\_ID, TYPE,      OP, GOMP\_FLAG}
1613 ATOMIC\_FIXED\_READ( fixed4, rd, kmp\_int32,  32, +, 0            )      \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_rd}
1614 ATOMIC\_FIXED\_READ( fixed8, rd, kmp\_int64,  64, +, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )      \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_rd}
1615 ATOMIC\_CMPXCHG\_READ( float4, rd, kmp\_real32, 32, +, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )    \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_rd}
1616 ATOMIC\_CMPXCHG\_READ( float8, rd, kmp\_real64, 64, +, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )    \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_rd}
1617 
1618 \textcolor{comment}{// !!! TODO: Remove lock operations for "char" since it can't be non-atomic}
1619 ATOMIC\_CMPXCHG\_READ( fixed1,  rd, kmp\_int8,    8, +,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_rd}
1620 ATOMIC\_CMPXCHG\_READ( fixed2,  rd, kmp\_int16,  16, +,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_rd}
1621 
1622 ATOMIC\_CRITICAL\_READ( float10, rd, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double}, +, 10r,   1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_float10\_rd}
1623 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1624 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_READ( float16, rd, QUAD\_LEGACY, +, 16r,   1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_float16\_rd}
1625 \textcolor{preprocessor}{#endif // KMP\_HAVE\_QUAD}
1626 \textcolor{preprocessor}{}
1627 \textcolor{comment}{// Fix for CQ220361 on Windows* OS}
1628 \textcolor{preprocessor}{#if ( KMP\_OS\_WINDOWS )}
1629 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_READ\_WRK( cmplx4,  rd, kmp\_cmplx32, +,  8c, 1 )   \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_rd}
1630 \textcolor{preprocessor}{#else}
1631 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_READ( cmplx4,  rd, kmp\_cmplx32, +,  8c, 1 )       \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_rd}
1632 \textcolor{preprocessor}{#endif}
1633 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_READ( cmplx8,  rd, kmp\_cmplx64, +, 16c, 1 )           \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx8\_rd}
1634 ATOMIC\_CRITICAL\_READ( cmplx10, rd, kmp\_cmplx80, +, 20c, 1 )           \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx10\_rd}
1635 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1636 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_READ( cmplx16, rd, CPLX128\_LEG, +, 32c, 1 )           \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx16\_rd}
1637 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1638 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_READ( float16, a16\_rd, Quad\_a16\_t, +, 16r, 1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_float16\_a16\_rd}
1639     ATOMIC\_CRITICAL\_READ( cmplx16, a16\_rd, kmp\_cmplx128\_a16\_t, +, 32c, 1 ) \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx16\_a16\_rd}
1640 \textcolor{preprocessor}{#endif}
1641 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
1642 \textcolor{preprocessor}{}
1643 
1644 \textcolor{comment}{// ------------------------------------------------------------------------}
1645 \textcolor{comment}{// Atomic WRITE routines}
1646 \textcolor{comment}{// ------------------------------------------------------------------------}
1647 
1648 \textcolor{preprocessor}{#define ATOMIC\_XCHG\_WR(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)              \(\backslash\)}
1649 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1650 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP,GOMP\_FLAG)                                        \(\backslash\)}
1651 \textcolor{preprocessor}{    KMP\_XCHG\_FIXED##BITS( lhs, rhs );                                     \(\backslash\)}
1652 \textcolor{preprocessor}{\}}
1653 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
1654 \textcolor{preprocessor}{#define ATOMIC\_XCHG\_FLOAT\_WR(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)        \(\backslash\)}
1655 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1656 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP,GOMP\_FLAG)                                        \(\backslash\)}
1657 \textcolor{preprocessor}{    KMP\_XCHG\_REAL##BITS( lhs, rhs );                                      \(\backslash\)}
1658 \textcolor{preprocessor}{\}}
1659 \textcolor{preprocessor}{}
1660 
1661 \textcolor{comment}{// ------------------------------------------------------------------------}
1662 \textcolor{comment}{// Operation on *lhs, rhs using "compare\_and\_store" routine}
1663 \textcolor{comment}{//     TYPE    - operands' type}
1664 \textcolor{comment}{//     BITS    - size in bits, used to distinguish low level calls}
1665 \textcolor{comment}{//     OP      - operator}
1666 \textcolor{comment}{// Note: temp\_val introduced in order to force the compiler to read}
1667 \textcolor{comment}{//       *lhs only once (w/o it the compiler reads *lhs twice)}
1668 \textcolor{preprocessor}{#define OP\_CMPXCHG\_WR(TYPE,BITS,OP)                                       \(\backslash\)}
1669 \textcolor{preprocessor}{    \{                                                                     \(\backslash\)}
1670 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                \(\backslash\)}
1671 \textcolor{preprocessor}{        TYPE old\_value, new\_value;                                        \(\backslash\)}
1672 \textcolor{preprocessor}{        temp\_val = *lhs;                                                  \(\backslash\)}
1673 \textcolor{preprocessor}{        old\_value = temp\_val;                                             \(\backslash\)}
1674 \textcolor{preprocessor}{        new\_value = rhs;                                                  \(\backslash\)}
1675 \textcolor{preprocessor}{        while ( ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (kmp\_int##BITS *) lhs, \(\backslash\)}
1676 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value,         \(\backslash\)}
1677 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &new\_value ) )      \(\backslash\)}
1678 \textcolor{preprocessor}{        \{                                                                 \(\backslash\)}
1679 \textcolor{preprocessor}{            KMP\_CPU\_PAUSE();                                              \(\backslash\)}
1680 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1681 \textcolor{preprocessor}{            temp\_val = *lhs;                                              \(\backslash\)}
1682 \textcolor{preprocessor}{            old\_value = temp\_val;                                         \(\backslash\)}
1683 \textcolor{preprocessor}{            new\_value = rhs;                                              \(\backslash\)}
1684 \textcolor{preprocessor}{        \}                                                                 \(\backslash\)}
1685 \textcolor{preprocessor}{    \}}
1686 \textcolor{preprocessor}{}
1687 \textcolor{comment}{// -------------------------------------------------------------------------}
1688 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_WR(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)           \(\backslash\)}
1689 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1690 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP,GOMP\_FLAG)                                        \(\backslash\)}
1691 \textcolor{preprocessor}{    OP\_CMPXCHG\_WR(TYPE,BITS,OP)                                           \(\backslash\)}
1692 \textcolor{preprocessor}{\}}
1693 \textcolor{preprocessor}{}
1694 \textcolor{comment}{// ------------------------------------------------------------------------}
1695 \textcolor{comment}{// Routines for Extended types: long double, \_Quad, complex flavours (use critical section)}
1696 \textcolor{comment}{//     TYPE\_ID, OP\_ID, TYPE - detailed above}
1697 \textcolor{comment}{//     OP      - operator}
1698 \textcolor{comment}{//     LCK\_ID  - lock identifier, used to possibly distinguish lock variable}
1699 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_WR(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)        \(\backslash\)}
1700 \textcolor{preprocessor}{ATOMIC\_BEGIN(TYPE\_ID,OP\_ID,TYPE,void)                                     \(\backslash\)}
1701 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL(OP,GOMP\_FLAG)       }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{            \(\backslash\)}
1702 \textcolor{preprocessor}{    OP\_CRITICAL(OP,LCK\_ID)               }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{            \(\backslash\)}
1703 \textcolor{preprocessor}{\}}
1704 \textcolor{preprocessor}{}\textcolor{comment}{// -------------------------------------------------------------------------}
1705 
1706 ATOMIC\_XCHG\_WR( fixed1,  wr, kmp\_int8,    8, =,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_wr}
1707 ATOMIC\_XCHG\_WR( fixed2,  wr, kmp\_int16,  16, =,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_wr}
1708 ATOMIC\_XCHG\_WR( fixed4,  wr, kmp\_int32,  32, =,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_wr}
1709 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1710 \textcolor{preprocessor}{}    ATOMIC\_CMPXCHG\_WR( fixed8,  wr, kmp\_int64,  64, =,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )      \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_wr}
1711 \textcolor{preprocessor}{#else}
1712 \textcolor{preprocessor}{}    ATOMIC\_XCHG\_WR( fixed8,  wr, kmp\_int64,  64, =,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )         \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_wr}
1713 \textcolor{preprocessor}{#endif}
1714 \textcolor{preprocessor}{}
1715 ATOMIC\_XCHG\_FLOAT\_WR( float4, wr, kmp\_real32, 32, =, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )         \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_wr}
1716 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1717 \textcolor{preprocessor}{}    ATOMIC\_CMPXCHG\_WR( float8,  wr, kmp\_real64,  64, =,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )     \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_wr}
1718 \textcolor{preprocessor}{#else}
1719 \textcolor{preprocessor}{}    ATOMIC\_XCHG\_FLOAT\_WR( float8,  wr, kmp\_real64,  64, =,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_wr}
1720 \textcolor{preprocessor}{#endif}
1721 \textcolor{preprocessor}{}
1722 ATOMIC\_CRITICAL\_WR( float10, wr, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double}, =, 10r,   1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_float10\_wr}
1723 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1724 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_WR( float16, wr, QUAD\_LEGACY, =, 16r,   1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_float16\_wr}
1725 \textcolor{preprocessor}{#endif}
1726 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_WR( cmplx4,  wr, kmp\_cmplx32, =,  8c,   1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_wr}
1727 ATOMIC\_CRITICAL\_WR( cmplx8,  wr, kmp\_cmplx64, =, 16c,   1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx8\_wr}
1728 ATOMIC\_CRITICAL\_WR( cmplx10, wr, kmp\_cmplx80, =, 20c,   1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx10\_wr}
1729 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
1730 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_WR( cmplx16, wr, CPLX128\_LEG, =, 32c,   1 )         \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx16\_wr}
1731 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
1732 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_WR( float16, a16\_wr, Quad\_a16\_t,         =, 16r, 1 ) \textcolor{comment}{// \_\_kmpc\_atomic\_float16\_a16\_wr}
1733     ATOMIC\_CRITICAL\_WR( cmplx16, a16\_wr, kmp\_cmplx128\_a16\_t, =, 32c, 1 ) \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx16\_a16\_wr}
1734 \textcolor{preprocessor}{#endif}
1735 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
1736 \textcolor{preprocessor}{}
1737 
1738 \textcolor{comment}{// ------------------------------------------------------------------------}
1739 \textcolor{comment}{// Atomic CAPTURE routines}
1740 \textcolor{comment}{// ------------------------------------------------------------------------}
1741 
1742 \textcolor{comment}{// Beginning of a definition (provides name, parameters, gebug trace)}
1743 \textcolor{comment}{//     TYPE\_ID - operands type and size (fixed*, fixed*u for signed, unsigned fixed)}
1744 \textcolor{comment}{//     OP\_ID   - operation identifier (add, sub, mul, ...)}
1745 \textcolor{comment}{//     TYPE    - operands' type}
1746 \textcolor{preprocessor}{#define ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,RET\_TYPE)                                    \(\backslash\)}
1747 \textcolor{preprocessor}{RET\_TYPE \_\_kmpc\_atomic\_##TYPE\_ID##\_##OP\_ID( ident\_t *id\_ref, int gtid, TYPE * lhs, TYPE rhs, int flag ) \(\backslash\)}
1748 \textcolor{preprocessor}{\{                                                                                         \(\backslash\)}
1749 \textcolor{preprocessor}{    KMP\_DEBUG\_ASSERT( \_\_kmp\_init\_serial );                                                \(\backslash\)}
1750 \textcolor{preprocessor}{    KA\_TRACE(100,("\_\_kmpc\_atomic\_" #TYPE\_ID "\_" #OP\_ID ": T#%d\(\backslash\)n", gtid ));}
1751 \textcolor{preprocessor}{}
1752 \textcolor{comment}{// -------------------------------------------------------------------------}
1753 \textcolor{comment}{// Operation on *lhs, rhs bound by critical section}
1754 \textcolor{comment}{//     OP     - operator (it's supposed to contain an assignment)}
1755 \textcolor{comment}{//     LCK\_ID - lock identifier}
1756 \textcolor{comment}{// Note: don't check gtid as it should always be valid}
1757 \textcolor{comment}{// 1, 2-byte - expect valid parameter, other - check before this macro}
1758 \textcolor{preprocessor}{#define OP\_CRITICAL\_CPT(OP,LCK\_ID)                                        \(\backslash\)}
1759 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
1760 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1761 \textcolor{preprocessor}{    if( flag ) \{                                                          \(\backslash\)}
1762 \textcolor{preprocessor}{        (*lhs) OP rhs;                                                    \(\backslash\)}
1763 \textcolor{preprocessor}{        new\_value = (*lhs);                                               \(\backslash\)}
1764 \textcolor{preprocessor}{    \} else \{                                                              \(\backslash\)}
1765 \textcolor{preprocessor}{        new\_value = (*lhs);                                               \(\backslash\)}
1766 \textcolor{preprocessor}{        (*lhs) OP rhs;                                                    \(\backslash\)}
1767 \textcolor{preprocessor}{    \}                                                                     \(\backslash\)}
1768 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1769 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
1770 \textcolor{preprocessor}{    return new\_value;}
1771 \textcolor{preprocessor}{}
1772 \textcolor{comment}{// ------------------------------------------------------------------------}
1773 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
1774 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_CPT(OP,FLAG)                                     \(\backslash\)}
1775 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
1776 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
1777 \textcolor{preprocessor}{        OP\_CRITICAL\_CPT( OP##=, 0 );                                      \(\backslash\)}
1778 \textcolor{preprocessor}{    \}}
1779 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
1780 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_CPT(OP,FLAG)}
1781 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
1782 \textcolor{preprocessor}{}
1783 \textcolor{comment}{// ------------------------------------------------------------------------}
1784 \textcolor{comment}{// Operation on *lhs, rhs using "compare\_and\_store" routine}
1785 \textcolor{comment}{//     TYPE    - operands' type}
1786 \textcolor{comment}{//     BITS    - size in bits, used to distinguish low level calls}
1787 \textcolor{comment}{//     OP      - operator}
1788 \textcolor{comment}{// Note: temp\_val introduced in order to force the compiler to read}
1789 \textcolor{comment}{//       *lhs only once (w/o it the compiler reads *lhs twice)}
1790 \textcolor{preprocessor}{#define OP\_CMPXCHG\_CPT(TYPE,BITS,OP)                                      \(\backslash\)}
1791 \textcolor{preprocessor}{    \{                                                                     \(\backslash\)}
1792 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                \(\backslash\)}
1793 \textcolor{preprocessor}{        TYPE old\_value, new\_value;                                        \(\backslash\)}
1794 \textcolor{preprocessor}{        temp\_val = *lhs;                                                  \(\backslash\)}
1795 \textcolor{preprocessor}{        old\_value = temp\_val;                                             \(\backslash\)}
1796 \textcolor{preprocessor}{        new\_value = old\_value OP rhs;                                     \(\backslash\)}
1797 \textcolor{preprocessor}{        while ( ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (kmp\_int##BITS *) lhs, \(\backslash\)}
1798 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value,         \(\backslash\)}
1799 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &new\_value ) )      \(\backslash\)}
1800 \textcolor{preprocessor}{        \{                                                                 \(\backslash\)}
1801 \textcolor{preprocessor}{            KMP\_CPU\_PAUSE();                                              \(\backslash\)}
1802 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1803 \textcolor{preprocessor}{            temp\_val = *lhs;                                              \(\backslash\)}
1804 \textcolor{preprocessor}{            old\_value = temp\_val;                                         \(\backslash\)}
1805 \textcolor{preprocessor}{            new\_value = old\_value OP rhs;                                 \(\backslash\)}
1806 \textcolor{preprocessor}{        \}                                                                 \(\backslash\)}
1807 \textcolor{preprocessor}{        if( flag ) \{                                                      \(\backslash\)}
1808 \textcolor{preprocessor}{            return new\_value;                                             \(\backslash\)}
1809 \textcolor{preprocessor}{        \} else                                                            \(\backslash\)}
1810 \textcolor{preprocessor}{            return old\_value;                                             \(\backslash\)}
1811 \textcolor{preprocessor}{    \}}
1812 \textcolor{preprocessor}{}
1813 \textcolor{comment}{// -------------------------------------------------------------------------}
1814 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_CPT(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)           \(\backslash\)}
1815 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                                  \(\backslash\)}
1816 \textcolor{preprocessor}{    TYPE new\_value;                                                        \(\backslash\)}
1817 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_CPT(OP,GOMP\_FLAG)                                     \(\backslash\)}
1818 \textcolor{preprocessor}{    OP\_CMPXCHG\_CPT(TYPE,BITS,OP)                                           \(\backslash\)}
1819 \textcolor{preprocessor}{\}}
1820 \textcolor{preprocessor}{}
1821 \textcolor{comment}{// -------------------------------------------------------------------------}
1822 \textcolor{preprocessor}{#define ATOMIC\_FIXED\_ADD\_CPT(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)         \(\backslash\)}
1823 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                                  \(\backslash\)}
1824 \textcolor{preprocessor}{    TYPE old\_value, new\_value;                                             \(\backslash\)}
1825 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_CPT(OP,GOMP\_FLAG)                                     \(\backslash\)}
1826 \textcolor{preprocessor}{    }\textcolor{comment}{/* OP used as a sign for subtraction: (lhs-rhs) --> (lhs+-rhs) */}\textcolor{preprocessor}{      \(\backslash\)}
1827 \textcolor{preprocessor}{    old\_value = KMP\_TEST\_THEN\_ADD##BITS( lhs, OP rhs );                    \(\backslash\)}
1828 \textcolor{preprocessor}{    if( flag ) \{                                                           \(\backslash\)}
1829 \textcolor{preprocessor}{        return old\_value OP rhs;                                           \(\backslash\)}
1830 \textcolor{preprocessor}{    \} else                                                                 \(\backslash\)}
1831 \textcolor{preprocessor}{        return old\_value;                                                  \(\backslash\)}
1832 \textcolor{preprocessor}{\}}
1833 \textcolor{preprocessor}{}\textcolor{comment}{// -------------------------------------------------------------------------}
1834 
1835 ATOMIC\_FIXED\_ADD\_CPT( fixed4, add\_cpt, kmp\_int32,  32, +, 0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_add\_cpt}
1836 ATOMIC\_FIXED\_ADD\_CPT( fixed4, sub\_cpt, kmp\_int32,  32, -, 0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_sub\_cpt}
1837 ATOMIC\_FIXED\_ADD\_CPT( fixed8, add\_cpt, kmp\_int64,  64, +, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_add\_cpt}
1838 ATOMIC\_FIXED\_ADD\_CPT( fixed8, sub\_cpt, kmp\_int64,  64, -, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_sub\_cpt}
1839 
1840 ATOMIC\_CMPXCHG\_CPT( float4, add\_cpt, kmp\_real32, 32, +, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_add\_cpt}
1841 ATOMIC\_CMPXCHG\_CPT( float4, sub\_cpt, kmp\_real32, 32, -, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_sub\_cpt}
1842 ATOMIC\_CMPXCHG\_CPT( float8, add\_cpt, kmp\_real64, 64, +, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_add\_cpt}
1843 ATOMIC\_CMPXCHG\_CPT( float8, sub\_cpt, kmp\_real64, 64, -, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_sub\_cpt}
1844 
1845 \textcolor{comment}{// ------------------------------------------------------------------------}
1846 \textcolor{comment}{// Entries definition for integer operands}
1847 \textcolor{comment}{//     TYPE\_ID - operands type and size (fixed4, float4)}
1848 \textcolor{comment}{//     OP\_ID   - operation identifier (add, sub, mul, ...)}
1849 \textcolor{comment}{//     TYPE    - operand type}
1850 \textcolor{comment}{//     BITS    - size in bits, used to distinguish low level calls}
1851 \textcolor{comment}{//     OP      - operator (used in critical section)}
1852 \textcolor{comment}{//               TYPE\_ID,OP\_ID,  TYPE,   BITS,OP,GOMP\_FLAG}
1853 \textcolor{comment}{// ------------------------------------------------------------------------}
1854 \textcolor{comment}{// Routines for ATOMIC integer operands, other operators}
1855 \textcolor{comment}{// ------------------------------------------------------------------------}
1856 \textcolor{comment}{//              TYPE\_ID,OP\_ID, TYPE,          OP,  GOMP\_FLAG}
1857 ATOMIC\_CMPXCHG\_CPT( fixed1,  add\_cpt, kmp\_int8,    8, +,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_add\_cpt}
1858 ATOMIC\_CMPXCHG\_CPT( fixed1, andb\_cpt, kmp\_int8,    8, &,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_andb\_cpt}
1859 ATOMIC\_CMPXCHG\_CPT( fixed1,  div\_cpt, kmp\_int8,    8, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_div\_cpt}
1860 ATOMIC\_CMPXCHG\_CPT( fixed1u, div\_cpt, kmp\_uint8,   8, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1u\_div\_cpt}
1861 ATOMIC\_CMPXCHG\_CPT( fixed1,  mul\_cpt, kmp\_int8,    8, *,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_mul\_cpt}
1862 ATOMIC\_CMPXCHG\_CPT( fixed1,  orb\_cpt, kmp\_int8,    8, |,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_orb\_cpt}
1863 ATOMIC\_CMPXCHG\_CPT( fixed1,  shl\_cpt, kmp\_int8,    8, <<, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_shl\_cpt}
1864 ATOMIC\_CMPXCHG\_CPT( fixed1,  shr\_cpt, kmp\_int8,    8, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_shr\_cpt}
1865 ATOMIC\_CMPXCHG\_CPT( fixed1u, shr\_cpt, kmp\_uint8,   8, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1u\_shr\_cpt}
1866 ATOMIC\_CMPXCHG\_CPT( fixed1,  sub\_cpt, kmp\_int8,    8, -,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_sub\_cpt}
1867 ATOMIC\_CMPXCHG\_CPT( fixed1,  xor\_cpt, kmp\_int8,    8, ^,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_xor\_cpt}
1868 ATOMIC\_CMPXCHG\_CPT( fixed2,  add\_cpt, kmp\_int16,  16, +,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_add\_cpt}
1869 ATOMIC\_CMPXCHG\_CPT( fixed2, andb\_cpt, kmp\_int16,  16, &,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_andb\_cpt}
1870 ATOMIC\_CMPXCHG\_CPT( fixed2,  div\_cpt, kmp\_int16,  16, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_div\_cpt}
1871 ATOMIC\_CMPXCHG\_CPT( fixed2u, div\_cpt, kmp\_uint16, 16, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2u\_div\_cpt}
1872 ATOMIC\_CMPXCHG\_CPT( fixed2,  mul\_cpt, kmp\_int16,  16, *,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_mul\_cpt}
1873 ATOMIC\_CMPXCHG\_CPT( fixed2,  orb\_cpt, kmp\_int16,  16, |,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_orb\_cpt}
1874 ATOMIC\_CMPXCHG\_CPT( fixed2,  shl\_cpt, kmp\_int16,  16, <<, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_shl\_cpt}
1875 ATOMIC\_CMPXCHG\_CPT( fixed2,  shr\_cpt, kmp\_int16,  16, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_shr\_cpt}
1876 ATOMIC\_CMPXCHG\_CPT( fixed2u, shr\_cpt, kmp\_uint16, 16, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2u\_shr\_cpt}
1877 ATOMIC\_CMPXCHG\_CPT( fixed2,  sub\_cpt, kmp\_int16,  16, -,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_sub\_cpt}
1878 ATOMIC\_CMPXCHG\_CPT( fixed2,  xor\_cpt, kmp\_int16,  16, ^,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_xor\_cpt}
1879 ATOMIC\_CMPXCHG\_CPT( fixed4, andb\_cpt, kmp\_int32,  32, &,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_andb\_cpt}
1880 ATOMIC\_CMPXCHG\_CPT( fixed4,  div\_cpt, kmp\_int32,  32, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_div\_cpt}
1881 ATOMIC\_CMPXCHG\_CPT( fixed4u, div\_cpt, kmp\_uint32, 32, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4u\_div\_cpt}
1882 ATOMIC\_CMPXCHG\_CPT( fixed4,  mul\_cpt, kmp\_int32,  32, *,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_mul\_cpt}
1883 ATOMIC\_CMPXCHG\_CPT( fixed4,  orb\_cpt, kmp\_int32,  32, |,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_orb\_cpt}
1884 ATOMIC\_CMPXCHG\_CPT( fixed4,  shl\_cpt, kmp\_int32,  32, <<, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_shl\_cpt}
1885 ATOMIC\_CMPXCHG\_CPT( fixed4,  shr\_cpt, kmp\_int32,  32, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_shr\_cpt}
1886 ATOMIC\_CMPXCHG\_CPT( fixed4u, shr\_cpt, kmp\_uint32, 32, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4u\_shr\_cpt}
1887 ATOMIC\_CMPXCHG\_CPT( fixed4,  xor\_cpt, kmp\_int32,  32, ^,  0            )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_xor\_cpt}
1888 ATOMIC\_CMPXCHG\_CPT( fixed8, andb\_cpt, kmp\_int64,  64, &,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_andb\_cpt}
1889 ATOMIC\_CMPXCHG\_CPT( fixed8,  div\_cpt, kmp\_int64,  64, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_div\_cpt}
1890 ATOMIC\_CMPXCHG\_CPT( fixed8u, div\_cpt, kmp\_uint64, 64, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8u\_div\_cpt}
1891 ATOMIC\_CMPXCHG\_CPT( fixed8,  mul\_cpt, kmp\_int64,  64, *,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_mul\_cpt}
1892 ATOMIC\_CMPXCHG\_CPT( fixed8,  orb\_cpt, kmp\_int64,  64, |,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_orb\_cpt}
1893 ATOMIC\_CMPXCHG\_CPT( fixed8,  shl\_cpt, kmp\_int64,  64, <<, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_shl\_cpt}
1894 ATOMIC\_CMPXCHG\_CPT( fixed8,  shr\_cpt, kmp\_int64,  64, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_shr\_cpt}
1895 ATOMIC\_CMPXCHG\_CPT( fixed8u, shr\_cpt, kmp\_uint64, 64, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8u\_shr\_cpt}
1896 ATOMIC\_CMPXCHG\_CPT( fixed8,  xor\_cpt, kmp\_int64,  64, ^,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_xor\_cpt}
1897 ATOMIC\_CMPXCHG\_CPT( float4,  div\_cpt, kmp\_real32, 32, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_div\_cpt}
1898 ATOMIC\_CMPXCHG\_CPT( float4,  mul\_cpt, kmp\_real32, 32, *,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_mul\_cpt}
1899 ATOMIC\_CMPXCHG\_CPT( float8,  div\_cpt, kmp\_real64, 64, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_div\_cpt}
1900 ATOMIC\_CMPXCHG\_CPT( float8,  mul\_cpt, kmp\_real64, 64, *,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_mul\_cpt}
1901 \textcolor{comment}{//              TYPE\_ID,OP\_ID, TYPE,          OP,  GOMP\_FLAG}
1902 
1903 \textcolor{comment}{// ------------------------------------------------------------------------}
1904 \textcolor{comment}{// Routines for C/C++ Reduction operators && and ||}
1905 \textcolor{comment}{// ------------------------------------------------------------------------}
1906 
1907 \textcolor{comment}{// -------------------------------------------------------------------------}
1908 \textcolor{comment}{// Operation on *lhs, rhs bound by critical section}
1909 \textcolor{comment}{//     OP     - operator (it's supposed to contain an assignment)}
1910 \textcolor{comment}{//     LCK\_ID - lock identifier}
1911 \textcolor{comment}{// Note: don't check gtid as it should always be valid}
1912 \textcolor{comment}{// 1, 2-byte - expect valid parameter, other - check before this macro}
1913 \textcolor{preprocessor}{#define OP\_CRITICAL\_L\_CPT(OP,LCK\_ID)                                      \(\backslash\)}
1914 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );                    \(\backslash\)}
1915 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1916 \textcolor{preprocessor}{    if( flag ) \{                                                          \(\backslash\)}
1917 \textcolor{preprocessor}{        new\_value OP rhs;                                                 \(\backslash\)}
1918 \textcolor{preprocessor}{    \} else                                                                \(\backslash\)}
1919 \textcolor{preprocessor}{        new\_value = (*lhs);                                               \(\backslash\)}
1920 \textcolor{preprocessor}{                                                                          \(\backslash\)}
1921 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );}
1922 \textcolor{preprocessor}{}
1923 \textcolor{comment}{// ------------------------------------------------------------------------}
1924 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
1925 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_L\_CPT(OP,FLAG)                                   \(\backslash\)}
1926 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
1927 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
1928 \textcolor{preprocessor}{        OP\_CRITICAL\_L\_CPT( OP, 0 );                                       \(\backslash\)}
1929 \textcolor{preprocessor}{        return new\_value;                                                 \(\backslash\)}
1930 \textcolor{preprocessor}{    \}}
1931 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
1932 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_L\_CPT(OP,FLAG)}
1933 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
1934 \textcolor{preprocessor}{}
1935 \textcolor{comment}{// ------------------------------------------------------------------------}
1936 \textcolor{comment}{// Need separate macros for &&, || because there is no combined assignment}
1937 \textcolor{preprocessor}{#define ATOMIC\_CMPX\_L\_CPT(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)           \(\backslash\)}
1938 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                                 \(\backslash\)}
1939 \textcolor{preprocessor}{    TYPE new\_value;                                                       \(\backslash\)}
1940 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_L\_CPT( = *lhs OP, GOMP\_FLAG )                        \(\backslash\)}
1941 \textcolor{preprocessor}{    OP\_CMPXCHG\_CPT(TYPE,BITS,OP)                                          \(\backslash\)}
1942 \textcolor{preprocessor}{\}}
1943 \textcolor{preprocessor}{}
1944 ATOMIC\_CMPX\_L\_CPT( fixed1, andl\_cpt, \textcolor{keywordtype}{char},       8, &&, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_andl\_cpt}
1945 ATOMIC\_CMPX\_L\_CPT( fixed1,  orl\_cpt, \textcolor{keywordtype}{char},       8, ||, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_orl\_cpt}
1946 ATOMIC\_CMPX\_L\_CPT( fixed2, andl\_cpt, \textcolor{keywordtype}{short},     16, &&, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_andl\_cpt}
1947 ATOMIC\_CMPX\_L\_CPT( fixed2,  orl\_cpt, \textcolor{keywordtype}{short},     16, ||, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_orl\_cpt}
1948 ATOMIC\_CMPX\_L\_CPT( fixed4, andl\_cpt, kmp\_int32, 32, &&, 0 )             \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_andl\_cpt}
1949 ATOMIC\_CMPX\_L\_CPT( fixed4,  orl\_cpt, kmp\_int32, 32, ||, 0 )             \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_orl\_cpt}
1950 ATOMIC\_CMPX\_L\_CPT( fixed8, andl\_cpt, kmp\_int64, 64, &&, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_andl\_cpt}
1951 ATOMIC\_CMPX\_L\_CPT( fixed8,  orl\_cpt, kmp\_int64, 64, ||, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_orl\_cpt}
1952 
1953 
1954 \textcolor{comment}{// -------------------------------------------------------------------------}
1955 \textcolor{comment}{// Routines for Fortran operators that matched no one in C:}
1956 \textcolor{comment}{// MAX, MIN, .EQV., .NEQV.}
1957 \textcolor{comment}{// Operators .AND., .OR. are covered by \_\_kmpc\_atomic\_*\_\{andl,orl\}\_cpt}
1958 \textcolor{comment}{// Intrinsics IAND, IOR, IEOR are covered by \_\_kmpc\_atomic\_*\_\{andb,orb,xor\}\_cpt}
1959 \textcolor{comment}{// -------------------------------------------------------------------------}
1960 
1961 \textcolor{comment}{// -------------------------------------------------------------------------}
1962 \textcolor{comment}{// MIN and MAX need separate macros}
1963 \textcolor{comment}{// OP - operator to check if we need any actions?}
1964 \textcolor{preprocessor}{#define MIN\_MAX\_CRITSECT\_CPT(OP,LCK\_ID)                                    \(\backslash\)}
1965 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );                     \(\backslash\)}
1966 \textcolor{preprocessor}{                                                                           \(\backslash\)}
1967 \textcolor{preprocessor}{    if ( *lhs OP rhs ) \{                 }\textcolor{comment}{/* still need actions? */}\textcolor{preprocessor}{         \(\backslash\)}
1968 \textcolor{preprocessor}{        old\_value = *lhs;                                                  \(\backslash\)}
1969 \textcolor{preprocessor}{        *lhs = rhs;                                                        \(\backslash\)}
1970 \textcolor{preprocessor}{        if ( flag )                                                        \(\backslash\)}
1971 \textcolor{preprocessor}{            new\_value = rhs;                                               \(\backslash\)}
1972 \textcolor{preprocessor}{        else                                                               \(\backslash\)}
1973 \textcolor{preprocessor}{            new\_value = old\_value;                                         \(\backslash\)}
1974 \textcolor{preprocessor}{    \}                                                                      \(\backslash\)}
1975 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );                     \(\backslash\)}
1976 \textcolor{preprocessor}{    return new\_value;                                                      \(\backslash\)}
1977 \textcolor{preprocessor}{}
1978 \textcolor{preprocessor}{}\textcolor{comment}{// -------------------------------------------------------------------------}
1979 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
1980 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GOMP\_MIN\_MAX\_CRITSECT\_CPT(OP,FLAG)                                 \(\backslash\)}
1981 \textcolor{preprocessor}{    if (( FLAG ) && ( \_\_kmp\_atomic\_mode == 2 )) \{                          \(\backslash\)}
1982 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                    \(\backslash\)}
1983 \textcolor{preprocessor}{        MIN\_MAX\_CRITSECT\_CPT( OP, 0 );                                     \(\backslash\)}
1984 \textcolor{preprocessor}{    \}}
1985 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
1986 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GOMP\_MIN\_MAX\_CRITSECT\_CPT(OP,FLAG)}
1987 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
1988 \textcolor{preprocessor}{}
1989 \textcolor{comment}{// -------------------------------------------------------------------------}
1990 \textcolor{preprocessor}{#define MIN\_MAX\_CMPXCHG\_CPT(TYPE,BITS,OP)                                  \(\backslash\)}
1991 \textcolor{preprocessor}{    \{                                                                      \(\backslash\)}
1992 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                 \(\backslash\)}
1993 \textcolor{preprocessor}{        }\textcolor{comment}{/*TYPE old\_value; */}\textcolor{preprocessor}{                                               \(\backslash\)}
1994 \textcolor{preprocessor}{        temp\_val = *lhs;                                                   \(\backslash\)}
1995 \textcolor{preprocessor}{        old\_value = temp\_val;                                              \(\backslash\)}
1996 \textcolor{preprocessor}{        while ( old\_value OP rhs &&          }\textcolor{comment}{/* still need actions? */}\textcolor{preprocessor}{     \(\backslash\)}
1997 \textcolor{preprocessor}{            ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (kmp\_int##BITS *) lhs,      \(\backslash\)}
1998 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value,          \(\backslash\)}
1999 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &rhs ) )             \(\backslash\)}
2000 \textcolor{preprocessor}{        \{                                                                  \(\backslash\)}
2001 \textcolor{preprocessor}{            KMP\_CPU\_PAUSE();                                               \(\backslash\)}
2002 \textcolor{preprocessor}{            temp\_val = *lhs;                                               \(\backslash\)}
2003 \textcolor{preprocessor}{            old\_value = temp\_val;                                          \(\backslash\)}
2004 \textcolor{preprocessor}{        \}                                                                  \(\backslash\)}
2005 \textcolor{preprocessor}{        if( flag )                                                         \(\backslash\)}
2006 \textcolor{preprocessor}{            return rhs;                                                    \(\backslash\)}
2007 \textcolor{preprocessor}{        else                                                               \(\backslash\)}
2008 \textcolor{preprocessor}{            return old\_value;                                              \(\backslash\)}
2009 \textcolor{preprocessor}{    \}}
2010 \textcolor{preprocessor}{}
2011 \textcolor{comment}{// -------------------------------------------------------------------------}
2012 \textcolor{comment}{// 1-byte, 2-byte operands - use critical section}
2013 \textcolor{preprocessor}{#define MIN\_MAX\_CRITICAL\_CPT(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)       \(\backslash\)}
2014 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                                  \(\backslash\)}
2015 \textcolor{preprocessor}{    TYPE new\_value, old\_value;                                             \(\backslash\)}
2016 \textcolor{preprocessor}{    if ( *lhs OP rhs ) \{     }\textcolor{comment}{/* need actions? */}\textcolor{preprocessor}{                           \(\backslash\)}
2017 \textcolor{preprocessor}{        GOMP\_MIN\_MAX\_CRITSECT\_CPT(OP,GOMP\_FLAG)                            \(\backslash\)}
2018 \textcolor{preprocessor}{        MIN\_MAX\_CRITSECT\_CPT(OP,LCK\_ID)                                    \(\backslash\)}
2019 \textcolor{preprocessor}{    \}                                                                      \(\backslash\)}
2020 \textcolor{preprocessor}{    return *lhs;                                                           \(\backslash\)}
2021 \textcolor{preprocessor}{\}}
2022 \textcolor{preprocessor}{}
2023 \textcolor{preprocessor}{#define MIN\_MAX\_COMPXCHG\_CPT(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)         \(\backslash\)}
2024 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                                  \(\backslash\)}
2025 \textcolor{preprocessor}{    TYPE new\_value, old\_value;                                             \(\backslash\)}
2026 \textcolor{preprocessor}{    if ( *lhs OP rhs ) \{                                                   \(\backslash\)}
2027 \textcolor{preprocessor}{        GOMP\_MIN\_MAX\_CRITSECT\_CPT(OP,GOMP\_FLAG)                            \(\backslash\)}
2028 \textcolor{preprocessor}{        MIN\_MAX\_CMPXCHG\_CPT(TYPE,BITS,OP)                                  \(\backslash\)}
2029 \textcolor{preprocessor}{    \}                                                                      \(\backslash\)}
2030 \textcolor{preprocessor}{    return *lhs;                                                           \(\backslash\)}
2031 \textcolor{preprocessor}{\}}
2032 \textcolor{preprocessor}{}
2033 
2034 MIN\_MAX\_COMPXCHG\_CPT( fixed1,  max\_cpt, \textcolor{keywordtype}{char},        8, <, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_max\_cpt}
2035 MIN\_MAX\_COMPXCHG\_CPT( fixed1,  min\_cpt, \textcolor{keywordtype}{char},        8, >, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_min\_cpt}
2036 MIN\_MAX\_COMPXCHG\_CPT( fixed2,  max\_cpt, \textcolor{keywordtype}{short},      16, <, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_max\_cpt}
2037 MIN\_MAX\_COMPXCHG\_CPT( fixed2,  min\_cpt, \textcolor{keywordtype}{short},      16, >, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_min\_cpt}
2038 MIN\_MAX\_COMPXCHG\_CPT( fixed4,  max\_cpt, kmp\_int32,  32, <, 0 )            \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_max\_cpt}
2039 MIN\_MAX\_COMPXCHG\_CPT( fixed4,  min\_cpt, kmp\_int32,  32, >, 0 )            \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_min\_cpt}
2040 MIN\_MAX\_COMPXCHG\_CPT( fixed8,  max\_cpt, kmp\_int64,  64, <, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_max\_cpt}
2041 MIN\_MAX\_COMPXCHG\_CPT( fixed8,  min\_cpt, kmp\_int64,  64, >, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_min\_cpt}
2042 MIN\_MAX\_COMPXCHG\_CPT( float4,  max\_cpt, kmp\_real32, 32, <, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_max\_cpt}
2043 MIN\_MAX\_COMPXCHG\_CPT( float4,  min\_cpt, kmp\_real32, 32, >, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_min\_cpt}
2044 MIN\_MAX\_COMPXCHG\_CPT( float8,  max\_cpt, kmp\_real64, 64, <, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_max\_cpt}
2045 MIN\_MAX\_COMPXCHG\_CPT( float8,  min\_cpt, kmp\_real64, 64, >, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_min\_cpt}
2046 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
2047 \textcolor{preprocessor}{}MIN\_MAX\_CRITICAL\_CPT( float16, max\_cpt, QUAD\_LEGACY,    <, 16r,   1 )     \textcolor{comment}{// \_\_kmpc\_atomic\_float16\_max\_cpt}
2048 MIN\_MAX\_CRITICAL\_CPT( float16, min\_cpt, QUAD\_LEGACY,    >, 16r,   1 )     \textcolor{comment}{// \_\_kmpc\_atomic\_float16\_min\_cpt}
2049 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
2050 \textcolor{preprocessor}{}    MIN\_MAX\_CRITICAL\_CPT( float16, max\_a16\_cpt, Quad\_a16\_t, <, 16r,  1 )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_max\_a16\_cpt}
2051     MIN\_MAX\_CRITICAL\_CPT( float16, min\_a16\_cpt, Quad\_a16\_t, >, 16r,  1 )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_mix\_a16\_cpt}
2052 \textcolor{preprocessor}{#endif}
2053 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
2054 \textcolor{preprocessor}{}
2055 \textcolor{comment}{// ------------------------------------------------------------------------}
2056 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2057 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_EQV\_CPT(OP,FLAG)                                 \(\backslash\)}
2058 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
2059 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
2060 \textcolor{preprocessor}{        OP\_CRITICAL\_CPT( OP, 0 );                                         \(\backslash\)}
2061 \textcolor{preprocessor}{    \}}
2062 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
2063 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_EQV\_CPT(OP,FLAG)}
2064 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2065 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
2066 \textcolor{preprocessor}{#define ATOMIC\_CMPX\_EQV\_CPT(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)         \(\backslash\)}
2067 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                                 \(\backslash\)}
2068 \textcolor{preprocessor}{    TYPE new\_value;                                                       \(\backslash\)}
2069 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_EQV\_CPT(^=~,GOMP\_FLAG)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{        \(\backslash\)}
2070 \textcolor{preprocessor}{    OP\_CMPXCHG\_CPT(TYPE,BITS,OP)                                          \(\backslash\)}
2071 \textcolor{preprocessor}{\}}
2072 \textcolor{preprocessor}{}
2073 \textcolor{comment}{// ------------------------------------------------------------------------}
2074 
2075 ATOMIC\_CMPXCHG\_CPT(  fixed1, neqv\_cpt, kmp\_int8,   8,   ^, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_neqv\_cpt}
2076 ATOMIC\_CMPXCHG\_CPT(  fixed2, neqv\_cpt, kmp\_int16, 16,   ^, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_neqv\_cpt}
2077 ATOMIC\_CMPXCHG\_CPT(  fixed4, neqv\_cpt, kmp\_int32, 32,   ^, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_neqv\_cpt}
2078 ATOMIC\_CMPXCHG\_CPT(  fixed8, neqv\_cpt, kmp\_int64, 64,   ^, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_neqv\_cpt}
2079 ATOMIC\_CMPX\_EQV\_CPT( fixed1, eqv\_cpt,  kmp\_int8,   8,  ^~, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_eqv\_cpt}
2080 ATOMIC\_CMPX\_EQV\_CPT( fixed2, eqv\_cpt,  kmp\_int16, 16,  ^~, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_eqv\_cpt}
2081 ATOMIC\_CMPX\_EQV\_CPT( fixed4, eqv\_cpt,  kmp\_int32, 32,  ^~, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_eqv\_cpt}
2082 ATOMIC\_CMPX\_EQV\_CPT( fixed8, eqv\_cpt,  kmp\_int64, 64,  ^~, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} ) \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_eqv\_cpt}
2083 
2084 \textcolor{comment}{// ------------------------------------------------------------------------}
2085 \textcolor{comment}{// Routines for Extended types: long double, \_Quad, complex flavours (use critical section)}
2086 \textcolor{comment}{//     TYPE\_ID, OP\_ID, TYPE - detailed above}
2087 \textcolor{comment}{//     OP      - operator}
2088 \textcolor{comment}{//     LCK\_ID  - lock identifier, used to possibly distinguish lock variable}
2089 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_CPT(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG) \(\backslash\)}
2090 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                           \(\backslash\)}
2091 \textcolor{preprocessor}{    TYPE new\_value;                                                 \(\backslash\)}
2092 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_CPT(OP,GOMP\_FLAG)  }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{       \(\backslash\)}
2093 \textcolor{preprocessor}{    OP\_CRITICAL\_CPT(OP##=,LCK\_ID)          }\textcolor{comment}{/* send assignment */}\textcolor{preprocessor}{    \(\backslash\)}
2094 \textcolor{preprocessor}{\}}
2095 \textcolor{preprocessor}{}
2096 \textcolor{comment}{// ------------------------------------------------------------------------}
2097 
2098 \textcolor{comment}{// Workaround for cmplx4. Regular routines with return value don't work}
2099 \textcolor{comment}{// on Win\_32e. Let's return captured values through the additional parameter.}
2100 \textcolor{preprocessor}{#define OP\_CRITICAL\_CPT\_WRK(OP,LCK\_ID)                                    \(\backslash\)}
2101 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2102 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2103 \textcolor{preprocessor}{    if( flag ) \{                                                          \(\backslash\)}
2104 \textcolor{preprocessor}{        (*lhs) OP rhs;                                                    \(\backslash\)}
2105 \textcolor{preprocessor}{        (*out) = (*lhs);                                                  \(\backslash\)}
2106 \textcolor{preprocessor}{    \} else \{                                                              \(\backslash\)}
2107 \textcolor{preprocessor}{        (*out) = (*lhs);                                                  \(\backslash\)}
2108 \textcolor{preprocessor}{        (*lhs) OP rhs;                                                    \(\backslash\)}
2109 \textcolor{preprocessor}{    \}                                                                     \(\backslash\)}
2110 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2111 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2112 \textcolor{preprocessor}{    return;}
2113 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
2114 
2115 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2116 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_CPT\_WRK(OP,FLAG)                                 \(\backslash\)}
2117 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
2118 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
2119 \textcolor{preprocessor}{        OP\_CRITICAL\_CPT\_WRK( OP##=, 0 );                                  \(\backslash\)}
2120 \textcolor{preprocessor}{    \}}
2121 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
2122 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_CPT\_WRK(OP,FLAG)}
2123 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2124 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
2125 
2126 \textcolor{preprocessor}{#define ATOMIC\_BEGIN\_WRK(TYPE\_ID,OP\_ID,TYPE)                              \(\backslash\)}
2127 \textcolor{preprocessor}{void \_\_kmpc\_atomic\_##TYPE\_ID##\_##OP\_ID( ident\_t *id\_ref, int gtid, TYPE * lhs, TYPE rhs, TYPE * out, int
       flag ) \(\backslash\)}
2128 \textcolor{preprocessor}{\{                                                                         \(\backslash\)}
2129 \textcolor{preprocessor}{    KMP\_DEBUG\_ASSERT( \_\_kmp\_init\_serial );                                \(\backslash\)}
2130 \textcolor{preprocessor}{    KA\_TRACE(100,("\_\_kmpc\_atomic\_" #TYPE\_ID "\_" #OP\_ID ": T#%d\(\backslash\)n", gtid ));}
2131 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
2132 
2133 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_CPT\_WRK(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)   \(\backslash\)}
2134 \textcolor{preprocessor}{ATOMIC\_BEGIN\_WRK(TYPE\_ID,OP\_ID,TYPE)                                      \(\backslash\)}
2135 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_CPT\_WRK(OP,GOMP\_FLAG)                                \(\backslash\)}
2136 \textcolor{preprocessor}{    OP\_CRITICAL\_CPT\_WRK(OP##=,LCK\_ID)                                     \(\backslash\)}
2137 \textcolor{preprocessor}{\}}
2138 \textcolor{preprocessor}{}\textcolor{comment}{// The end of workaround for cmplx4}
2139 
2140 \textcolor{comment}{/* ------------------------------------------------------------------------- */}
2141 \textcolor{comment}{// routines for long double type}
2142 ATOMIC\_CRITICAL\_CPT( float10, add\_cpt, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     +, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_add\_cpt}
2143 ATOMIC\_CRITICAL\_CPT( float10, sub\_cpt, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     -, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_sub\_cpt}
2144 ATOMIC\_CRITICAL\_CPT( float10, mul\_cpt, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     *, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_mul\_cpt}
2145 ATOMIC\_CRITICAL\_CPT( float10, div\_cpt, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     /, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_div\_cpt}
2146 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
2147 \textcolor{preprocessor}{}\textcolor{comment}{// routines for \_Quad type}
2148 ATOMIC\_CRITICAL\_CPT( float16, add\_cpt, QUAD\_LEGACY,     +, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_add\_cpt}
2149 ATOMIC\_CRITICAL\_CPT( float16, sub\_cpt, QUAD\_LEGACY,     -, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_sub\_cpt}
2150 ATOMIC\_CRITICAL\_CPT( float16, mul\_cpt, QUAD\_LEGACY,     *, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_mul\_cpt}
2151 ATOMIC\_CRITICAL\_CPT( float16, div\_cpt, QUAD\_LEGACY,     /, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_div\_cpt}
2152 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
2153 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_CPT( float16, add\_a16\_cpt, Quad\_a16\_t, +, 16r,  1 )          \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_add\_a16\_cpt}
2154     ATOMIC\_CRITICAL\_CPT( float16, sub\_a16\_cpt, Quad\_a16\_t, -, 16r,  1 )          \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_sub\_a16\_cpt}
2155     ATOMIC\_CRITICAL\_CPT( float16, mul\_a16\_cpt, Quad\_a16\_t, *, 16r,  1 )          \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_mul\_a16\_cpt}
2156     ATOMIC\_CRITICAL\_CPT( float16, div\_a16\_cpt, Quad\_a16\_t, /, 16r,  1 )          \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_div\_a16\_cpt}
2157 \textcolor{preprocessor}{#endif}
2158 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
2159 \textcolor{preprocessor}{}
2160 \textcolor{comment}{// routines for complex types}
2161 
2162 \textcolor{comment}{// cmplx4 routines to return void}
2163 ATOMIC\_CRITICAL\_CPT\_WRK( cmplx4,  add\_cpt, kmp\_cmplx32, +, 8c,    1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_add\_cpt}
2164 ATOMIC\_CRITICAL\_CPT\_WRK( cmplx4,  sub\_cpt, kmp\_cmplx32, -, 8c,    1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_sub\_cpt}
2165 ATOMIC\_CRITICAL\_CPT\_WRK( cmplx4,  mul\_cpt, kmp\_cmplx32, *, 8c,    1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_mul\_cpt}
2166 ATOMIC\_CRITICAL\_CPT\_WRK( cmplx4,  div\_cpt, kmp\_cmplx32, /, 8c,    1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_div\_cpt}
2167 
2168 ATOMIC\_CRITICAL\_CPT( cmplx8,  add\_cpt, kmp\_cmplx64, +, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_add\_cpt}
2169 ATOMIC\_CRITICAL\_CPT( cmplx8,  sub\_cpt, kmp\_cmplx64, -, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_sub\_cpt}
2170 ATOMIC\_CRITICAL\_CPT( cmplx8,  mul\_cpt, kmp\_cmplx64, *, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_mul\_cpt}
2171 ATOMIC\_CRITICAL\_CPT( cmplx8,  div\_cpt, kmp\_cmplx64, /, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_div\_cpt}
2172 ATOMIC\_CRITICAL\_CPT( cmplx10, add\_cpt, kmp\_cmplx80, +, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_add\_cpt}
2173 ATOMIC\_CRITICAL\_CPT( cmplx10, sub\_cpt, kmp\_cmplx80, -, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_sub\_cpt}
2174 ATOMIC\_CRITICAL\_CPT( cmplx10, mul\_cpt, kmp\_cmplx80, *, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_mul\_cpt}
2175 ATOMIC\_CRITICAL\_CPT( cmplx10, div\_cpt, kmp\_cmplx80, /, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_div\_cpt}
2176 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
2177 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_CPT( cmplx16, add\_cpt, CPLX128\_LEG, +, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_add\_cpt}
2178 ATOMIC\_CRITICAL\_CPT( cmplx16, sub\_cpt, CPLX128\_LEG, -, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_sub\_cpt}
2179 ATOMIC\_CRITICAL\_CPT( cmplx16, mul\_cpt, CPLX128\_LEG, *, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_mul\_cpt}
2180 ATOMIC\_CRITICAL\_CPT( cmplx16, div\_cpt, CPLX128\_LEG, /, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_div\_cpt}
2181 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
2182 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_CPT( cmplx16, add\_a16\_cpt, kmp\_cmplx128\_a16\_t, +, 32c,   1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_add\_a16\_cpt}
2183     ATOMIC\_CRITICAL\_CPT( cmplx16, sub\_a16\_cpt, kmp\_cmplx128\_a16\_t, -, 32c,   1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_sub\_a16\_cpt}
2184     ATOMIC\_CRITICAL\_CPT( cmplx16, mul\_a16\_cpt, kmp\_cmplx128\_a16\_t, *, 32c,   1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_mul\_a16\_cpt}
2185     ATOMIC\_CRITICAL\_CPT( cmplx16, div\_a16\_cpt, kmp\_cmplx128\_a16\_t, /, 32c,   1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_div\_a16\_cpt}
2186 \textcolor{preprocessor}{#endif}
2187 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
2188 \textcolor{preprocessor}{}
2189 \textcolor{preprocessor}{#if OMP\_40\_ENABLED}
2190 \textcolor{preprocessor}{}
2191 \textcolor{comment}{// OpenMP 4.0: v = x = expr binop x; \{ v = x; x = expr binop x; \} \{ x = expr binop x; v = x; \}  for
       non-commutative operations.}
2192 \textcolor{comment}{// Supported only on IA-32 architecture and Intel(R) 64}
2193 
2194 \textcolor{comment}{// -------------------------------------------------------------------------}
2195 \textcolor{comment}{// Operation on *lhs, rhs bound by critical section}
2196 \textcolor{comment}{//     OP     - operator (it's supposed to contain an assignment)}
2197 \textcolor{comment}{//     LCK\_ID - lock identifier}
2198 \textcolor{comment}{// Note: don't check gtid as it should always be valid}
2199 \textcolor{comment}{// 1, 2-byte - expect valid parameter, other - check before this macro}
2200 \textcolor{preprocessor}{#define OP\_CRITICAL\_CPT\_REV(OP,LCK\_ID)                                    \(\backslash\)}
2201 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2202 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2203 \textcolor{preprocessor}{    if( flag ) \{                                                          \(\backslash\)}
2204 \textcolor{preprocessor}{        }\textcolor{comment}{/*temp\_val = (*lhs);*/}\textcolor{preprocessor}{\(\backslash\)}
2205 \textcolor{preprocessor}{        (*lhs) = (rhs) OP (*lhs);                                         \(\backslash\)}
2206 \textcolor{preprocessor}{        new\_value = (*lhs);                                               \(\backslash\)}
2207 \textcolor{preprocessor}{    \} else \{                                                              \(\backslash\)}
2208 \textcolor{preprocessor}{        new\_value = (*lhs);\(\backslash\)}
2209 \textcolor{preprocessor}{        (*lhs) = (rhs) OP (*lhs);                                         \(\backslash\)}
2210 \textcolor{preprocessor}{    \}                                                                     \(\backslash\)}
2211 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2212 \textcolor{preprocessor}{    return new\_value;}
2213 \textcolor{preprocessor}{}
2214 \textcolor{comment}{// ------------------------------------------------------------------------}
2215 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2216 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_CPT\_REV(OP,FLAG)                                 \(\backslash\)}
2217 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
2218 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
2219 \textcolor{preprocessor}{        OP\_CRITICAL\_CPT\_REV( OP, 0 );                                     \(\backslash\)}
2220 \textcolor{preprocessor}{    \}}
2221 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
2222 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_CPT\_REV(OP,FLAG)}
2223 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2224 \textcolor{preprocessor}{}
2225 \textcolor{comment}{// ------------------------------------------------------------------------}
2226 \textcolor{comment}{// Operation on *lhs, rhs using "compare\_and\_store" routine}
2227 \textcolor{comment}{//     TYPE    - operands' type}
2228 \textcolor{comment}{//     BITS    - size in bits, used to distinguish low level calls}
2229 \textcolor{comment}{//     OP      - operator}
2230 \textcolor{comment}{// Note: temp\_val introduced in order to force the compiler to read}
2231 \textcolor{comment}{//       *lhs only once (w/o it the compiler reads *lhs twice)}
2232 \textcolor{preprocessor}{#define OP\_CMPXCHG\_CPT\_REV(TYPE,BITS,OP)                                  \(\backslash\)}
2233 \textcolor{preprocessor}{    \{                                                                     \(\backslash\)}
2234 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                \(\backslash\)}
2235 \textcolor{preprocessor}{        TYPE old\_value, new\_value;                                        \(\backslash\)}
2236 \textcolor{preprocessor}{        temp\_val = *lhs;                                                  \(\backslash\)}
2237 \textcolor{preprocessor}{        old\_value = temp\_val;                                             \(\backslash\)}
2238 \textcolor{preprocessor}{        new\_value = rhs OP old\_value;                                     \(\backslash\)}
2239 \textcolor{preprocessor}{        while ( ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (kmp\_int##BITS *) lhs, \(\backslash\)}
2240 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value,         \(\backslash\)}
2241 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &new\_value ) )      \(\backslash\)}
2242 \textcolor{preprocessor}{        \{                                                                 \(\backslash\)}
2243 \textcolor{preprocessor}{            KMP\_CPU\_PAUSE();                                              \(\backslash\)}
2244 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2245 \textcolor{preprocessor}{            temp\_val = *lhs;                                              \(\backslash\)}
2246 \textcolor{preprocessor}{            old\_value = temp\_val;                                         \(\backslash\)}
2247 \textcolor{preprocessor}{            new\_value = rhs OP old\_value;                                 \(\backslash\)}
2248 \textcolor{preprocessor}{        \}                                                                 \(\backslash\)}
2249 \textcolor{preprocessor}{        if( flag ) \{                                                      \(\backslash\)}
2250 \textcolor{preprocessor}{            return new\_value;                                             \(\backslash\)}
2251 \textcolor{preprocessor}{        \} else                                                            \(\backslash\)}
2252 \textcolor{preprocessor}{            return old\_value;                                             \(\backslash\)}
2253 \textcolor{preprocessor}{    \}}
2254 \textcolor{preprocessor}{}
2255 \textcolor{comment}{// -------------------------------------------------------------------------}
2256 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_CPT\_REV(TYPE\_ID,OP\_ID,TYPE,BITS,OP,GOMP\_FLAG)       \(\backslash\)}
2257 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                                  \(\backslash\)}
2258 \textcolor{preprocessor}{    TYPE new\_value;                                                        \(\backslash\)}
2259 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                \(\backslash\)}
2260 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_CPT\_REV(OP,GOMP\_FLAG)                                 \(\backslash\)}
2261 \textcolor{preprocessor}{    OP\_CMPXCHG\_CPT\_REV(TYPE,BITS,OP)                                       \(\backslash\)}
2262 \textcolor{preprocessor}{\}}
2263 \textcolor{preprocessor}{}
2264 
2265 ATOMIC\_CMPXCHG\_CPT\_REV( fixed1,  div\_cpt\_rev, kmp\_int8,    8, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_div\_cpt\_rev}
2266 ATOMIC\_CMPXCHG\_CPT\_REV( fixed1u, div\_cpt\_rev, kmp\_uint8,   8, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1u\_div\_cpt\_rev}
2267 ATOMIC\_CMPXCHG\_CPT\_REV( fixed1,  shl\_cpt\_rev, kmp\_int8,    8, <<, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_shl\_cpt\_rev}
2268 ATOMIC\_CMPXCHG\_CPT\_REV( fixed1,  shr\_cpt\_rev, kmp\_int8,    8, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_shr\_cpt\_rev}
2269 ATOMIC\_CMPXCHG\_CPT\_REV( fixed1u, shr\_cpt\_rev, kmp\_uint8,   8, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1u\_shr\_cpt\_rev}
2270 ATOMIC\_CMPXCHG\_CPT\_REV( fixed1,  sub\_cpt\_rev, kmp\_int8,    8, -,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed1\_sub\_cpt\_rev}
2271 ATOMIC\_CMPXCHG\_CPT\_REV( fixed2,  div\_cpt\_rev, kmp\_int16,  16, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_div\_cpt\_rev}
2272 ATOMIC\_CMPXCHG\_CPT\_REV( fixed2u, div\_cpt\_rev, kmp\_uint16, 16, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2u\_div\_cpt\_rev}
2273 ATOMIC\_CMPXCHG\_CPT\_REV( fixed2,  shl\_cpt\_rev, kmp\_int16,  16, <<, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_shl\_cpt\_rev}
2274 ATOMIC\_CMPXCHG\_CPT\_REV( fixed2,  shr\_cpt\_rev, kmp\_int16,  16, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_shr\_cpt\_rev}
2275 ATOMIC\_CMPXCHG\_CPT\_REV( fixed2u, shr\_cpt\_rev, kmp\_uint16, 16, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2u\_shr\_cpt\_rev}
2276 ATOMIC\_CMPXCHG\_CPT\_REV( fixed2,  sub\_cpt\_rev, kmp\_int16,  16, -,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed2\_sub\_cpt\_rev}
2277 ATOMIC\_CMPXCHG\_CPT\_REV( fixed4,  div\_cpt\_rev, kmp\_int32,  32, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_div\_cpt\_rev}
2278 ATOMIC\_CMPXCHG\_CPT\_REV( fixed4u, div\_cpt\_rev, kmp\_uint32, 32, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4u\_div\_cpt\_rev}
2279 ATOMIC\_CMPXCHG\_CPT\_REV( fixed4,  shl\_cpt\_rev, kmp\_int32,  32, <<, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_shl\_cpt\_rev}
2280 ATOMIC\_CMPXCHG\_CPT\_REV( fixed4,  shr\_cpt\_rev, kmp\_int32,  32, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_shr\_cpt\_rev}
2281 ATOMIC\_CMPXCHG\_CPT\_REV( fixed4u, shr\_cpt\_rev, kmp\_uint32, 32, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4u\_shr\_cpt\_rev}
2282 ATOMIC\_CMPXCHG\_CPT\_REV( fixed4,  sub\_cpt\_rev, kmp\_int32,  32, -,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed4\_sub\_cpt\_rev}
2283 ATOMIC\_CMPXCHG\_CPT\_REV( fixed8,  div\_cpt\_rev, kmp\_int64,  64, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_div\_cpt\_rev}
2284 ATOMIC\_CMPXCHG\_CPT\_REV( fixed8u, div\_cpt\_rev, kmp\_uint64, 64, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8u\_div\_cpt\_rev}
2285 ATOMIC\_CMPXCHG\_CPT\_REV( fixed8,  shl\_cpt\_rev, kmp\_int64,  64, <<, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_shl\_cpt\_rev}
2286 ATOMIC\_CMPXCHG\_CPT\_REV( fixed8,  shr\_cpt\_rev, kmp\_int64,  64, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_shr\_cpt\_rev}
2287 ATOMIC\_CMPXCHG\_CPT\_REV( fixed8u, shr\_cpt\_rev, kmp\_uint64, 64, >>, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8u\_shr\_cpt\_rev}
2288 ATOMIC\_CMPXCHG\_CPT\_REV( fixed8,  sub\_cpt\_rev, kmp\_int64,  64, -,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_fixed8\_sub\_cpt\_rev}
2289 ATOMIC\_CMPXCHG\_CPT\_REV( float4,  div\_cpt\_rev, kmp\_real32, 32, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_div\_cpt\_rev}
2290 ATOMIC\_CMPXCHG\_CPT\_REV( float4,  sub\_cpt\_rev, kmp\_real32, 32, -,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float4\_sub\_cpt\_rev}
2291 ATOMIC\_CMPXCHG\_CPT\_REV( float8,  div\_cpt\_rev, kmp\_real64, 64, /,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_div\_cpt\_rev}
2292 ATOMIC\_CMPXCHG\_CPT\_REV( float8,  sub\_cpt\_rev, kmp\_real64, 64, -,  \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{//
       \_\_kmpc\_atomic\_float8\_sub\_cpt\_rev}
2293 \textcolor{comment}{//              TYPE\_ID,OP\_ID, TYPE,          OP,  GOMP\_FLAG}
2294 
2295 
2296 \textcolor{comment}{// ------------------------------------------------------------------------}
2297 \textcolor{comment}{// Routines for Extended types: long double, \_Quad, complex flavours (use critical section)}
2298 \textcolor{comment}{//     TYPE\_ID, OP\_ID, TYPE - detailed above}
2299 \textcolor{comment}{//     OP      - operator}
2300 \textcolor{comment}{//     LCK\_ID  - lock identifier, used to possibly distinguish lock variable}
2301 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_CPT\_REV(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG) \(\backslash\)}
2302 \textcolor{preprocessor}{ATOMIC\_BEGIN\_CPT(TYPE\_ID,OP\_ID,TYPE,TYPE)                               \(\backslash\)}
2303 \textcolor{preprocessor}{    TYPE new\_value;                                                     \(\backslash\)}
2304 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                \(\backslash\)}
2305 \textcolor{preprocessor}{    }\textcolor{comment}{/*printf("\_\_kmp\_atomic\_mode = %d\(\backslash\)n", \_\_kmp\_atomic\_mode);*/}\textcolor{preprocessor}{\(\backslash\)}
2306 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_CPT\_REV(OP,GOMP\_FLAG)                              \(\backslash\)}
2307 \textcolor{preprocessor}{    OP\_CRITICAL\_CPT\_REV(OP,LCK\_ID)                                      \(\backslash\)}
2308 \textcolor{preprocessor}{\}}
2309 \textcolor{preprocessor}{}
2310 
2311 \textcolor{comment}{/* ------------------------------------------------------------------------- */}
2312 \textcolor{comment}{// routines for long double type}
2313 ATOMIC\_CRITICAL\_CPT\_REV( float10, sub\_cpt\_rev, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     -, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_sub\_cpt\_rev}
2314 ATOMIC\_CRITICAL\_CPT\_REV( float10, div\_cpt\_rev, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double},     /, 10r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float10\_div\_cpt\_rev}
2315 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
2316 \textcolor{preprocessor}{}\textcolor{comment}{// routines for \_Quad type}
2317 ATOMIC\_CRITICAL\_CPT\_REV( float16, sub\_cpt\_rev, QUAD\_LEGACY,     -, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_sub\_cpt\_rev}
2318 ATOMIC\_CRITICAL\_CPT\_REV( float16, div\_cpt\_rev, QUAD\_LEGACY,     /, 16r,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_div\_cpt\_rev}
2319 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
2320 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_CPT\_REV( float16, sub\_a16\_cpt\_rev, Quad\_a16\_t, -, 16r,  1 )          \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_sub\_a16\_cpt\_rev}
2321     ATOMIC\_CRITICAL\_CPT\_REV( float16, div\_a16\_cpt\_rev, Quad\_a16\_t, /, 16r,  1 )          \textcolor{comment}{//
       \_\_kmpc\_atomic\_float16\_div\_a16\_cpt\_rev}
2322 \textcolor{preprocessor}{#endif}
2323 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
2324 \textcolor{preprocessor}{}
2325 \textcolor{comment}{// routines for complex types}
2326 
2327 \textcolor{comment}{// ------------------------------------------------------------------------}
2328 
2329 \textcolor{comment}{// Workaround for cmplx4. Regular routines with return value don't work}
2330 \textcolor{comment}{// on Win\_32e. Let's return captured values through the additional parameter.}
2331 \textcolor{preprocessor}{#define OP\_CRITICAL\_CPT\_REV\_WRK(OP,LCK\_ID)                                \(\backslash\)}
2332 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2333 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2334 \textcolor{preprocessor}{    if( flag ) \{                                                          \(\backslash\)}
2335 \textcolor{preprocessor}{        (*lhs) = (rhs) OP (*lhs);                                         \(\backslash\)}
2336 \textcolor{preprocessor}{        (*out) = (*lhs);                                                  \(\backslash\)}
2337 \textcolor{preprocessor}{    \} else \{                                                              \(\backslash\)}
2338 \textcolor{preprocessor}{        (*out) = (*lhs);                                                  \(\backslash\)}
2339 \textcolor{preprocessor}{        (*lhs) = (rhs) OP (*lhs);                                         \(\backslash\)}
2340 \textcolor{preprocessor}{    \}                                                                     \(\backslash\)}
2341 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2342 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2343 \textcolor{preprocessor}{    return;}
2344 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
2345 
2346 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2347 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_CPT\_REV\_WRK(OP,FLAG)                             \(\backslash\)}
2348 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
2349 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
2350 \textcolor{preprocessor}{        OP\_CRITICAL\_CPT\_REV\_WRK( OP, 0 );                                 \(\backslash\)}
2351 \textcolor{preprocessor}{    \}}
2352 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
2353 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define OP\_GOMP\_CRITICAL\_CPT\_REV\_WRK(OP,FLAG)}
2354 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2355 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
2356 
2357 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_CPT\_REV\_WRK(TYPE\_ID,OP\_ID,TYPE,OP,LCK\_ID,GOMP\_FLAG)   \(\backslash\)}
2358 \textcolor{preprocessor}{ATOMIC\_BEGIN\_WRK(TYPE\_ID,OP\_ID,TYPE)                                          \(\backslash\)}
2359 \textcolor{preprocessor}{    OP\_GOMP\_CRITICAL\_CPT\_REV\_WRK(OP,GOMP\_FLAG)                                \(\backslash\)}
2360 \textcolor{preprocessor}{    OP\_CRITICAL\_CPT\_REV\_WRK(OP,LCK\_ID)                                        \(\backslash\)}
2361 \textcolor{preprocessor}{\}}
2362 \textcolor{preprocessor}{}\textcolor{comment}{// The end of workaround for cmplx4}
2363 
2364 
2365 \textcolor{comment}{// !!! TODO: check if we need to return void for cmplx4 routines}
2366 \textcolor{comment}{// cmplx4 routines to return void}
2367 ATOMIC\_CRITICAL\_CPT\_REV\_WRK( cmplx4,  sub\_cpt\_rev, kmp\_cmplx32, -, 8c,    1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_sub\_cpt\_rev}
2368 ATOMIC\_CRITICAL\_CPT\_REV\_WRK( cmplx4,  div\_cpt\_rev, kmp\_cmplx32, /, 8c,    1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx4\_div\_cpt\_rev}
2369 
2370 ATOMIC\_CRITICAL\_CPT\_REV( cmplx8,  sub\_cpt\_rev, kmp\_cmplx64, -, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_sub\_cpt\_rev}
2371 ATOMIC\_CRITICAL\_CPT\_REV( cmplx8,  div\_cpt\_rev, kmp\_cmplx64, /, 16c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx8\_div\_cpt\_rev}
2372 ATOMIC\_CRITICAL\_CPT\_REV( cmplx10, sub\_cpt\_rev, kmp\_cmplx80, -, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_sub\_cpt\_rev}
2373 ATOMIC\_CRITICAL\_CPT\_REV( cmplx10, div\_cpt\_rev, kmp\_cmplx80, /, 20c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx10\_div\_cpt\_rev}
2374 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
2375 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_CPT\_REV( cmplx16, sub\_cpt\_rev, CPLX128\_LEG, -, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_sub\_cpt\_rev}
2376 ATOMIC\_CRITICAL\_CPT\_REV( cmplx16, div\_cpt\_rev, CPLX128\_LEG, /, 32c,   1 )            \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_div\_cpt\_rev}
2377 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
2378 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_CPT\_REV( cmplx16, sub\_a16\_cpt\_rev, kmp\_cmplx128\_a16\_t, -, 32c,   1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_sub\_a16\_cpt\_rev}
2379     ATOMIC\_CRITICAL\_CPT\_REV( cmplx16, div\_a16\_cpt\_rev, kmp\_cmplx128\_a16\_t, /, 32c,   1 )   \textcolor{comment}{//
       \_\_kmpc\_atomic\_cmplx16\_div\_a16\_cpt\_rev}
2380 \textcolor{preprocessor}{#endif}
2381 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
2382 \textcolor{preprocessor}{}
2383 \textcolor{comment}{//   OpenMP 4.0 Capture-write (swap): \{v = x; x = expr;\}}
2384 
2385 \textcolor{preprocessor}{#define ATOMIC\_BEGIN\_SWP(TYPE\_ID,TYPE)                                                    \(\backslash\)}
2386 \textcolor{preprocessor}{TYPE \_\_kmpc\_atomic\_##TYPE\_ID##\_swp( ident\_t *id\_ref, int gtid, TYPE * lhs, TYPE rhs )     \(\backslash\)}
2387 \textcolor{preprocessor}{\{                                                                                         \(\backslash\)}
2388 \textcolor{preprocessor}{    KMP\_DEBUG\_ASSERT( \_\_kmp\_init\_serial );                                                \(\backslash\)}
2389 \textcolor{preprocessor}{    KA\_TRACE(100,("\_\_kmpc\_atomic\_" #TYPE\_ID "\_swp: T#%d\(\backslash\)n", gtid ));}
2390 \textcolor{preprocessor}{}
2391 \textcolor{preprocessor}{#define CRITICAL\_SWP(LCK\_ID)                                              \(\backslash\)}
2392 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2393 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2394 \textcolor{preprocessor}{    old\_value = (*lhs);                                                   \(\backslash\)}
2395 \textcolor{preprocessor}{    (*lhs) = rhs;                                                         \(\backslash\)}
2396 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2397 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2398 \textcolor{preprocessor}{    return old\_value;}
2399 \textcolor{preprocessor}{}
2400 \textcolor{comment}{// ------------------------------------------------------------------------}
2401 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2402 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GOMP\_CRITICAL\_SWP(FLAG)                                           \(\backslash\)}
2403 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
2404 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
2405 \textcolor{preprocessor}{        CRITICAL\_SWP( 0 );                                                \(\backslash\)}
2406 \textcolor{preprocessor}{    \}}
2407 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
2408 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GOMP\_CRITICAL\_SWP(FLAG)}
2409 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2410 \textcolor{preprocessor}{}
2411 
2412 \textcolor{preprocessor}{#define ATOMIC\_XCHG\_SWP(TYPE\_ID,TYPE,BITS,GOMP\_FLAG)                      \(\backslash\)}
2413 \textcolor{preprocessor}{ATOMIC\_BEGIN\_SWP(TYPE\_ID,TYPE)                                            \(\backslash\)}
2414 \textcolor{preprocessor}{    TYPE old\_value;                                                       \(\backslash\)}
2415 \textcolor{preprocessor}{    GOMP\_CRITICAL\_SWP(GOMP\_FLAG)                                          \(\backslash\)}
2416 \textcolor{preprocessor}{    old\_value = KMP\_XCHG\_FIXED##BITS( lhs, rhs );                         \(\backslash\)}
2417 \textcolor{preprocessor}{    return old\_value;                                                     \(\backslash\)}
2418 \textcolor{preprocessor}{\}}
2419 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
2420 \textcolor{preprocessor}{#define ATOMIC\_XCHG\_FLOAT\_SWP(TYPE\_ID,TYPE,BITS,GOMP\_FLAG)                \(\backslash\)}
2421 \textcolor{preprocessor}{ATOMIC\_BEGIN\_SWP(TYPE\_ID,TYPE)                                            \(\backslash\)}
2422 \textcolor{preprocessor}{    TYPE old\_value;                                                       \(\backslash\)}
2423 \textcolor{preprocessor}{    GOMP\_CRITICAL\_SWP(GOMP\_FLAG)                                          \(\backslash\)}
2424 \textcolor{preprocessor}{    old\_value = KMP\_XCHG\_REAL##BITS( lhs, rhs );                          \(\backslash\)}
2425 \textcolor{preprocessor}{    return old\_value;                                                     \(\backslash\)}
2426 \textcolor{preprocessor}{\}}
2427 \textcolor{preprocessor}{}
2428 \textcolor{comment}{// ------------------------------------------------------------------------}
2429 \textcolor{preprocessor}{#define CMPXCHG\_SWP(TYPE,BITS)                                            \(\backslash\)}
2430 \textcolor{preprocessor}{    \{                                                                     \(\backslash\)}
2431 \textcolor{preprocessor}{        TYPE KMP\_ATOMIC\_VOLATILE temp\_val;                                \(\backslash\)}
2432 \textcolor{preprocessor}{        TYPE old\_value, new\_value;                                        \(\backslash\)}
2433 \textcolor{preprocessor}{        temp\_val = *lhs;                                                  \(\backslash\)}
2434 \textcolor{preprocessor}{        old\_value = temp\_val;                                             \(\backslash\)}
2435 \textcolor{preprocessor}{        new\_value = rhs;                                                  \(\backslash\)}
2436 \textcolor{preprocessor}{        while ( ! KMP\_COMPARE\_AND\_STORE\_ACQ##BITS( (kmp\_int##BITS *) lhs, \(\backslash\)}
2437 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &old\_value,         \(\backslash\)}
2438 \textcolor{preprocessor}{                      *VOLATILE\_CAST(kmp\_int##BITS *) &new\_value ) )      \(\backslash\)}
2439 \textcolor{preprocessor}{        \{                                                                 \(\backslash\)}
2440 \textcolor{preprocessor}{            KMP\_CPU\_PAUSE();                                              \(\backslash\)}
2441 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2442 \textcolor{preprocessor}{            temp\_val = *lhs;                                              \(\backslash\)}
2443 \textcolor{preprocessor}{            old\_value = temp\_val;                                         \(\backslash\)}
2444 \textcolor{preprocessor}{            new\_value = rhs;                                              \(\backslash\)}
2445 \textcolor{preprocessor}{        \}                                                                 \(\backslash\)}
2446 \textcolor{preprocessor}{        return old\_value;                                                 \(\backslash\)}
2447 \textcolor{preprocessor}{    \}}
2448 \textcolor{preprocessor}{}
2449 \textcolor{comment}{// -------------------------------------------------------------------------}
2450 \textcolor{preprocessor}{#define ATOMIC\_CMPXCHG\_SWP(TYPE\_ID,TYPE,BITS,GOMP\_FLAG)                   \(\backslash\)}
2451 \textcolor{preprocessor}{ATOMIC\_BEGIN\_SWP(TYPE\_ID,TYPE)                                            \(\backslash\)}
2452 \textcolor{preprocessor}{    TYPE old\_value;                                                       \(\backslash\)}
2453 \textcolor{preprocessor}{    GOMP\_CRITICAL\_SWP(GOMP\_FLAG)                                          \(\backslash\)}
2454 \textcolor{preprocessor}{    CMPXCHG\_SWP(TYPE,BITS)                                                \(\backslash\)}
2455 \textcolor{preprocessor}{\}}
2456 \textcolor{preprocessor}{}
2457 ATOMIC\_XCHG\_SWP( fixed1, kmp\_int8,    8, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed1\_swp}
2458 ATOMIC\_XCHG\_SWP( fixed2, kmp\_int16,  16, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed2\_swp}
2459 ATOMIC\_XCHG\_SWP( fixed4, kmp\_int32,  32, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_fixed4\_swp}
2460 
2461 ATOMIC\_XCHG\_FLOAT\_SWP( float4, kmp\_real32, 32, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )      \textcolor{comment}{// \_\_kmpc\_atomic\_float4\_swp}
2462 
2463 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
2464 \textcolor{preprocessor}{}    ATOMIC\_CMPXCHG\_SWP( fixed8, kmp\_int64, 64, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )      \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_swp}
2465     ATOMIC\_CMPXCHG\_SWP( float8, kmp\_real64, 64, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )     \textcolor{comment}{// \_\_kmpc\_atomic\_float8\_swp}
2466 \textcolor{preprocessor}{#else}
2467 \textcolor{preprocessor}{}    ATOMIC\_XCHG\_SWP(       fixed8, kmp\_int64, 64, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )   \textcolor{comment}{// \_\_kmpc\_atomic\_fixed8\_swp}
2468     ATOMIC\_XCHG\_FLOAT\_SWP( float8, kmp\_real64, 64, \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} )  \textcolor{comment}{// \_\_kmpc\_atomic\_float8\_swp}
2469 \textcolor{preprocessor}{#endif}
2470 \textcolor{preprocessor}{}
2471 \textcolor{comment}{// ------------------------------------------------------------------------}
2472 \textcolor{comment}{// Routines for Extended types: long double, \_Quad, complex flavours (use critical section)}
2473 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_SWP(TYPE\_ID,TYPE,LCK\_ID,GOMP\_FLAG)              \(\backslash\)}
2474 \textcolor{preprocessor}{ATOMIC\_BEGIN\_SWP(TYPE\_ID,TYPE)                                          \(\backslash\)}
2475 \textcolor{preprocessor}{    TYPE old\_value;                                                     \(\backslash\)}
2476 \textcolor{preprocessor}{    GOMP\_CRITICAL\_SWP(GOMP\_FLAG)                                        \(\backslash\)}
2477 \textcolor{preprocessor}{    CRITICAL\_SWP(LCK\_ID)                                                \(\backslash\)}
2478 \textcolor{preprocessor}{\}}
2479 \textcolor{preprocessor}{}
2480 \textcolor{comment}{// ------------------------------------------------------------------------}
2481 
2482 \textcolor{comment}{// !!! TODO: check if we need to return void for cmplx4 routines}
2483 \textcolor{comment}{// Workaround for cmplx4. Regular routines with return value don't work}
2484 \textcolor{comment}{// on Win\_32e. Let's return captured values through the additional parameter.}
2485 
2486 \textcolor{preprocessor}{#define ATOMIC\_BEGIN\_SWP\_WRK(TYPE\_ID,TYPE)                                                \(\backslash\)}
2487 \textcolor{preprocessor}{void \_\_kmpc\_atomic\_##TYPE\_ID##\_swp( ident\_t *id\_ref, int gtid, TYPE * lhs, TYPE rhs, TYPE * out )     \(\backslash\)}
2488 \textcolor{preprocessor}{\{                                                                                         \(\backslash\)}
2489 \textcolor{preprocessor}{    KMP\_DEBUG\_ASSERT( \_\_kmp\_init\_serial );                                                \(\backslash\)}
2490 \textcolor{preprocessor}{    KA\_TRACE(100,("\_\_kmpc\_atomic\_" #TYPE\_ID "\_swp: T#%d\(\backslash\)n", gtid ));}
2491 \textcolor{preprocessor}{}
2492 
2493 \textcolor{preprocessor}{#define CRITICAL\_SWP\_WRK(LCK\_ID)                                          \(\backslash\)}
2494 \textcolor{preprocessor}{    \_\_kmp\_acquire\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2495 \textcolor{preprocessor}{                                                                          \(\backslash\)}
2496 \textcolor{preprocessor}{    tmp = (*lhs);                                                         \(\backslash\)}
2497 \textcolor{preprocessor}{    (*lhs) = (rhs);                                                       \(\backslash\)}
2498 \textcolor{preprocessor}{    (*out) = tmp;                                                         \(\backslash\)}
2499 \textcolor{preprocessor}{    \_\_kmp\_release\_atomic\_lock( & ATOMIC\_LOCK##LCK\_ID, gtid );             \(\backslash\)}
2500 \textcolor{preprocessor}{    return;}
2501 \textcolor{preprocessor}{}
2502 \textcolor{comment}{// ------------------------------------------------------------------------}
2503 
2504 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2505 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GOMP\_CRITICAL\_SWP\_WRK(FLAG)                                       \(\backslash\)}
2506 \textcolor{preprocessor}{    if ( (FLAG) && (\_\_kmp\_atomic\_mode == 2) ) \{                           \(\backslash\)}
2507 \textcolor{preprocessor}{        KMP\_CHECK\_GTID;                                                   \(\backslash\)}
2508 \textcolor{preprocessor}{        CRITICAL\_SWP\_WRK( 0 );                                            \(\backslash\)}
2509 \textcolor{preprocessor}{    \}}
2510 \textcolor{preprocessor}{}\textcolor{preprocessor}{#else}
2511 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define GOMP\_CRITICAL\_SWP\_WRK(FLAG)}
2512 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2513 \textcolor{preprocessor}{}\textcolor{comment}{// ------------------------------------------------------------------------}
2514 
2515 \textcolor{preprocessor}{#define ATOMIC\_CRITICAL\_SWP\_WRK(TYPE\_ID, TYPE,LCK\_ID,GOMP\_FLAG)           \(\backslash\)}
2516 \textcolor{preprocessor}{ATOMIC\_BEGIN\_SWP\_WRK(TYPE\_ID,TYPE)                                        \(\backslash\)}
2517 \textcolor{preprocessor}{    TYPE tmp;                                                             \(\backslash\)}
2518 \textcolor{preprocessor}{    GOMP\_CRITICAL\_SWP\_WRK(GOMP\_FLAG)                                      \(\backslash\)}
2519 \textcolor{preprocessor}{    CRITICAL\_SWP\_WRK(LCK\_ID)                                              \(\backslash\)}
2520 \textcolor{preprocessor}{\}}
2521 \textcolor{preprocessor}{}\textcolor{comment}{// The end of workaround for cmplx4}
2522 
2523 
2524 ATOMIC\_CRITICAL\_SWP( float10, \textcolor{keywordtype}{long} \textcolor{keywordtype}{double}, 10r,   1 )              \textcolor{comment}{// \_\_kmpc\_atomic\_float10\_swp}
2525 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
2526 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_SWP( float16, QUAD\_LEGACY, 16r,   1 )              \textcolor{comment}{// \_\_kmpc\_atomic\_float16\_swp}
2527 \textcolor{preprocessor}{#endif}
2528 \textcolor{preprocessor}{}\textcolor{comment}{// cmplx4 routine to return void}
2529 ATOMIC\_CRITICAL\_SWP\_WRK( cmplx4, kmp\_cmplx32,  8c,   1 )           \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx4\_swp}
2530 
2531 \textcolor{comment}{//ATOMIC\_CRITICAL\_SWP( cmplx4, kmp\_cmplx32,  8c,   1 )           // \_\_kmpc\_atomic\_cmplx4\_swp}
2532 
2533 
2534 ATOMIC\_CRITICAL\_SWP( cmplx8,  kmp\_cmplx64, 16c,   1 )              \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx8\_swp}
2535 ATOMIC\_CRITICAL\_SWP( cmplx10, kmp\_cmplx80, 20c,   1 )              \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx10\_swp}
2536 \textcolor{preprocessor}{#if KMP\_HAVE\_QUAD}
2537 \textcolor{preprocessor}{}ATOMIC\_CRITICAL\_SWP( cmplx16, CPLX128\_LEG, 32c,   1 )              \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx16\_swp}
2538 \textcolor{preprocessor}{#if ( KMP\_ARCH\_X86 )}
2539 \textcolor{preprocessor}{}    ATOMIC\_CRITICAL\_SWP( float16\_a16, Quad\_a16\_t,         16r, 1 )  \textcolor{comment}{// \_\_kmpc\_atomic\_float16\_a16\_swp}
2540     ATOMIC\_CRITICAL\_SWP( cmplx16\_a16, kmp\_cmplx128\_a16\_t, 32c, 1 )  \textcolor{comment}{// \_\_kmpc\_atomic\_cmplx16\_a16\_swp}
2541 \textcolor{preprocessor}{#endif}
2542 \textcolor{preprocessor}{}\textcolor{preprocessor}{#endif}
2543 \textcolor{preprocessor}{}
2544 
2545 \textcolor{comment}{// End of OpenMP 4.0 Capture}
2546 
2547 \textcolor{preprocessor}{#endif //OMP\_40\_ENABLED}
2548 \textcolor{preprocessor}{}
2549 \textcolor{preprocessor}{#endif //KMP\_ARCH\_X86 || KMP\_ARCH\_X86\_64}
2550 \textcolor{preprocessor}{}
2551 
2552 \textcolor{preprocessor}{#undef OP\_CRITICAL}
2553 \textcolor{preprocessor}{}
2554 \textcolor{comment}{/* ------------------------------------------------------------------------ */}
2555 \textcolor{comment}{/* Generic atomic routines                                                  */}
2556 \textcolor{comment}{/* ------------------------------------------------------------------------ */}
2557 
2558 \textcolor{keywordtype}{void}
2559 \hyperlink{kmp__atomic_8h_a753fe4e0a5fb585159e8e2ffbf5582f2}{\_\_kmpc\_atomic\_1}( \hyperlink{structident}{ident\_t} *id\_ref, \textcolor{keywordtype}{int} gtid, \textcolor{keywordtype}{void}* lhs, \textcolor{keywordtype}{void}* rhs, \textcolor{keywordtype}{void} (*f)( \textcolor{keywordtype}{void} *, \textcolor{keywordtype}{
      void} *, \textcolor{keywordtype}{void} * ) )
2560 \{
2561     \hyperlink{kmp__debug_8h_ad766efc30e33e28634691088e80cdf08}{KMP\_DEBUG\_ASSERT}( \hyperlink{kmp_8h_aee22cd19970207e05e9c86cc0a802f9c}{\_\_kmp\_init\_serial} );
2562 
2563     \textcolor{keywordflow}{if} (
2564 #\textcolor{keywordflow}{if} \hyperlink{kmp__platform_8h_a065490c327caaba8f6e59443d5afce7e}{KMP\_ARCH\_X86} && defined(KMP\_GOMP\_COMPAT)
2565         \hyperlink{kmp_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}                                   \textcolor{comment}{/* must use lock */}
2566 #\textcolor{keywordflow}{else}
2567         \hyperlink{kmp_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}
2568 #endif
2569         )
2570     \{
2571         kmp\_int8 old\_value, new\_value;
2572 
2573         old\_value = *(kmp\_int8 *) lhs;
2574         (*f)( &new\_value, &old\_value, rhs );
2575 
2576         \textcolor{comment}{/* TODO: Should this be acquire or release? */}
2577         \textcolor{keywordflow}{while} ( !  \hyperlink{kmp__os_8h_a595d26e973de7e2012d0c93da326d08e}{KMP\_COMPARE\_AND\_STORE\_ACQ8} ( (kmp\_int8 *) lhs,
2578                                 *(kmp\_int8 *) &old\_value, *(kmp\_int8 *) &new\_value ) )
2579         \{
2580             \hyperlink{kmp_8h_a0ae7084deafcd923a77e45e93058c459}{KMP\_CPU\_PAUSE}();
2581 
2582             old\_value = *(kmp\_int8 *) lhs;
2583             (*f)( &new\_value, &old\_value, rhs );
2584         \}
2585 
2586         \textcolor{keywordflow}{return};
2587     \}
2588     \textcolor{keywordflow}{else} \{
2589         \textcolor{comment}{//}
2590         \textcolor{comment}{// All 1-byte data is of integer data type.}
2591         \textcolor{comment}{//}
2592 
2593 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2594 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2595             \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2596         \}
2597         \textcolor{keywordflow}{else}
2598 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2599 \textcolor{preprocessor}{}        \hyperlink{kmp__atomic_8h_ac1be0a9c351089f703c564012b5d4b2f}{\_\_kmp\_acquire\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_ae4cf18076c9b8b70e3e6234631724655}{\_\_kmp\_atomic\_lock\_1i}, gtid );
2600 
2601         (*f)( lhs, lhs, rhs );
2602 
2603 \textcolor{preprocessor}{#ifdef KMP\_GOMP\_COMPAT}
2604 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ( \hyperlink{group__ATOMIC__OPS_ga934bb88de29998410569745b7fd2c2e6}{\_\_kmp\_atomic\_mode} == 2 ) \{
2605             \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\_\_kmp\_atomic\_lock}, gtid );
2606         \}
2607         \textcolor{keywordflow}{else}
2608 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* KMP\_GOMP\_COMPAT */}\textcolor{preprocessor}{}
2609 \textcolor{preprocessor}{}        \hyperlink{kmp__atomic_8h_afacb1baa28f835a1e7111a011becef8b}{\_\_kmp\_release\_atomic\_lock}( & 
      \hyperlink{kmp__atomic_8c_ae4cf18076c9b8b70e3e6234631724655}{\_\_kmp\_atomic\_lock\_1i}, gtid );
2610     \}
2611 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock}}\label{kmp__atomic_8c_a917d5d190ec8786b54a79e041d2f916a}


Definition at line 551 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize(), K\-M\-P\-\_\-\-A\-P\-I\-\_\-\-N\-A\-M\-E\-\_\-\-G\-O\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-E\-N\-D(), and K\-M\-P\-\_\-\-A\-P\-I\-\_\-\-N\-A\-M\-E\-\_\-\-G\-O\-M\-P\-\_\-\-A\-T\-O\-M\-I\-C\-\_\-\-S\-T\-A\-R\-T().

\hypertarget{kmp__atomic_8c_abff0e9cfd79dc18171406798536bf543}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-10r}}\label{kmp__atomic_8c_abff0e9cfd79dc18171406798536bf543}


Definition at line 559 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_a2df19c6e1555ce5d33d4f8cb77d5b512}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16c}}\label{kmp__atomic_8c_a2df19c6e1555ce5d33d4f8cb77d5b512}


Definition at line 561 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_ae5df7c96c9bfb02f6aa16691618a2125}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-16r}}\label{kmp__atomic_8c_ae5df7c96c9bfb02f6aa16691618a2125}


Definition at line 560 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_ae4cf18076c9b8b70e3e6234631724655}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-1i}}\label{kmp__atomic_8c_ae4cf18076c9b8b70e3e6234631724655}


Definition at line 552 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_a217fcb3cacae498df8f49d7e9279405d}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-20c}}\label{kmp__atomic_8c_a217fcb3cacae498df8f49d7e9279405d}


Definition at line 562 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_a3e226fc78daba995532675879fc06823}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-2i}}\label{kmp__atomic_8c_a3e226fc78daba995532675879fc06823}


Definition at line 553 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_a6941912d51b6039c512f706674a2fcef}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-32c}}\label{kmp__atomic_8c_a6941912d51b6039c512f706674a2fcef}


Definition at line 563 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_a08fdf7dcf239a33099145c76187dd830}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4i}}\label{kmp__atomic_8c_a08fdf7dcf239a33099145c76187dd830}


Definition at line 554 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_afee5fb9d3bd10056ce526896d3ef126e}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-4r}}\label{kmp__atomic_8c_afee5fb9d3bd10056ce526896d3ef126e}


Definition at line 555 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_a00f00ea2df061e8c3bb4b79f48e8f699}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8c}}\label{kmp__atomic_8c_a00f00ea2df061e8c3bb4b79f48e8f699}


Definition at line 558 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_a6cf3b5db5e0375de58b9baf9819ba409}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8i}}\label{kmp__atomic_8c_a6cf3b5db5e0375de58b9baf9819ba409}


Definition at line 556 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

\hypertarget{kmp__atomic_8c_a071de2fc37a113ca2c3fd81fee089bb0}{\index{kmp\-\_\-atomic.\-c@{kmp\-\_\-atomic.\-c}!\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r}}
\index{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r@{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r}!kmp_atomic.c@{kmp\-\_\-atomic.\-c}}
\subsubsection[{\-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kmp\-\_\-atomic\-\_\-lock\-\_\-t} \-\_\-\-\_\-kmp\-\_\-atomic\-\_\-lock\-\_\-8r}}\label{kmp__atomic_8c_a071de2fc37a113ca2c3fd81fee089bb0}


Definition at line 557 of file kmp\-\_\-atomic.\-c.



Referenced by \-\_\-\-\_\-kmp\-\_\-do\-\_\-serial\-\_\-initialize().

