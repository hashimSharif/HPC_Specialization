\hypertarget{group__STATS__GATHERING}{\section{Statistics Gathering from O\-M\-P\-T\-B}
\label{group__STATS__GATHERING}\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}}
}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__STATS__GATHERING_ga49fb18e6ba9abac7dcf1f9a202741b66}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R}(macro, arg)
\begin{DoxyCompactList}\small\item\em Add new counters under \hyperlink{group__STATS__GATHERING_ga49fb18e6ba9abac7dcf1f9a202741b66}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R()} macro in \hyperlink{kmp__stats_8h_source}{kmp\-\_\-stats.\-h}. \end{DoxyCompactList}\item 
\#define \hyperlink{group__STATS__GATHERING_gab0bd69c3ce378f4f7079276311e034c0}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}(macro, arg)
\begin{DoxyCompactList}\small\item\em Add new explicit timers under \hyperlink{group__STATS__GATHERING_gab0bd69c3ce378f4f7079276311e034c0}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R()} macro. \end{DoxyCompactList}\item 
\#define \hyperlink{group__STATS__GATHERING_ga62f4b6e3a4ba48c04b172b97df137839}{K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K}(name)~block\-Timer \-\_\-\-\_\-\-B\-L\-O\-C\-K\-T\-I\-M\-E\-\_\-\-\_\-(\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Timer(T\-I\-M\-E\-R\-\_\-\#\#name), T\-I\-M\-E\-R\-\_\-\#\#name)
\begin{DoxyCompactList}\small\item\em Uses specified timer (name) to time code block. \end{DoxyCompactList}\item 
\#define \hyperlink{group__STATS__GATHERING_ga7691000a7864b475046ae62fcf0536ac}{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-V\-A\-L\-U\-E}(name, value)~\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Timer(T\-I\-M\-E\-R\-\_\-\#\#name)-\/$>$add\-Sample(value)
\begin{DoxyCompactList}\small\item\em Adds value to specified timer (name). \end{DoxyCompactList}\item 
\#define \hyperlink{group__STATS__GATHERING_ga7fa64ec62947bf0b97f3f4778dd22196}{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-B\-L\-O\-C\-K}(name)~\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Counter(C\-O\-U\-N\-T\-E\-R\-\_\-\#\#name)-\/$>$increment()
\begin{DoxyCompactList}\small\item\em Increments specified counter (name). \end{DoxyCompactList}\item 
\#define \hyperlink{group__STATS__GATHERING_ga8b26485fe6ad4f74b63e54c42fcfd875}{K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}(name)~\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Explicit\-Timer(E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R\-\_\-\#\#name)-\/$>$start(T\-I\-M\-E\-R\-\_\-\#\#name)
\begin{DoxyCompactList}\small\item\em \char`\"{}\-Starts\char`\"{} an explicit timer which will need a corresponding \hyperlink{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R()} macro. \end{DoxyCompactList}\item 
\#define \hyperlink{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}(name)~\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Explicit\-Timer(E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R\-\_\-\#\#name)-\/$>$stop(T\-I\-M\-E\-R\-\_\-\#\#name)
\begin{DoxyCompactList}\small\item\em \char`\"{}\-Stops\char`\"{} an explicit timer. \end{DoxyCompactList}\item 
\#define \hyperlink{group__STATS__GATHERING_ga568b0fdabf6bf808dcb3b42b97c7bc26}{K\-M\-P\-\_\-\-O\-U\-T\-P\-U\-T\-\_\-\-S\-T\-A\-T\-S}(heading\-\_\-string)~\-\_\-\-\_\-kmp\-\_\-output\-\_\-stats(heading\-\_\-string)
\begin{DoxyCompactList}\small\item\em Outputs the current thread statistics and reset them. \end{DoxyCompactList}\item 
\#define \hyperlink{group__STATS__GATHERING_gaa30e2155ac435335965e2e615c1eaea5}{K\-M\-P\-\_\-\-R\-E\-S\-E\-T\-\_\-\-S\-T\-A\-T\-S}()~\-\_\-\-\_\-kmp\-\_\-reset\-\_\-stats()
\begin{DoxyCompactList}\small\item\em resets all stats (counters to 0, timers to 0 elapsed ticks) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__STATS__GATHERING_ga438c2840cc2d516238ea3eb0f4c116b3}{stats\-\_\-flags\-\_\-e} \{ \\*
\hyperlink{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3ab0da7f248271bb150e59d37370c799b7}{no\-Total} = 1$<$$<$0, 
\hyperlink{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3ab1b2cd818808a4ee2cc1720286fbc51d}{only\-In\-Master} = 1$<$$<$1, 
\hyperlink{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a1c30b5719af4df0bdc7206f20559c6dc}{no\-Units} = 1$<$$<$2, 
\hyperlink{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a0939773e208cb608fe78bc80a4197523}{not\-In\-Master} = 1$<$$<$3, 
\\*
\hyperlink{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a53d50e56126850e531164b0bb1848c5e}{log\-Event} = 1$<$$<$4
 \}
\begin{DoxyCompactList}\small\item\em flags to describe the statistic (timer or counter) \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
These macros support profiling the libomp library. Use --stats=on when building with build.\-pl to enable and then use the K\-M\-P\-\_\-$\ast$ macros to profile (through counts or clock ticks) libomp during execution of an Open\-M\-P program.\hypertarget{group__STATS__GATHERING_sec_stats_env_vars}{}\subsection{Environment Variables}\label{group__STATS__GATHERING_sec_stats_env_vars}
This section describes the environment variables relevant to stats-\/gathering in libomp


\begin{DoxyCode}
KMP\_STATS\_FILE
\end{DoxyCode}
 This environment variable is set to an output filename that will be appended {\itshape N\-O\-T O\-V\-E\-R\-W\-R\-I\-T\-T\-E\-N} if it exists. If this environment variable is undefined, the statistics will be output to stderr


\begin{DoxyCode}
KMP\_STATS\_THREADS
\end{DoxyCode}
 This environment variable indicates to print thread-\/specific statistics as well as aggregate statistics. Each thread's statistics will be shown as well as the collective sum of all threads. The values \char`\"{}true\char`\"{}, \char`\"{}on\char`\"{}, \char`\"{}1\char`\"{}, \char`\"{}yes\char`\"{} will all indicate to print per thread statistics. 

\subsection{Macro Definition Documentation}
\hypertarget{group__STATS__GATHERING_ga7fa64ec62947bf0b97f3f4778dd22196}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-B\-L\-O\-C\-K@{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-B\-L\-O\-C\-K}}
\index{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-B\-L\-O\-C\-K@{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-B\-L\-O\-C\-K}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-B\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-B\-L\-O\-C\-K(
\begin{DoxyParamCaption}
\item[{}]{name}
\end{DoxyParamCaption}
)~\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Counter(C\-O\-U\-N\-T\-E\-R\-\_\-\#\#name)-\/$>$increment()}}\label{group__STATS__GATHERING_ga7fa64ec62947bf0b97f3f4778dd22196}


Increments specified counter (name). 


\begin{DoxyParams}{Parameters}
{\em name} & counter name as specified under the \hyperlink{group__STATS__GATHERING_ga49fb18e6ba9abac7dcf1f9a202741b66}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R()} macro\\
\hline
\end{DoxyParams}
Use \hyperlink{group__STATS__GATHERING_ga7fa64ec62947bf0b97f3f4778dd22196}{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-B\-L\-O\-C\-K(name, value)} macro to increment a statistics counter for the executing thread. 

Definition at line 653 of file kmp\-\_\-stats.\-h.



Referenced by \-\_\-\-\_\-kmpc\-\_\-barrier(), \-\_\-\-\_\-kmpc\-\_\-critical(), \-\_\-\-\_\-kmpc\-\_\-fork\-\_\-call(), \-\_\-\-\_\-kmpc\-\_\-fork\-\_\-teams(), \-\_\-\-\_\-kmpc\-\_\-master(), \-\_\-\-\_\-kmpc\-\_\-reduce(), \-\_\-\-\_\-kmpc\-\_\-reduce\-\_\-nowait(), and \-\_\-\-\_\-kmpc\-\_\-single().

\hypertarget{group__STATS__GATHERING_ga7691000a7864b475046ae62fcf0536ac}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-V\-A\-L\-U\-E@{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-V\-A\-L\-U\-E}}
\index{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-V\-A\-L\-U\-E@{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-V\-A\-L\-U\-E}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-V\-A\-L\-U\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-V\-A\-L\-U\-E(
\begin{DoxyParamCaption}
\item[{}]{name, }
\item[{}]{value}
\end{DoxyParamCaption}
)~\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Timer(T\-I\-M\-E\-R\-\_\-\#\#name)-\/$>$add\-Sample(value)}}\label{group__STATS__GATHERING_ga7691000a7864b475046ae62fcf0536ac}


Adds value to specified timer (name). 


\begin{DoxyParams}{Parameters}
{\em name} & timer name as specified under the K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-T\-I\-M\-E\-R() macro \\
\hline
{\em value} & double precision sample value to add to statistics for the timer\\
\hline
\end{DoxyParams}
Use \hyperlink{group__STATS__GATHERING_ga7691000a7864b475046ae62fcf0536ac}{K\-M\-P\-\_\-\-C\-O\-U\-N\-T\-\_\-\-V\-A\-L\-U\-E(name, value)} macro to add a particular value to a timer statistics. 

Definition at line 641 of file kmp\-\_\-stats.\-h.

\hypertarget{group__STATS__GATHERING_ga49fb18e6ba9abac7dcf1f9a202741b66}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R@{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R}}
\index{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R@{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R(
\begin{DoxyParamCaption}
\item[{}]{macro, }
\item[{}]{arg}
\end{DoxyParamCaption}
)}}\label{group__STATS__GATHERING_ga49fb18e6ba9abac7dcf1f9a202741b66}
{\bfseries Value\-:}
\begin{DoxyCode}
macro (OMP\_PARALLEL, \hyperlink{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3ab1b2cd818808a4ee2cc1720286fbc51d}{stats\_flags\_e::onlyInMaster} | 
      \hyperlink{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3ab0da7f248271bb150e59d37370c799b7}{stats\_flags\_e::noTotal}, arg) \(\backslash\)
    macro (OMP\_NESTED\_PARALLEL, 0, arg)                         \(\backslash\)
    macro (OMP\_FOR\_static, 0, arg)                              \(\backslash\)
    macro (OMP\_FOR\_dynamic, 0, arg)                             \(\backslash\)
    macro (OMP\_DISTRIBUTE, 0, arg)                              \(\backslash\)
    macro (OMP\_BARRIER, 0, arg)                                 \(\backslash\)
    macro (OMP\_CRITICAL,0, arg)                                 \(\backslash\)
    macro (OMP\_SINGLE, 0, arg)                                  \(\backslash\)
    macro (OMP\_MASTER, 0, arg)                                  \(\backslash\)
    macro (OMP\_TEAMS, 0, arg)                                   \(\backslash\)
    macro (OMP\_set\_lock, 0, arg)                                \(\backslash\)
    macro (OMP\_test\_lock, 0, arg)                               \(\backslash\)
    macro (REDUCE\_wait, 0, arg)                                 \(\backslash\)
    macro (REDUCE\_nowait, 0, arg)                               \(\backslash\)
    macro (OMP\_TASKYIELD, 0, arg)                               \(\backslash\)
    macro (TASK\_executed, 0, arg)                               \(\backslash\)
    macro (TASK\_cancelled, 0, arg)                              \(\backslash\)
    macro (TASK\_stolen, 0, arg)                                 \(\backslash\)
    macro (LAST,0,arg)
\end{DoxyCode}


Add new counters under \hyperlink{group__STATS__GATHERING_ga49fb18e6ba9abac7dcf1f9a202741b66}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-C\-O\-U\-N\-T\-E\-R()} macro in \hyperlink{kmp__stats_8h_source}{kmp\-\_\-stats.\-h}. 


\begin{DoxyParams}{Parameters}
{\em macro} & a user defined macro that takes three arguments -\/ macro(\-C\-O\-U\-N\-T\-E\-R\-\_\-\-N\-A\-M\-E, flags, arg) \\
\hline
{\em arg} & a user defined argument to send to the user defined macro\\
\hline
\end{DoxyParams}
A counter counts the occurrence of some event. Each thread accumulates its own count, at the end of execution the counts are aggregated treating each thread as a separate measurement. (Unless only\-In\-Master is set, in which case there's only a single measurement). The min,mean,max are therefore the values for the threads. Adding the counter here and then putting a K\-M\-P\-\_\-\-B\-L\-O\-C\-K\-\_\-\-C\-O\-U\-N\-T\-E\-R(name) at the point you want to count is all you need to do. All of the tables and printing is generated from this macro. Format is \char`\"{}macro(name, flags, arg)\char`\"{} 

Definition at line 70 of file kmp\-\_\-stats.\-h.

\hypertarget{group__STATS__GATHERING_gab0bd69c3ce378f4f7079276311e034c0}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R@{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}}
\index{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R@{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R(
\begin{DoxyParamCaption}
\item[{}]{macro, }
\item[{}]{arg}
\end{DoxyParamCaption}
)}}\label{group__STATS__GATHERING_gab0bd69c3ce378f4f7079276311e034c0}
{\bfseries Value\-:}
\begin{DoxyCode}
macro(OMP\_serial, 0, arg)                           \(\backslash\)
    macro(OMP\_start\_end, 0, arg)                        \(\backslash\)
    macro(OMP\_critical, 0, arg)                         \(\backslash\)
    macro(OMP\_single, 0, arg)                           \(\backslash\)
    macro(OMP\_master, 0, arg)                           \(\backslash\)
    KMP\_FOREACH\_EXPLICIT\_DEVELOPER\_TIMER(macro,arg)     \(\backslash\)
    macro(LAST, 0, arg)
\end{DoxyCode}


Add new explicit timers under \hyperlink{group__STATS__GATHERING_gab0bd69c3ce378f4f7079276311e034c0}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R()} macro. 


\begin{DoxyParams}{Parameters}
{\em macro} & a user defined macro that takes three arguments -\/ macro(\-T\-I\-M\-E\-R\-\_\-\-N\-A\-M\-E, flags, arg) \\
\hline
{\em arg} & a user defined argument to send to the user defined macro\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
Y\-O\-U M\-U\-S\-T H\-A\-V\-E T\-H\-E S\-A\-M\-E N\-A\-M\-E\-D T\-I\-M\-E\-R U\-N\-D\-E\-R K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-T\-I\-M\-E\-R() O\-R E\-L\-S\-E B\-A\-D T\-H\-I\-N\-G\-S W\-I\-L\-L H\-A\-P\-P\-E\-N!
\end{DoxyWarning}
Explicit timers are ones where we need to allocate a timer itself (as well as the accumulated timing statistics). We allocate these on a per-\/thread basis, and explicitly start and stop them. Block timers just allocate the timer itself on the stack, and use the destructor to notice block exit; they don't need to be defined here. The name here should be the same as that of a timer above. 

Definition at line 200 of file kmp\-\_\-stats.\-h.

\hypertarget{group__STATS__GATHERING_ga568b0fdabf6bf808dcb3b42b97c7bc26}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-O\-U\-T\-P\-U\-T\-\_\-\-S\-T\-A\-T\-S@{K\-M\-P\-\_\-\-O\-U\-T\-P\-U\-T\-\_\-\-S\-T\-A\-T\-S}}
\index{K\-M\-P\-\_\-\-O\-U\-T\-P\-U\-T\-\_\-\-S\-T\-A\-T\-S@{K\-M\-P\-\_\-\-O\-U\-T\-P\-U\-T\-\_\-\-S\-T\-A\-T\-S}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-O\-U\-T\-P\-U\-T\-\_\-\-S\-T\-A\-T\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-O\-U\-T\-P\-U\-T\-\_\-\-S\-T\-A\-T\-S(
\begin{DoxyParamCaption}
\item[{}]{heading\-\_\-string}
\end{DoxyParamCaption}
)~\-\_\-\-\_\-kmp\-\_\-output\-\_\-stats(heading\-\_\-string)}}\label{group__STATS__GATHERING_ga568b0fdabf6bf808dcb3b42b97c7bc26}


Outputs the current thread statistics and reset them. 


\begin{DoxyParams}{Parameters}
{\em heading\-\_\-string} & heading put above the final stats output\\
\hline
\end{DoxyParams}
Explicitly stops all timers and outputs all stats. Environment variable, {\ttfamily O\-M\-P\-T\-B\-\_\-\-S\-T\-A\-T\-S\-F\-I\-L\-E=filename}, can be used to output the stats to a filename instead of stderr Environment variable, {\ttfamily O\-M\-P\-T\-B\-\_\-\-S\-T\-A\-T\-S\-T\-H\-R\-E\-A\-D\-S=true$\vert$undefined}, can be used to output thread specific stats For now the {\ttfamily O\-M\-P\-T\-B\-\_\-\-S\-T\-A\-T\-S\-T\-H\-R\-E\-A\-D\-S} environment variable can either be defined with any value, which will print out thread specific stats, or it can be undefined (not specified in the environment) and thread specific stats won't be printed It should be noted that all statistics are reset when this macro is called. 

Definition at line 698 of file kmp\-\_\-stats.\-h.

\hypertarget{group__STATS__GATHERING_gaa30e2155ac435335965e2e615c1eaea5}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-R\-E\-S\-E\-T\-\_\-\-S\-T\-A\-T\-S@{K\-M\-P\-\_\-\-R\-E\-S\-E\-T\-\_\-\-S\-T\-A\-T\-S}}
\index{K\-M\-P\-\_\-\-R\-E\-S\-E\-T\-\_\-\-S\-T\-A\-T\-S@{K\-M\-P\-\_\-\-R\-E\-S\-E\-T\-\_\-\-S\-T\-A\-T\-S}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-R\-E\-S\-E\-T\-\_\-\-S\-T\-A\-T\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-R\-E\-S\-E\-T\-\_\-\-S\-T\-A\-T\-S(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~\-\_\-\-\_\-kmp\-\_\-reset\-\_\-stats()}}\label{group__STATS__GATHERING_gaa30e2155ac435335965e2e615c1eaea5}


resets all stats (counters to 0, timers to 0 elapsed ticks) 

Reset all stats for all threads. 

Definition at line 708 of file kmp\-\_\-stats.\-h.

\hypertarget{group__STATS__GATHERING_ga8b26485fe6ad4f74b63e54c42fcfd875}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R@{K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}}
\index{K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R@{K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R(
\begin{DoxyParamCaption}
\item[{}]{name}
\end{DoxyParamCaption}
)~\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Explicit\-Timer(E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R\-\_\-\#\#name)-\/$>$start(T\-I\-M\-E\-R\-\_\-\#\#name)}}\label{group__STATS__GATHERING_ga8b26485fe6ad4f74b63e54c42fcfd875}


\char`\"{}\-Starts\char`\"{} an explicit timer which will need a corresponding \hyperlink{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R()} macro. 


\begin{DoxyParams}{Parameters}
{\em name} & explicit timer name as specified under the \hyperlink{group__STATS__GATHERING_gab0bd69c3ce378f4f7079276311e034c0}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R()} macro\\
\hline
\end{DoxyParams}
Use to start a timer. This will need a corresponding \hyperlink{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R()} macro to stop the timer unlike the \hyperlink{group__STATS__GATHERING_ga62f4b6e3a4ba48c04b172b97df137839}{K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K(name)} macro which has an implicit stopping macro at the end of the code block. All explicit timers are stopped at library exit time before the final statistics are outputted. 

Definition at line 667 of file kmp\-\_\-stats.\-h.



Referenced by \-\_\-\-\_\-kmpc\-\_\-critical(), \-\_\-\-\_\-kmpc\-\_\-fork\-\_\-call(), \-\_\-\-\_\-kmpc\-\_\-master(), and \-\_\-\-\_\-kmpc\-\_\-single().

\hypertarget{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R@{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}}
\index{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R@{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R(
\begin{DoxyParamCaption}
\item[{}]{name}
\end{DoxyParamCaption}
)~\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Explicit\-Timer(E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R\-\_\-\#\#name)-\/$>$stop(T\-I\-M\-E\-R\-\_\-\#\#name)}}\label{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}


\char`\"{}\-Stops\char`\"{} an explicit timer. 


\begin{DoxyParams}{Parameters}
{\em name} & explicit timer name as specified under the \hyperlink{group__STATS__GATHERING_gab0bd69c3ce378f4f7079276311e034c0}{K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R()} macro\\
\hline
\end{DoxyParams}
Use \hyperlink{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R(name)} to stop a timer. When this is done, the time between the last \hyperlink{group__STATS__GATHERING_ga8b26485fe6ad4f74b63e54c42fcfd875}{K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R(name)} and this \hyperlink{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R(name)} will be added to the timer's stat value. The timer will then be reset. After the \hyperlink{group__STATS__GATHERING_ga6e4f12c6bec4068d72ef9e84516ad01d}{K\-M\-P\-\_\-\-S\-T\-O\-P\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R(name)} macro is called, another call to \hyperlink{group__STATS__GATHERING_ga8b26485fe6ad4f74b63e54c42fcfd875}{K\-M\-P\-\_\-\-S\-T\-A\-R\-T\-\_\-\-E\-X\-P\-L\-I\-C\-I\-T\-\_\-\-T\-I\-M\-E\-R(name)} will start the timer once again. 

Definition at line 681 of file kmp\-\_\-stats.\-h.



Referenced by \-\_\-\-\_\-kmpc\-\_\-end\-\_\-critical(), \-\_\-\-\_\-kmpc\-\_\-end\-\_\-master(), \-\_\-\-\_\-kmpc\-\_\-end\-\_\-single(), and \-\_\-\-\_\-kmpc\-\_\-fork\-\_\-call().

\hypertarget{group__STATS__GATHERING_ga62f4b6e3a4ba48c04b172b97df137839}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K@{K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K}}
\index{K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K@{K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K(
\begin{DoxyParamCaption}
\item[{}]{name}
\end{DoxyParamCaption}
)~block\-Timer \-\_\-\-\_\-\-B\-L\-O\-C\-K\-T\-I\-M\-E\-\_\-\-\_\-(\-\_\-\-\_\-kmp\-\_\-stats\-\_\-thread\-\_\-ptr-\/$>$get\-Timer(T\-I\-M\-E\-R\-\_\-\#\#name), T\-I\-M\-E\-R\-\_\-\#\#name)}}\label{group__STATS__GATHERING_ga62f4b6e3a4ba48c04b172b97df137839}


Uses specified timer (name) to time code block. 


\begin{DoxyParams}{Parameters}
{\em name} & timer name as specified under the K\-M\-P\-\_\-\-F\-O\-R\-E\-A\-C\-H\-\_\-\-T\-I\-M\-E\-R() macro\\
\hline
\end{DoxyParams}
Use \hyperlink{group__STATS__GATHERING_ga62f4b6e3a4ba48c04b172b97df137839}{K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K(name)} macro to time a code block. This will record the time taken in the block and use the destructor to stop the timer. Convenient! With this definition you can't have more than one K\-M\-P\-\_\-\-T\-I\-M\-E\-\_\-\-B\-L\-O\-C\-K in the same code block. I don't think that's a problem. 

Definition at line 628 of file kmp\-\_\-stats.\-h.



Referenced by \-\_\-\-\_\-kmpc\-\_\-barrier(), and \-\_\-\-\_\-kmpc\-\_\-critical().



\subsection{Enumeration Type Documentation}
\hypertarget{group__STATS__GATHERING_ga438c2840cc2d516238ea3eb0f4c116b3}{\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!stats\-\_\-flags\-\_\-e@{stats\-\_\-flags\-\_\-e}}
\index{stats\-\_\-flags\-\_\-e@{stats\-\_\-flags\-\_\-e}!Statistics Gathering from OMPTB@{Statistics Gathering from O\-M\-P\-T\-B}}
\subsubsection[{stats\-\_\-flags\-\_\-e}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf stats\-\_\-flags\-\_\-e}}}\label{group__STATS__GATHERING_ga438c2840cc2d516238ea3eb0f4c116b3}


flags to describe the statistic (timer or counter) 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{no\-Total@{no\-Total}!Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}}\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!no\-Total@{no\-Total}}\item[{\em 
\hypertarget{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3ab0da7f248271bb150e59d37370c799b7}{no\-Total}\label{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3ab0da7f248271bb150e59d37370c799b7}
}]do not show a T\-O\-T\-A\-L\-\_\-aggregation for this statistic \index{only\-In\-Master@{only\-In\-Master}!Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}}\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!only\-In\-Master@{only\-In\-Master}}\item[{\em 
\hypertarget{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3ab1b2cd818808a4ee2cc1720286fbc51d}{only\-In\-Master}\label{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3ab1b2cd818808a4ee2cc1720286fbc51d}
}]statistic is valid only for master \index{no\-Units@{no\-Units}!Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}}\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!no\-Units@{no\-Units}}\item[{\em 
\hypertarget{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a1c30b5719af4df0bdc7206f20559c6dc}{no\-Units}\label{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a1c30b5719af4df0bdc7206f20559c6dc}
}]statistic doesn't need units printed next to it in output \index{not\-In\-Master@{not\-In\-Master}!Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}}\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!not\-In\-Master@{not\-In\-Master}}\item[{\em 
\hypertarget{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a0939773e208cb608fe78bc80a4197523}{not\-In\-Master}\label{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a0939773e208cb608fe78bc80a4197523}
}]statistic is valid only for non-\/master threads \index{log\-Event@{log\-Event}!Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}}\index{Statistics Gathering from O\-M\-P\-T\-B@{Statistics Gathering from O\-M\-P\-T\-B}!log\-Event@{log\-Event}}\item[{\em 
\hypertarget{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a53d50e56126850e531164b0bb1848c5e}{log\-Event}\label{group__STATS__GATHERING_gga438c2840cc2d516238ea3eb0f4c116b3a53d50e56126850e531164b0bb1848c5e}
}]statistic can be logged on the event timeline when K\-M\-P\-\_\-\-S\-T\-A\-T\-S\-\_\-\-E\-V\-E\-N\-T\-S is on (valid only for timers) \end{description}
\end{Desc}


Definition at line 46 of file kmp\-\_\-stats.\-h.

